self.CavalryLogger&&CavalryLogger.start_js(["Wq+Q0"]),__d("PrivacyConst",[],function(e,t,r,n,i,s){i.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:0xe0c20ebaf41c,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:0x7093de3df144,FRIENDS_OF_FRIENDS:0xfa7f99ddd7a5,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:0x54e1f6da7c8a6,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,CAN_MESSAGE:8787545733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:0xd83e0a574fe9,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:0xa6dd21993cb5,ACTIVITIES:0x8344c7281272,INTERESTS:0x67673d5bc0f6,MUSIC:0x9cc593a3e8c5,BOOKS:0x5b9bf976857c,GAMES:0xb542d2766937,MOVIES:0xb6f100312401,TV_SHOWS:0x75ee1dab7185,SPORTS_PLAYED:0x763a0b56a699,FAVORITE_TEAMS:0xcce6130cd27a,FAVORITE_ATHLETES:0xb8f946227ef6,PEOPLE_I_ADMIRE:0xbf5718979a9b,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:0x9cf7e13ad607,FAVORITE_WEBSITES:0xa4157cd2d022,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:0x3cb09d6425568,COMPOSER_CUSTOM_EXCLUSION:0x3d822be9c56d7,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2},ExpansionType:{NONE:0,TAGS_ONLY:1}}},null),__d("ExternalTrackingTag",["AsyncSignal","TrackingPixel","Event"],function(e,t,r,n,i,s){var o={listenForElementClick:function(e,r,n,i,s){t("Event").listen(e,"click",function(){o.sendRequest(r,n,i,s)})},sendRequest:function(e,r,n,i){e&&(new(t("AsyncSignal"))("/ads/external_tracking_tag/",{href:e,tracking_tag_id:r,adgroup_id:n,ad_id:i}).send(),t("TrackingPixel").loadWithNoReferrer(e))}};i.exports=o},null),__d("FBLynxWrapper",["isFacebookURI","URI"],function(e,t,r,n,i,s){"use strict";var o={SUBDOMAIN:"l",SUBDOMAIN_M:"lm",PATH:"/",URL_PARAM:"u",ENC_PARAM:"e",isLynxLink:function(e){return!!e.getAttribute("data-lynx-async-dest")||(!!e.getAttribute("data-lynx-uri")||!!new(t("URI"))(e.href).isLinkshimURI())}};i.exports=o},null),__d("LitestandColumnManager",["Arbiter","BlueBar","Event","NavigationMessage","Run","SubscriptionsHandler","clamp","ge","getScrollPosition"],function(e,t,r,n,i,s){"use strict";function o(){g||(g=new(t("SubscriptionsHandler")),g.addSubscriptions(t("Arbiter").subscribe(t("NavigationMessage").NAVIGATION_BEGIN,function(){d(0),a()}),t("Event").listen(window,"resize",function(){t("BlueBar").hasFixedBlueBar()||(d(0),a())}),t("Event").listen(window,"scroll",function(){c()||a()})),t("Run").onLeave(function(){return g&&g.release()}))}function a(){g.release(),g=null}function c(){return!(l<=0)&&(d(t("clamp")(t("getScrollPosition")(window).y,0,l)),l>0)}function d(e){e!==l&&(u("leftCol",e),u("rightCol",e),l=e)}function u(e,r){var n=t("ge")(e);n&&(n.style.marginTop=r?r+"px":"")}var l=0,g=null,_={adjustVerticalWindowPosition:function(e,t){o(),d(t),window.scrollTo(e.x,e.y+l)}};i.exports=_},null),__d("LitestandStream",["csx","invariant","Arbiter","CSS","EventEmitter","LitestandColumnManager","LitestandStoryInsertionStatus","Run","ViewportBounds","getElementPosition","getScrollPosition","nullthrows"],function(e,t,r,n,i,s,o,a){var c=void 0,d=void 0,u=void 0,l=void 0,g=new(t("EventEmitter")),_={init:function(e,r,n,i){c=n,u=e,d=i,l||(l=t("Arbiter").subscribe("ufi/didUpdate",function(e,r){r.offsetY&&t("LitestandColumnManager").adjustVerticalWindowPosition(t("getScrollPosition")(window),r.offsetY)})),t("Run").onLeave(function(){l&&l.unsubscribe(),l=null,g.removeAllListeners("ready"),u=null}),g.emit("ready")},getStoriesSelector:function(){return"._5jmm"},getStreamRoot:function(){return u},getSectionID:function(){return c},getStoryID:function(){return d},isStory:function(e){return t("CSS").matchesSelector(e,"._5jmm")},canInsertNewerStories:function(){return!(t("ViewportBounds").getTop()>t("getElementPosition")(_.getStreamRoot()).y)&&t("LitestandStoryInsertionStatus").canInsert()},getFeedStreamID:function(){return parseInt(t("nullthrows")(u).id.split("feed_stream_")[1],16)%1e8},isReady:function(){return!!u},addReadyListener:function(e){return _.isReady()||a(0),g.once("ready",e)}};i.exports=_},null),__d("FeedAdsClickLogger",["Arbiter","AsyncRequest","Banzai","BanzaiODS","DataAttributeUtils","DOM","ExternalTrackingTag","FBLynxWrapper","LitestandMessages","LitestandStream","Parent","SLConfig","TrackingNodes","URI","collectDataAttributes","isFacebookURI","ge"],function(e,t,r,n,i,s){function o(){"use strict"}function a(e){var r=new(t("URI"))(e.href),n=t("collectDataAttributes")(e,["ft"]).ft,i=r.getQueryData();return i.ft=n,i.__md__=0,r.setQueryData(i),r}var c,d={},u=!1,l=[],g=!1;o.prototype.init=function(e){"use strict";c=t("SLConfig").gk.sl_replace_s,t("Arbiter").subscribe("ClickRefAction/new",this.onNewUserAction.bind(this)),g=e.see_more_logging_enabled,e.append_tracking_data_to_links&&(this.appendTrackingDataToLinks(),t("Arbiter").subscribe(t("LitestandMessages").STORIES_INSERTED,this.appendTrackingDataToLinks.bind(this)),t("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",this.appendTrackingDataToLinks.bind(this),t("Arbiter").SUBSCRIBE_NEW))},o.prototype.getStories=function(){"use strict";var e=t("LitestandStream").getStreamRoot();if(e)return t("DOM").scry(e,t("LitestandStream").getStoriesSelector());var r=t("ge")("home_stream");return r?t("DOM").scry(r,".uiStreamStory"):[]},o.prototype.appendTrackingDataToLinks=function(){"use strict";for(var e=this.getStories(),r=0;r<e.length;r++){var n=e[r];if(!(n in l)){var i=t("DataAttributeUtils").getDataFt(n);if(i&&(i.indexOf("ei")!==-1||i.indexOf("mei")!==-1)){for(var s=t("DOM").scry(n,"a"),o=0;o<s.length;o++){var d=s[o];if(null==d.getAttribute("ajaxify")&&null==d.getAttribute("rel")){var u=d.getAttribute("href");if(u&&"#"!==u.charAt(0)){var g=new(t("URI"))(d);t("isFacebookURI")(g)!==!1&&(g.isLinkshimURI()===!0||t("FBLynxWrapper").isLynxLink(d)||(!c||"/ads/about"!==g.getPath()&&"/about/ads"!==g.getPath())&&(d.setAttribute("href",a(d).toString()),d.setAttribute("onmousedown","this.href = this.href.replace('__md__=0', '__md__=1');")))}}}l.push(n)}}}},o.prototype.getHref=function(e){"use strict";return e.getAttribute&&(e.getAttribute("ajaxify")||e.getAttribute("data-endpoint"))||e.action||e.href},o.prototype.sendLogRequest=function(e,r){"use strict";var n=e.ei||e.ai;if(!n&&e.mei&&(n=e.mf_story_key),null!==e&&"string"==typeof n){var i=!1;if(e.tn)for(var s=t("TrackingNodes").parseTrackingNodeString(e.tn),o=0;o<s.length;o++){var a=s[o][0];switch(a){case t("TrackingNodes").types.LIKE_LINK:case t("TrackingNodes").types.UNLIKE_LINK:case t("TrackingNodes").types.COMMENT:case t("TrackingNodes").types.COMMENT_LINK:case t("TrackingNodes").types.ADD_COMMENT_BOX:case t("TrackingNodes").types.MULTI_ATTACHMENT_VIDEO:return;case t("TrackingNodes").types.XBUTTON:case t("TrackingNodes").types.HIDE_LINK:case t("TrackingNodes").types.REPORT_SPAM_LINK:case t("TrackingNodes").types.HIDE_ALL_LINK:case t("TrackingNodes").types.DROPDOWN_BUTTON:case t("TrackingNodes").types.UNHIDE_LINK:return;case t("TrackingNodes").types.RELATED_SHARE_ARTICLE:case t("TrackingNodes").types.RELATED_SHARE_VIDEO:return;case t("TrackingNodes").types.ATTACHMENT:case t("TrackingNodes").types.USER_MESSAGE:i=!0}}var c=Date.now(),u=500;e.duplicate_click=!!d[n]&&c-d[n]<u,d[n]=c;var l=new(t("AsyncRequest"))("/ajax/ssinfeed/end/").setData(e).setAllowCrossPageTransition(!0).setMethod("POST");l.send();var g=e.href;new(t("URI"))(g).isLinkshimURI()&&new(t("URI"))(g).getQueryData()&&(g=new(t("URI"))(g).getQueryData().u),i&&!e.duplicate_click&&null!==r&&r.url&&g&&t("isFacebookURI")(new(t("URI"))(g))===!1&&(t("ExternalTrackingTag").sendRequest(r.url,r.tag_id,r.adgroup_id),t("BanzaiODS").bumpEntityKey("external_tracking_tags","request_sent"))}},o.prototype.onNewUserAction=function(e,r){"use strict";if(r.node){var n=this.getHref(r.node),i=t("Parent").byTag(r.node,"input")||t("Parent").byTag(r.node,"button");!n&&i&&"submit"==i.type&&i.getAttribute&&t("DataAttributeUtils").getDataFt(i)&&(n="#"),r.event&&"A"===r.node.tagName&&r.event.defaultPrevented&&g&&(n="#");var s,o;n&&r.event&&("click"===r.event.type||"contextmenu"===r.event.type)&&(s=t("collectDataAttributes")(r.node,["ft"]),s.ft.href=n,s.ft.mouse_type=r.event.type,o=t("collectDataAttributes")(r.node,["external-tracking-tags"]),this.sendLogRequest(s.ft,o["external-tracking-tags"]))}},i.exports={init:function(e){u===!1&&((new o).init(e),u=!0)},buildURL:a}},null),__d("SLPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(e,t,r,n,i,s){"use strict";function o(){this.clear()}o.prototype.log=function(){t("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$SLPerfTypedLogger1,t("Banzai").BASIC)},o.prototype.logVital=function(){t("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$SLPerfTypedLogger1,t("Banzai").VITAL)},o.prototype.clear=function(){return this.$SLPerfTypedLogger1={},this},o.prototype.updateData=function(e){return this.$SLPerfTypedLogger1=babelHelpers["extends"]({},this.$SLPerfTypedLogger1,e),this},o.prototype.setCount=function(e){return this.$SLPerfTypedLogger1.count=e,this},o.prototype.setDurationMs=function(e){return this.$SLPerfTypedLogger1.duration_ms=e,this},o.prototype.setEvent=function(e){return this.$SLPerfTypedLogger1.event=e,this};i.exports=o},null),__d("SLUtils",["csx","cx","Arbiter","DOM","Event","FeedAdsClickLogger","LitestandMessages","LitestandStream","Map","SLConfig","SLPerfTypedLogger","URI","clearTimeout","curry","cxodecode","goURI","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions"],function(e,t,r,n,i,s,o,a){"use strict";function c(e,r){U||(U=!0,t("SLConfig").gk.s_link_utils&&(N()&&(v().setEvent("init").log(),M("init_timer")),d(),t("SLConfig").gk.sl_replace_about_link&&g(function(e,t){return _(e,t)}),t("SLConfig").gk.sl_replace_s&&function(){T(e);var n=r.map(function(e){return{nonce:t("cxodecode")(e.nonce),className:t("cxodecode")(e.className)}});g(function(e,r){n.forEach(function(r){var n=t("DOM").scry(e,r.nonce);n.forEach(function(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.className=t("joinClasses")(e.className,r.className)})})})}(),t("SLConfig").gk.sl_replace_subtitle&&(b(),g(function(e,t){E(e,t),R(t)}),t("setIntervalAcrossTransitions")(A,t("SLConfig").sv.interval)),u(),N()&&v().setEvent("init_duration").setDurationMs(D("init_timer")).log()))}function d(){t("Arbiter").subscribe(t("LitestandMessages").STORIES_INSERTED,u),t("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",u,t("Arbiter").SUBSCRIBE_NEW)}function u(){N()&&M("hsa_timer"),t("clearTimeout")(F),F=null;var e=[],r=f(),n=L(),i=!1;n.forEach(function(t){if(t.id&&!r.has(t.id)){if(!p(t,t.id))return void(i=!0);r.set(t.id,t),e.push([t,t.id])}}),i&&(F=t("setTimeoutAcrossTransitions")(u,t("SLConfig").sv.sl_content_waiting_delay),N()&&v().setEvent("hsa_waiting_for_content").log()),N()&&v().setEvent("hsa_stories_added").setCount(e.length).log(),0!==e.length&&(e.forEach(function(e){var t=e[0],r=e[1];return l().forEach(function(e){return e(t,r)})}),N()&&v().setEvent("hsa_duration").setDurationMs(D("hsa_timer")).log())}function l(){return P}function g(e){P.push(e)}function _(e,r){var n=p(e,r);if(!n)return void(N()&&v().setEvent("usl_real_subtitle_missing").log());var i=t("DOM").scry(n,"a"),s=i.filter(function(e){var r=new(t("URI"))(e.href).getPath();return"/ads/about"===r||"/about/ads"===r});N()&&v().setEvent("usl_links_updated").setCount(s.length).log(),s.forEach(function(e){var r=t("FeedAdsClickLogger").buildURL(e);t("Event").listen(e,"click",t("curry")(S,r)),e.href="#"})}function S(e,r){t("goURI")(e.toString().replace("__md__=0","__md__=1")),t("Event").stop(r)}function f(){return k}function p(e,r){var n=null;n=x.has(r)?x.get(r):e;var i=t("DOM").scry(n,"._5pcp");return 0===i.length?null:i[0]}function E(e,r){if(!x.has(r)&&!B.has(r)){var n=h();if(!n)return void(N()&&v().setEvent("es_subtitle_container_missing").log());var i=t("DOM").scry(e,"._5pcp");if(N()&&v().setEvent("es_subtitle_count").setCount(i.length).log(),0!==i.length){var s=i[0],o=s.parentNode;if(s&&o){var a=m();s.parentNode.replaceChild(a,s);var c=I(s);n.appendChild(c),x.set(r,c),B.set(r,a)}}}}function R(e){C()&&M("usp_timer");var t=y();if(!t)return void(N()&&v().setEvent("usp_feed_root_missing").log());var r=B.get(e);if(!r)return void(N()&&v().setEvent("usp_fake_missing").log());var n=x.get(e);if(!n)return void(N()&&v().setEvent("usp_real_missing").log());var i=t.getBoundingClientRect(),s=r.getBoundingClientRect(),o=0!==s.top&&0!==s.left;n.style.display=o?"initial":"none",n.style.top=s.top-i.top+"px",n.style.left=s.left-i.left+"px",C()&&v().setEvent("usp_duration").setDurationMs(D("usp_timer")).log()}function A(){C()&&M("eausp_duration"),O();var e=f();e.forEach(function(e,t){E(e,t),R(t)}),C()&&v().setEvent("eausp_duration").setDurationMs(D("eausp_duration")).setCount(e.size).log()}function m(){return t("DOM").create("div",{"class":"_4kgx"})}function I(e){return t("DOM").create("div",{style:"position: absolute; z-index: 1;"},e)}function T(e){var r=document.createElement("style");r.type="text/css",r.textContent=t("cxodecode")(e),document.getElementsByTagName("head")[0].appendChild(r)}function h(){return w}function b(){if(!w){var e=y();w=t("DOM").create("div",{style:"position: relative;"}),e.insertBefore(w,e.firstChild)}}function O(){if(w){var e=y();w.parentNode!==e&&(t("DOM").remove(w),e.insertBefore(w,e.firstChild))}}function y(){return t("LitestandStream").getStreamRoot()||document.body}function L(){return t("DOM").scry(y(),"._5pat")}function N(){return!!t("SLConfig").gk.sl_perf_logging}function C(){return!!t("SLConfig").gk.sl_perf_logging_heavy}function v(){return new(t("SLPerfTypedLogger"))}function M(e){V.set(e,Date.now())}function D(e){var t=V.get(e);return null==t?-1:Date.now()-t}var U=!1,F=null,P=[],k=new(t("Map")),x=new(t("Map")),B=new(t("Map")),w=null,V=new(t("Map")),H={init:c};i.exports=H},null),__d("UFIOrderingModeSelector.react",["cx","invariant","ix","Image.react","InlineBlock.react","Link.react","PopoverMenu.react","React","ReactXUIMenu"],function(e,t,r,n,i,s,o,a,c){"use strict";function d(){for(var e,t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=(e=l.constructor).call.apply(e,[this].concat(n)),this.onMenuItemClick=function(e,t){this.props.onOrderChanged(t.item.getValue())}.bind(this),t}var u,l,g=t("React").PropTypes,_=t("ReactXUIMenu").SelectableMenu,S=t("ReactXUIMenu").SelectableItem;u=babelHelpers.inherits(d,t("React").Component),l=u&&u.prototype,d.prototype.render=function(){if(0===this.props.orderingModes.length)return null;var e=this.props.orderingModes.filter(function(e){return e.value==this.props.selectedMode}.bind(this)).map(function(e){return e.name}).pop();e||a(0);var r=t("React").createElement(_,{className:"_4tju",onItemClick:this.onMenuItemClick},this.props.orderingModes.map(function(e){return t("React").createElement(S,{key:e.value,value:e.value,label:e.name,selected:e.value===this.props.selectedMode},t("React").createElement("div",{className:"_3scm"},t("React").createElement("div",{className:"_3scn"},e.name),t("React").createElement("div",{className:"_3sco"},e.description)))}.bind(this)));return t("React").createElement("div",{className:"_3scp"},t("React").createElement(t("InlineBlock.react"),null,t("React").createElement(t("PopoverMenu.react"),{className:"_3scs",menu:r,alignh:"right"},t("React").createElement(t("Link.react"),null,e,t("React").createElement(t("Image.react"),{className:"_3sct",src:c("images/ui/xhp/link/more/down_caret.gif")})))))},d.propTypes={onOrderChanged:g.func.isRequired,orderingModes:g.arrayOf(g.shape({name:g.string.isRequired,description:g.string,value:g.string.isRequired})).isRequired,selectedMode:g.string.isRequired},i.exports=d},null),__d("CommentsOrderingModeSelectorUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(e,t,r,n,i,s){"use strict";function o(){this.clear()}o.prototype.log=function(){t("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$CommentsOrderingModeSelectorUsageTypedLogger1,t("Banzai").BASIC)},o.prototype.logVital=function(){t("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$CommentsOrderingModeSelectorUsageTypedLogger1,t("Banzai").VITAL)},o.prototype.clear=function(){return this.$CommentsOrderingModeSelectorUsageTypedLogger1={},this},o.prototype.updateData=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1=babelHelpers["extends"]({},this.$CommentsOrderingModeSelectorUsageTypedLogger1,e),this},o.prototype.setAvailableOrders=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1.available_orders=t("GeneratedLoggerUtils").serializeVector(e),this},o.prototype.setEndOrder=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1.end_order=e,this},o.prototype.setPostFBID=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1.post_fbid=e,this},o.prototype.setPostOwnerFBID=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1.post_owner_fbid=e,this},o.prototype.setStartOrder=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1.start_order=e,this},o.prototype.setVC=function(e){return this.$CommentsOrderingModeSelectorUsageTypedLogger1.vc=e,this};i.exports=o},null),__d("UFIOrderingModeSelectorContainer.react",["CommentsOrderingModeSelectorUsageTypedLogger","Random","React","SubscriptionsHandler","UFIConfig","UFIInstanceAction","UFIOrderingModeSelector.react","UFIOrderingModeStore","UFISharedDispatcher"],function(e,t,r,n,i,s){"use strict";function o(){for(var e,r,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=(e=c.constructor).call.apply(e,[this].concat(i)),this.state={selectedMode:t("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid)},this.$UFIOrderingModeSelectorContainer1=null,this.onOrderChanged=function(e){var r=this.props.feedback;if(r.orderingmodes&&t("UFIConfig").logChangeOrderingModeUsageSampleRate>t("Random").random()){var n=r.orderingmodes.map(function(e){return e.value});(new(t("CommentsOrderingModeSelectorUsageTypedLogger"))).setStartOrder(this.state.selectedMode).setEndOrder(e).setPostFBID(r.commentstargetfbid).setPostOwnerFBID(r.ownerid).setAvailableOrders(n).log()}t("UFISharedDispatcher").dispatch(t("UFIInstanceAction").changeOrderingMode(this.props.contextArgs,e))}.bind(this),r}var a,c,d=t("React").PropTypes;a=babelHelpers.inherits(o,t("React").Component),c=a&&a.prototype,o.prototype.componentDidMount=function(){this.$UFIOrderingModeSelectorContainer1=new(t("SubscriptionsHandler")),this.$UFIOrderingModeSelectorContainer1.addSubscriptions(t("UFIOrderingModeStore").addListener(function(){this.$UFIOrderingModeSelectorContainer1&&this.setState({selectedMode:t("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid)})}.bind(this)))},o.prototype.componentWillUnmount=function(){this.$UFIOrderingModeSelectorContainer1&&(this.$UFIOrderingModeSelectorContainer1.release(),this.$UFIOrderingModeSelectorContainer1=null)},o.prototype.shouldComponentUpdate=function(e,t){return this.state.selectedMode!==t.selectedMode},o.prototype.render=function(){return t("React").createElement(t("UFIOrderingModeSelector.react"),{onOrderChanged:this.onOrderChanged,orderingModes:this.props.feedback.orderingmodes,selectedMode:this.state.selectedMode})},o.propTypes={feedback:d.shape({defaultcommentorderingmode:d.string.isRequired,orderingmodes:d.arrayOf(d.shape({name:d.string.isRequired,description:d.string.isRequired,selected:d.bool.isRequired,value:d.string.isRequired})).isRequired,commentstargetfbid:d.string.isRequired,ownerid:d.string.isRequired}).isRequired,contextArgs:d.object.isRequired},i.exports=o},null),__d("FeedTrackingAsync",["Arbiter","Run","collectDataAttributes"],function(e,t,r,n,i,s){var o;i.exports.init=function(){o||(o=t("Arbiter").subscribe("AsyncRequest/send",function(e,r){var n=r.request,i=n.getRelativeTo();if(i){var s=n.getData(),o=t("collectDataAttributes")(i,["ft"]);o.ft&&Object.keys(o.ft).length&&Object.assign(s,o)}}),t("Run").onLeave(function(){o.unsubscribe(),o=null}))}},null),__d("FbFeedAccessible",["csx","fbt","invariant","AccessibilityConfig","Arbiter","ARIA","BootloadedComponent.react","CSS","DataAttributeUtils","DOMQuery","JSResource","LitestandMessages","React","ReactDOM","SubscriptionsHandler","ge","getOrCreateDOMID"],function(e,t,r,n,i,s,o,a,c){var d="Accessibility/StoriesRequested",u="Accessibility/StoriesLoaded",l="Accessibility/StoryContentInserted",g="Accessibility/SubstreamInserted",_=void 0,S=void 0,f={init:function(e){if(_=e,t("AccessibilityConfig").a11yNewsfeedStoryEnumeration){var r=new(t("SubscriptionsHandler"));r.addSubscriptions(t("Arbiter").subscribe(t("LitestandMessages").STORIES_REQUESTED,this._onStoriesRequested.bind(this)),t("Arbiter").subscribe(t("LitestandMessages").STORIES_INSERTED,this._onInsertedSubstream.bind(this)),t("Arbiter").subscribe(t("LitestandMessages").NEWER_STORIES_INSERTED,this._onInsertedSubstream.bind(this)),t("Arbiter").subscribe(u,this._processStoriesLoaded.bind(this)),t("Arbiter").subscribe(d,this._processStoriesRequested.bind(this)),t("Arbiter").subscribe(l,this._processStoryContentInserted.bind(this)),t("Arbiter").subscribe(g,this._processInsertedSubstream.bind(this))),this._enumerateStories()}},informStoryContentInserted:function(e){t("Arbiter").inform(l,e),this.setAriaLabelledBy(e)},setAriaLabelledBy:function(e){var r,n=t("ge")(e);if(n&&this._isStory(n)){if(n.getAttribute("aria-labelledby"))return;r=this._filterForElement(n,["._4gns","._5pbw",".timestampContent","._5pbx"]),r.length>0&&n.setAttribute("aria-labelledby",r.map(function(e){return t("getOrCreateDOMID")(e)}).join(" "))}},_getStories:function(e){return t("DOMQuery").scry(e||_,"._5jmm")},_onInsertedSubstream:function(e,r){r&&r.substream_id&&t("Arbiter").inform(g,r.substream_id)},_onStoriesRequested:function(){t("Arbiter").inform(d)},_setEnumerationText:function(e,r,n){var i=t("React").createElement(t("BootloadedComponent.react"),{bootloadLoader:t("JSResource")("FbFeedPager.react").__setRef("FbFeedAccessible"),bootloadPlaceholder:t("React").createElement("div",null),position:r,total:n,"aria-hidden":"true"});t("ReactDOM").render(i,e)},_enumerateStories:function(){var e=this._getStories(_);S=e.length,e.forEach(function(e,t){this._enumerateStory(e,t+=1)}.bind(this))},_enumerateSubstream:function(e){var r=this._getStories();S=r.length;for(var n=this._getStories(t("ge")(e)),i=n.length||0,s=0;s<i;s++)this._registerStoryEnumerationPosition(n[s],S-i+(s+1),s+1)},_enumerateStory:function(e,r){if(this._isStory(e)||c(0),r>0){var n=t("DOMQuery").scry(e,"._4gns");n&&n[0]&&this._setEnumerationText(n[0],r,S)}},_processStoriesLoaded:function(){t("ARIA").notify(a._("More stories loaded."))},_processStoriesRequested:function(){t("ARIA").notify(a._("More stories requested."))},_processInsertedSubstream:function(e,t){this._enumerateSubstream(t),this._enumerateStories()},_processStoryContentInserted:function(e,r){var n=void 0,i=t("ge")(r);if(i&&(n=JSON.parse(t("DataAttributeUtils").getDataFt(i))),n&&n.ordinal_position){var s=n.ordinal_position.split(":"),o=s[0],a=s[1];o=parseInt(o,10),a=parseInt(a,10),this._enumerateStory(i,o),1===a&&t("Arbiter").inform(u)}},_registerStoryEnumerationPosition:function(e,r,n){var i=JSON.parse(t("DataAttributeUtils").getDataFt(e));i&&(i.ordinal_position=r+":"+n,t("DataAttributeUtils").setDataFt(e,JSON.stringify(i)))},_isStory:function(e){return t("CSS").matchesSelector(e,"._5jmm")},_filterForElement:function(e,r){return r.map(function(r){return t("DOMQuery").scry(e||document,r)[0]}).filter(function(e){return!!e})}};i.exports=f},null);
//# sourceMappingURL=maps/MA7syEpNQb7.js.map
