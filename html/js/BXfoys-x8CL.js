self.CavalryLogger&&CavalryLogger.start_js(["rSuaG"]),__d("EmbeddedVideoSettingsMenu.react",["cx","fbt","React","URI","MessengerEnvironment","shallowCompare","isFacebookURI"],function(t,e,s,o,i,a,n,l){function r(){"use strict";c.constructor.call(this)}var u,c,p=e("React").PropTypes,h=/(instagram)/g;u=babelHelpers.inherits(r,e("React").Component),c=u&&u.prototype,r.prototype.shouldComponentUpdate=function(t,s){"use strict";return e("shallowCompare")(this,t,s)},r.prototype.componentWillMount=function(){"use strict";this.setState({autoSelectVideoQuality:this.props.canAutoSelectVideoQuality})},r.prototype.createMenuItem=function(t,s,o,i,a){"use strict";var n=function(){};s&&(n=function(t){i(),t.preventDefault()});var l="_4v8v"+(s?"":" _5rk-"),r=void 0;if("checkBox"===a){var u=null;s&&o&&(u=e("React").createElement("div",{className:"_25d1"})),r=e("React").createElement("div",{className:"_4v8w"},u)}else if("radioButton"===a){var c=null;s&&o&&(c=e("React").createElement("div",{className:"_2xyd"})),r=e("React").createElement("div",{className:"_2xyg"},c)}return e("React").createElement("a",{href:"#",key:t,className:l,onBlur:this.props.onBlurMenuItem,onClick:n,onFocus:this.props.onFocusMenuItem,tabIndex:this.props.tabIndex},r,e("React").createElement("div",{className:"_4v8x"},t))},r.prototype.showQualitySelector=function(){"use strict";return this.props.showQualitySelector&&"dash"===this.props.streamingFormat&&!!this.props.availableQualities&&this.props.availableQualities.length>=this.props.qualitySelectorMinStreams&&this.props.availableQualities.every(function(t){return!!t})},r.prototype.render=function(){"use strict";var t=null,s=null,o=null;this.showQualitySelector()&&this.props.availableQualities?(t=this.props.availableQualities.map(function(t){return this.createMenuItem(t,!0,t==this.props.selectedQuality,function(){this.setState({autoSelectVideoQuality:!1}),this.props.onSelectQuality(t)}.bind(this),"radioButton")}.bind(this)),s=this.createMenuItem(l._("Auto"),this.props.canAutoSelectVideoQuality,this.state.autoSelectVideoQuality,function(){this.setState({autoSelectVideoQuality:!0}),this.props.onSelectQuality(null)}.bind(this),"checkBox"),t.reverse()):o=this.createMenuItem(l._("HD"),this.props.hasHD,this.props.isHD,this.props.onToggleHD,"checkBox");var i=this.createMenuItem(l._("Captions"),this.props.hasSubtitles,this.props.areSubtitlesActive,this.props.onToggleSubtitles,"checkBox"),a=l._("More settings"),n=new(e("URI"))("/settings/?tab=videos"),r=n.getQualifiedURI().getSubdomain();"business"===r&&n.setSubdomain("www"),e("isFacebookURI")(n)||n.setDomain(n.getDomain().replace(h,"facebook")),e("MessengerEnvironment").messengerui&&n.setDomain("facebook.com").setSubdomain(r).setProtocol("https");var u=e("React").createElement("a",{href:n,target:"_blank",className:"_5rl2",onBlur:this.props.onBlurMenuItem,onFocus:this.props.onFocusMenuItem,tabIndex:this.props.tabIndex},a);return e("React").createElement("div",{className:"_4v8y"},e("React").createElement("div",{className:"_28h1"},o,s,t,i,u),e("React").createElement("div",{className:"_4v8z"}))},r.propTypes={areSubtitlesActive:p.bool,hasHD:p.bool,hasSubtitles:p.bool,isHD:p.bool,onToggleHD:p.func,onToggleSubtitles:p.func,tabIndex:p.string,availableQualities:p.array,selectedQuality:p.string,canAutoSelectVideoQuality:p.bool,onSelectQuality:p.func,showQualitySelector:p.bool,qualitySelectorMinStreams:p.number,streamingFormat:p.string},r.defaultProps={tabIndex:"-1",availableQualities:null,selectedQuality:null,canAutoSelectVideoQuality:!1,showQualitySelector:!1,qualitySelectorMinStreams:2,streamingFormat:null,onSelectQuality:function(){}},i.exports=r},null),__d("EmbeddedVideoSettingsControl.react",["ix","cx","fbt","AbstractButton.react","BanzaiODS","Image.react","React","ReactDOM","EmbeddedVideoSettingsMenu.react","fbglyph","setImmediate","shallowCompare"],function(t,e,s,o,i,a,n,l,r){function u(t){"use strict";p.constructor.call(this,t),this.state={isFocus:!1,isFocusMenuItem:!1}}var c,p,h=e("React").PropTypes;c=babelHelpers.inherits(u,e("React").Component),p=c&&c.prototype,u.prototype.shouldComponentUpdate=function(t,s){"use strict";return e("shallowCompare")(this,t,s)},u.prototype.onMouseOut=function(t){"use strict";e("ReactDOM").findDOMNode(this.refs.button).blur()},u.prototype.onButtonFocus=function(t){"use strict";this.setState({isFocus:!0})},u.prototype.onButtonBlur=function(){"use strict";this.setState({isFocusMenuItem:!1}),e("setImmediate")(function(){this.state.isFocusMenuItem||this.setState({isFocus:!1})}.bind(this))},u.prototype.onMouseEnter=function(t){"use strict";!this.props.disabled&&this.refs.menu.showQualitySelector()&&e("BanzaiODS").bumpEntityKey("videos","quality_selector.impression")},u.prototype.render=function(){"use strict";var t=e("React").createElement(e("Image.react"),{className:"_5i0o",src:n("images/assets_DO_NOT_HARDCODE/fb_glyphs/gear_24_fig-white.png")}),s=r._("Additional Visual Settings"),o=null;this.props.disabled||(o=e("React").createElement("div",{className:"_42fl"+(this.state.isFocus?" _4v4":"")},e("React").createElement(e("EmbeddedVideoSettingsMenu.react"),{areSubtitlesActive:this.props.areSubtitlesActive,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,onBlurMenuItem:this.onButtonBlur.bind(this),onFocusMenuItem:function(){this.setState({isFocusMenuItem:!0})}.bind(this),onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,ref:"menu"})));var i="_3u33"+(this.props.disabled?" _17bp":""),a=e("React").createElement(e("AbstractButton.react"),{className:i,disabled:this.props.disabled,image:t,label:s,labelIsHidden:!0,onBlur:this.onButtonBlur.bind(this),onFocus:this.onButtonFocus.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"});return e("React").createElement("div",{className:"_1esn",onMouseEnter:this.onMouseEnter.bind(this)},o,a)},u.propTypes={disabled:h.bool,hasHD:h.bool,hasSubtitles:h.bool,isHD:h.bool,areSubtitlesActive:h.bool,onToggleHD:h.func,onToggleSubtitles:h.func,tabIndex:h.string,availableQualities:h.array,selectedQuality:h.string,canAutoSelectVideoQuality:h.bool,onSelectQuality:h.func,showQualitySelector:h.bool,qualitySelectorMinStreams:h.number,streamingFormat:h.string},u.defaultProps={tabIndex:"-1"},i.exports=u},null);
//# sourceMappingURL=maps/BXfoys-x8CL.js.map
