self.CavalryLogger&&CavalryLogger.start_js(["mZ4mj"]),__d("VideoChannelEntryPoint",[],function(e,t,o,i,n,r){n.exports={CASTING:"casting",CONNECTED_TV_PLAYER:"connected_tv_player",GROUP:"group",NEWSFEED:"newsfeed",PAGE:"page",PROFILE:"profile",SAVED_STORY:"saved_story",SEARCH:"search",SEARCH_TOPIC_MEDIA:"search_topic_media",PERMALINK:"permalink",WWW_RHC:"www_rhc",VIDEO_HOME:"video_home",VIDEO_HOME_LATEST_FROM_PAGES_CHANNEL:"video_home_latest_from_pages_channel",VIDEO_HOME_SAVED_CHANNEL:"video_home_saved_channel",VIDEO_HOME_SHARED_WITH_YOU_CHANNEL:"video_home_shared_with_you_channel",VIDEO_HOME_TOP_CHANNEL:"video_home_top_channel",VIDEO_HOME_WATCHED_CHANNEL:"video_home_watched_channel",VIDEO_HOME_DOWNLOADED_CHANNEL:"video_home_downloaded_channel",UNKNOWN:"unknown",LIVE_MAP:"live_map",PLAYLIST:"playlist",ELECTION_HUB:"election_hub"}},null),__d("VideoChannelLoggerEvents",[],function(e,t,o,i,n,r){n.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"}},null),__d("VideoChannelLoggerFields",[],function(e,t,o,i,n,r){n.exports={DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",HAS_NEXT_PAGE:"has_next_page",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"}},null),__d("VideoChannelRequestStatus",[],function(e,t,o,i,n,r){n.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"}},null),__d("VideoPlayerFallbackEvents",[],function(e,t,o,i,n,r){n.exports={ENTER:"VideoPlayerFallbackEvents/enter",RECOVER:"VideoPlayerFallbackEvents/recover"}},null),__d("VideoStereoFormat",[],function(e,t,o,i,n,r){n.exports={MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"}},null),__d("VideoWebDriverIDs",[],function(e,t,o,i,n,r){n.exports={FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control"}},null),__d("XPubcontentRelatedVideoInlineController",["XController"],function(e,t,o,i,n,r){n.exports=t("XController").create("/pubcontent/related_video_inline/",{fbvideo_id:{type:"Int",required:!0},query_id:{type:"String",required:!0},mf_story_key:{type:"String",required:!0},root_video_id:{type:"Int"}})},null),__d("EntstreamAttachmentRelatedFBVideo",["csx","cx","Arbiter","AsyncRequest","AttachmentRelatedShareConstants","DOM","DOMQuery","Event","ge","Parent","VideoPlayerReason","XPubcontentRelatedVideoInlineController"],function(e,t,o,i,n,r,s,l){var d={addHoverListener:function(e,o){var i=t("ge")(o),n=t("DOM").scry(i,"^div._3f-c")[0];t("Event").listen(n,"mouseover",this.doHover.bind(this,e)),t("Event").listen(n,"mouseout",this.doHoverOut.bind(this,e))},addClickOutListener:function(e,o){var i=t("ge")(o);t("Event").listen(i,"click",this.doHoverOut.bind(this,e))},doHover:function(e){e.play(t("VideoPlayerReason").USER),e.mute()},doHoverOut:function(e,o){e.pause(t("VideoPlayerReason").USER)},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function(e,o,i,n,r,s,l,d){var a=null;if(a="string"==typeof o?t("ge")(o):o){var h=null;h="string"==typeof e?t("ge")(e):e,h&&t("Event").listen(h,"click",function(e){var o=e.srcElement?e.srcElement:e.target;if(o)for(var n in s){var c=t("ge")(s[n]);if(c&&t("DOMQuery").contains(c,o))return}if(!e.isDefaultRequested()){e.preventDefault();var u=null;if(r){var p=t("DOM").scry(a,"^ul._5h5a")[0];if(!p)return;u=p.previousSibling}else u=h.children[0];setTimeout(function(){var e=t("XPubcontentRelatedVideoInlineController").getURIBuilder();e.setInt("fbvideo_id",i),e.setString("query_id",l),e.setString("mf_story_key",d),(new(t("AsyncRequest"))).setURI(e.getURI()).setRelativeTo(u).send()},1e3)}})}},loadRelatedFBVideos:function(e,o){var i=t("ge")(e);if(i){var n="_4zdu",r=t("Parent").byClass(i,n);if(!r)var s=t("Event").listen(i,"click",function(){s.remove(),t("Arbiter").inform(t("AttachmentRelatedShareConstants").FBVIDEO_CLICK,{attachment:i,fbvideo_id:o})})}}};n.exports=d},null),__d("VideoChannel",[],function(e,t,o,i,n,r){var s=null,l={get:function(){return s},set:function(e){s=e}};n.exports=l},null),__d("VideoChannelLogger",["Arbiter","Banzai","BanzaiLogger","Run","VideoChannelLoggerEvents","VideoChannelLoggerFields","VideoChannelViewChainLengthManager"],function(e,t,o,i,n,r){var s=0,l=null,d=null,a=null,h=0,c=null,u={startSession:function(e,o,i){l=o,a=i,d=e,t("Arbiter").inform("LogEnterChannel",o),t("VideoChannelViewChainLengthManager").registerVideoID(e,e);var n={};n[t("VideoChannelLoggerFields").EVENT]=t("VideoChannelLoggerEvents").SESSION_START,u.log(n),s=Date.now(),t("Run").onLeave(u.endSession),t("Banzai").subscribe(t("Banzai").SHUTDOWN,u.endSession)},endSession:function(){if(l){t("Arbiter").inform("LogExitChannel",l);var e={};e[t("VideoChannelLoggerFields").EVENT]=t("VideoChannelLoggerEvents").SESSION_END,u.log(e),l=null,d=null,a=null,c=null,s=0}},setOffset:function(e){h=e},setPosition:function(e){c=e},getPlayerLoggingData:function(){return l?{video_channel_id:l,position_in_channel:c+h}:{}},log:function(e){var o=t("VideoChannelViewChainLengthManager").getLoggingData(d);if(e[t("VideoChannelLoggerFields").SESSION_ID]=o.video_chaining_session_id,e[t("VideoChannelLoggerFields").VIDEO_CHANNEL_ID]=l,e[t("VideoChannelLoggerFields").VIDEO_CHAINING_CALLER]=a,t("VideoChannelLoggerFields").POSITION_IN_CHANNEL in e||(e[t("VideoChannelLoggerFields").POSITION_IN_CHANNEL]=c+h),s){var i=Date.now()-s;e[t("VideoChannelLoggerFields").TIME_SINCE_START]=i+.001}t("BanzaiLogger").log("VideoChannelLoggerConfig",e)}};n.exports=u},null),__d("VideoChannelProgressCircle.react",["cx","React","ReactDOM","Style"],function(e,t,o,i,n,r,s){function l(){for(var e,t,o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];return t=(e=a.constructor).call.apply(e,[this].concat(i)),this.$VideoChannelProgressCircle1=0,this.$VideoChannelProgressCircle2=0,t}var d,a,h=t("React").PropTypes;d=babelHelpers.inherits(l,t("React").PureComponent),a=d&&d.prototype,l.prototype.componentDidMount=function(){"use strict";this.drawProgressCircle(this.props)},l.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.$VideoChannelProgressCircle1)},l.prototype.componentWillReceiveProps=function(e){"use strict";e.makeProgress===this.props.makeProgress&&e.timeoutSec===this.props.timeoutSec||this.drawProgressCircle(e)},l.prototype.drawProgressCircle=function(e){"use strict";var o=t("ReactDOM").findDOMNode(this.refs.progressCircle),i=this.$VideoChannelProgressCircle2,n=i/100;t("Style").set(o,"stroke-dashoffset",i+"px"),clearInterval(this.$VideoChannelProgressCircle1),e.makeProgress&&(this.$VideoChannelProgressCircle1=setInterval(function(){i-=n,t("Style").set(o,"stroke-dashoffset",i+"px"),i<=0&&(clearInterval(this.$VideoChannelProgressCircle1),t("Style").set(o,"stroke-dashoffset","0px"),e.onProgressDone&&e.onProgressDone())}.bind(this),10*e.timeoutSec))},l.prototype.render=function(){"use strict";var e=this.props.watchAndScroll?34:80,o=this.props.watchAndScroll?2:4,i=e/2,n=i-o/2;return this.$VideoChannelProgressCircle2=2*n*Math.PI,t("React").createElement("div",null,t("React").createElement("svg",{className:"_20_8"},t("React").createElement("circle",{cx:i,cy:i,r:n,stroke:"#ffffff",strokeWidth:o,strokeDasharray:this.$VideoChannelProgressCircle2,fill:"transparent"}),t("React").createElement("circle",{ref:"progressCircle",cx:i,cy:i,r:n,stroke:"#5890ff",strokeWidth:o,strokeDasharray:this.$VideoChannelProgressCircle2,fill:"transparent"})),this.props.children)},l.propTypes={children:h.element,makeProgress:h.bool.isRequired,onProgressDone:h.func,timeoutSec:h.number.isRequired,watchAndScroll:h.bool},n.exports=l},null),__d("VideoChannelReplayImage.react",["cx","Image.react","React"],function(e,t,o,i,n,r,s){function l(){"use strict";d.apply(this,arguments)}var d,a;d=babelHelpers.inherits(l,t("React").Component),a=d&&d.prototype,l.prototype.render=function(){"use strict";return t("React").createElement(t("Image.react"),{className:"_4nxy"+("small"===this.props.size?" _4nxz":""),src:"/images/video/channel_view/replay.svg"})},l.defaultProps={size:"normal"},n.exports=l},null),__d("XVideoChannelViewAsyncController",["XController"],function(e,t,o,i,n,r){n.exports=t("XController").create("/video/channel/view/async/{id}/",{id:{type:"String",required:!0},original_video_id:{type:"String",required:!0},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}})},null),__d("XVideoChannelViewStoryAsyncController",["XController"],function(e,t,o,i,n,r){n.exports=t("XController").create("/video/channel/view/story/async/{root_video_id}/",{root_video_id:{type:"String",required:!0},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:!1},setup_interactions:{type:"Bool",defaultValue:!1},is_first_story:{type:"Bool",defaultValue:!1},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:!1}})},null),__d("VideoChannelStoryFetcher",["AsyncRequest","HTML","VideoChainingCaller","VideoChannelLogger","VideoChannelLoggerEvents","VideoChannelLoggerFields","VideoChannelRequestStatus","VideoChannelViewVariables","XVideoChannelViewAsyncController","XVideoChannelViewStoryAsyncController"],function(e,t,o,i,n,r){function s(e,o,i,n,r,s,l){"use strict";if(this.$VideoChannelStoryFetcher7=e,this.$VideoChannelStoryFetcher8=o,this.$VideoChannelStoryFetcher4=i,this.$VideoChannelStoryFetcher10=0,this.$VideoChannelStoryFetcher2=null,this.$VideoChannelStoryFetcher3=!0,this.$VideoChannelStoryFetcher5=[],this.$VideoChannelStoryFetcher6=[],this.$VideoChannelStoryFetcher9={},r){this.$VideoChannelStoryFetcher5=r.videoIDs,this.$VideoChannelStoryFetcher6=r.feedTrackingData,this.$VideoChannelStoryFetcher2=r.cursorInfo.cursor,this.$VideoChannelStoryFetcher3=r.cursorInfo.hasNextPage;var d=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);t("VideoChannelLogger").setOffset(d),this.$VideoChannelStoryFetcher9.start=d,this.$VideoChannelStoryFetcher9.end=d+1}if(s){this.$VideoChannelStoryFetcher5=s,this.$VideoChannelStoryFetcher3=!!l;var a=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);t("VideoChannelLogger").setOffset(a),this.$VideoChannelStoryFetcher9.start=a,this.$VideoChannelStoryFetcher9.end=a+1}t("VideoChannelLogger").setPosition(0),this.$VideoChannelStoryFetcher11=n,this.$VideoChannelStoryFetcher12=[],this.$VideoChannelStoryFetcher13=[]}var l=t("VideoChannelViewVariables").channelPivots;s.prototype.reset=function(e,t){"use strict";this.$VideoChannelStoryFetcher7=e,this.$VideoChannelStoryFetcher8=t,this.$VideoChannelStoryFetcher10=0,this.$VideoChannelStoryFetcher2=null,this.$VideoChannelStoryFetcher3=!0,this.$VideoChannelStoryFetcher5=[],this.$VideoChannelStoryFetcher6=[],this.$VideoChannelStoryFetcher9={},this.$VideoChannelStoryFetcher12=[],this.$VideoChannelStoryFetcher13=[]},s.prototype.abandonRequest=function(){"use strict";this.$VideoChannelStoryFetcher1&&this.$VideoChannelStoryFetcher1.abandon()},s.prototype.hasNext=function(){"use strict";var e=this.$VideoChannelStoryFetcher5.length-this.$VideoChannelStoryFetcher9.end>0;return this.$VideoChannelStoryFetcher3||e},s.prototype.$VideoChannelStoryFetcher14=function(e,o,i){"use strict";var n={};n[t("VideoChannelLoggerFields").EVENT]=e,n[t("VideoChannelLoggerFields").REQUEST_STATUS]=o,n[t("VideoChannelLoggerFields").PERF_TIME_MS]=Date.now()-i,t("VideoChannelLogger").log(n)},s.prototype.fetchFirstStory=function(e,o,i){"use strict";if(null===o&&0!==this.$VideoChannelStoryFetcher5.length){var n=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);o=this.$VideoChannelStoryFetcher6[n]}var r=t("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$VideoChannelStoryFetcher4).setStringVector("video_ids",[this.$VideoChannelStoryFetcher7]).setString("root_video_id",this.$VideoChannelStoryFetcher7).setBool("is_first_story",!0).setBool("use_video_placeholder",e).setBool("setup_interactions",i).setString("channel_id",this.$VideoChannelStoryFetcher8).setString("ad_impression_token",this.$VideoChannelStoryFetcher11);o&&r.setStringVector("feed_tracking_data",[JSON.stringify(o)]);var s=Date.now(),d=new(t("AsyncRequest"))(r.getURI()).setAllowCrossPageTransition(!0).setHandler(function(){if(this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_FIRST_STORY,t("VideoChannelRequestStatus").SUCCEEDED,s),this.$VideoChannelStoryFetcher15(),l){var e=t("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$VideoChannelStoryFetcher4).setStringVector("video_ids",[this.$VideoChannelStoryFetcher7]).setString("root_video_id",this.$VideoChannelStoryFetcher7).setString("channel_id",this.$VideoChannelStoryFetcher8).setBool("fetch_channel_pivots",!0);o&&e.setStringVector("feed_tracking_data",[JSON.stringify(o)]);var i=new(t("AsyncRequest"))(e.getURI()).setAllowCrossPageTransition(!0).setHandler(function(){this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=i,this.$VideoChannelStoryFetcher10=Date.now(),i.send()}}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_FIRST_STORY,t("VideoChannelRequestStatus").FAILED,s),this.$VideoChannelStoryFetcher15()}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_FIRST_STORY,t("VideoChannelRequestStatus").ABORTED,s),this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=d,this.$VideoChannelStoryFetcher10=Date.now(),d.send()},s.prototype.getPreloadedData=function(){"use strict";return{stories:this.$VideoChannelStoryFetcher12,thumbnails:this.$VideoChannelStoryFetcher13}},s.prototype.$VideoChannelStoryFetcher16=function(e,o){"use strict";if(this.$VideoChannelStoryFetcher8){var i=t("XVideoChannelViewAsyncController").getURIBuilder().setString("id",this.$VideoChannelStoryFetcher8).setEnum("caller",this.$VideoChannelStoryFetcher4).setString("original_video_id",this.$VideoChannelStoryFetcher7).setInt("story_count",e);this.$VideoChannelStoryFetcher2&&i.setString("cursor",this.$VideoChannelStoryFetcher2.toString());var n=Date.now(),r=i.getURI(),s=new(t("AsyncRequest"))(r).setAllowCrossPageTransition(!0).setHandler(function(e){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_FROM_ENTQUERY,t("VideoChannelRequestStatus").SUCCEEDED,n),this.$VideoChannelStoryFetcher2=e.getPayload().cursor,this.$VideoChannelStoryFetcher3=e.getPayload().hasNextPage,this.$VideoChannelStoryFetcher15(),this.$VideoChannelStoryFetcher17(e,function(e,t){return this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,e),this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,t),o(e,t)}.bind(this))}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_FROM_ENTQUERY,t("VideoChannelRequestStatus").FAILED,n),this.$VideoChannelStoryFetcher15()}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_FROM_ENTQUERY,t("VideoChannelRequestStatus").ABORTED,n),this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=s,s.send()}},s.prototype.$VideoChannelStoryFetcher18=function(e,o,i){var n=this,r=this.$VideoChannelStoryFetcher9.end,s=this.$VideoChannelStoryFetcher5.length-r,l=r+Math.min(s,e);s>0?!function(){var e=n.$VideoChannelStoryFetcher5.slice(r,l),d=n.$VideoChannelStoryFetcher6.slice(r,l).map(function(e){return JSON.stringify(e)}),a=t("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",n.$VideoChannelStoryFetcher4).setString("channel_id",n.$VideoChannelStoryFetcher8).setString("root_video_id",n.$VideoChannelStoryFetcher7).setStringVector("video_ids",e).setStringVector("feed_tracking_data",d),h=Date.now();n.$VideoChannelStoryFetcher1=new(t("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_FORWARD,t("VideoChannelRequestStatus").FAILED,h),this.$VideoChannelStoryFetcher15()}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_FORWARD,t("VideoChannelRequestStatus").ABORTED,h),this.$VideoChannelStoryFetcher15()}.bind(n)).setHandler(function(e){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_FORWARD,t("VideoChannelRequestStatus").SUCCEEDED,h),this.$VideoChannelStoryFetcher9.end=l,this.$VideoChannelStoryFetcher15(),this.$VideoChannelStoryFetcher17(e,function(e,t){return this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,e),this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,t),o(e,t)}.bind(this))}.bind(n)),n.$VideoChannelStoryFetcher1.send(),i&&i(s)}():this.$VideoChannelStoryFetcher3&&(this.$VideoChannelStoryFetcher16(e,o),i&&i(e))},s.prototype.$VideoChannelStoryFetcher19=function(e,o,i){var n=this,r=this.$VideoChannelStoryFetcher9.start;r>0&&function(){var s=Math.max(r-e,0),l=n.$VideoChannelStoryFetcher5.slice(s,r),d=n.$VideoChannelStoryFetcher6.slice(s,r).map(function(e){return JSON.stringify(e)}),a=t("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",n.$VideoChannelStoryFetcher4).setString("channel_id",n.$VideoChannelStoryFetcher8).setString("root_video_id",n.$VideoChannelStoryFetcher7).setStringVector("video_ids",l).setStringVector("feed_tracking_data",d),h=Date.now();n.$VideoChannelStoryFetcher1=new(t("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_BACKWARD,t("VideoChannelRequestStatus").FAILED,h),this.$VideoChannelStoryFetcher15()}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_BACKWARD,t("VideoChannelRequestStatus").ABORTED,h),this.$VideoChannelStoryFetcher15()}.bind(n)).setHandler(function(e){this.$VideoChannelStoryFetcher14(t("VideoChannelLoggerEvents").FETCH_STORIES_BACKWARD,t("VideoChannelRequestStatus").SUCCEEDED,h),this.$VideoChannelStoryFetcher9.start=s,this.$VideoChannelStoryFetcher15(),this.$VideoChannelStoryFetcher17(e,o)}.bind(n)),n.$VideoChannelStoryFetcher1.send(),i&&i(r-s)}()},s.prototype.fetchStories=function(e,o,i){"use strict";var n=t("VideoChannelViewVariables").defaultStoriesToLoad;this.$VideoChannelStoryFetcher1||(e?this.$VideoChannelStoryFetcher18(n,o,i):this.$VideoChannelStoryFetcher19(n,o,i))},s.prototype.$VideoChannelStoryFetcher17=function(e,o){"use strict";var i=e.getPayload(),n=t("HTML").replaceJSONWrapper(i.stories).getNodes(),r=i.thumbnails.map(function(e){return t("HTML").replaceJSONWrapper(e).getRootNode()});o(n,r)},s.prototype.$VideoChannelStoryFetcher15=function(){"use strict";this.$VideoChannelStoryFetcher1=null},n.exports=s},null),__d("FeedVideoClickToPlayController",["Event","Set","setImmediate","VideoPlayerAbortLoadingExperiment","VideoPlayerExperiments","VideoPlayerReason","destroyOnUnload","throttle"],function(e,t,o,i,n,r){function s(){"use strict";this.$FeedVideoClickToPlayController2=new(t("Set")),this.$FeedVideoClickToPlayController1=null,t("destroyOnUnload")(function(){this.$FeedVideoClickToPlayController2.clear(),this.$FeedVideoClickToPlayController1&&(this.$FeedVideoClickToPlayController1.remove(),this.$FeedVideoClickToPlayController1=null),this===l&&(l=null)}.bind(this))}var l=null;s.prototype.addVideoUnit=function(e){"use strict";this.$FeedVideoClickToPlayController3()||this.$FeedVideoClickToPlayController4(),e.addListener("beginPlayback",function(o){var i=o.reason;i!==t("VideoPlayerReason").USER&&i!==t("VideoPlayerReason").LOOP||this.$FeedVideoClickToPlayController2.add(e)}.bind(this)),e.addListener("turnOffAutoplay",function(t){var o=t.reason;"unmuted"===o&&this.$FeedVideoClickToPlayController2.add(e)}.bind(this)),e.getVideoPlayerController().isState("playing")&&!e.isAutoplayable()&&this.$FeedVideoClickToPlayController2.add(e),e.addListener("pausePlayback",function(){this.$FeedVideoClickToPlayController2["delete"](e)}.bind(this)),e.addListener("finishPlayback",function(){this.$FeedVideoClickToPlayController2["delete"](e)}.bind(this))},s.registerVideoUnit=function(e){"use strict";null==l&&(l=new s),l.addVideoUnit(e)},s.prototype.$FeedVideoClickToPlayController4=function(){"use strict";this.$FeedVideoClickToPlayController1&&this.$FeedVideoClickToPlayController1.remove(),this.$FeedVideoClickToPlayController1=t("Event").listen(window,"scroll",t("throttle")(this.onScroll.bind(this),300))},s.prototype.$FeedVideoClickToPlayController3=function(){"use strict";return!!this.$FeedVideoClickToPlayController1},s.prototype.$FeedVideoClickToPlayController5=function(e){"use strict";e.pause(t("VideoPlayerReason").AUTOPLAY),t("VideoPlayerAbortLoadingExperiment").canAbort&&e.abortLoading(),this.$FeedVideoClickToPlayController2["delete"](e)},s.prototype.onScroll=function(){"use strict";this.$FeedVideoClickToPlayController2.forEach(function(e){if(e&&!e.isVisible()&&!e.getIsInChannel()){var o=e.getVideoPlayerController();o.isAd()||t("VideoPlayerExperiments").pauseWhenOffscreen?t("VideoPlayerExperiments").slidingWNSv3?t("setImmediate")(function(){!e||e.isVisible()||e.getIsInChannel()||this.$FeedVideoClickToPlayController5(e)}.bind(this)):this.$FeedVideoClickToPlayController5(e):o.isMuted()&&o.isState("playing")&&(this.$FeedVideoClickToPlayController5(e),o.emit("resumeAutoplay"))}}.bind(this))},n.exports=s},null),__d("VideoClickForMoreOverlay",["cx","CSS","EventListener","VideoPlayerUIComponentDrawer","DOM"],function(e,t,o,i,n,r,s){function l(e,o,i){"use strict";this.$VideoClickForMoreOverlay1=e,this.$VideoClickForMoreOverlay2=o,this.$VideoClickForMoreOverlay3=!1,this.$VideoClickForMoreOverlay4=this.$VideoClickForMoreOverlay1.registerDrawer(t("VideoPlayerUIComponentDrawer").priorities.ClickForMore,i?l.REDESIGN_HEIGHT:l.DEFAULT_HEIGHT),this.$VideoClickForMoreOverlay4.addListener("reposition",this.$VideoClickForMoreOverlay5.bind(this)),this.$VideoClickForMoreOverlay1.addListener("VideoControls/visibilityUpdate",function(e){var t=e.areControlsVisible;return this.$VideoClickForMoreOverlay6(t)}.bind(this));var n=this.$VideoClickForMoreOverlay1.getOption("VideoControls","areControlsVisible");n&&this.$VideoClickForMoreOverlay6(n),this.$VideoClickForMoreOverlay1.addListener("stateChange",this.$VideoClickForMoreOverlay7.bind(this)),t("EventListener").listen(this.$VideoClickForMoreOverlay2,"click",function(){return this.$VideoClickForMoreOverlay8()}.bind(this))}l.prototype.$VideoClickForMoreOverlay5=function(e){"use strict";t("DOM").setAttributes(this.$VideoClickForMoreOverlay2,{style:"bottom:"+e+"px;"})},l.prototype.$VideoClickForMoreOverlay6=function(e){"use strict";this.$VideoClickForMoreOverlay3=e,this.$VideoClickForMoreOverlay7()},l.prototype.$VideoClickForMoreOverlay7=function(){"use strict";var e=!this.$VideoClickForMoreOverlay1.isPlayerVersion("silvercity")&&!this.$VideoClickForMoreOverlay1.getIsInChannel()&&this.$VideoClickForMoreOverlay1.isState("playing");e&&this.$VideoClickForMoreOverlay3?this.$VideoClickForMoreOverlay9():this.$VideoClickForMoreOverlay10()},l.prototype.$VideoClickForMoreOverlay8=function(){"use strict";this.$VideoClickForMoreOverlay1.clickVideo()},l.prototype.$VideoClickForMoreOverlay9=function(){"use strict";t("CSS").removeClass(this.$VideoClickForMoreOverlay2,"_2is8"),this.$VideoClickForMoreOverlay4.reserve()},l.prototype.$VideoClickForMoreOverlay10=function(){"use strict";t("CSS").addClass(this.$VideoClickForMoreOverlay2,"_2is8"),this.$VideoClickForMoreOverlay4.release()},l.DEFAULT_HEIGHT=18,l.REDESIGN_HEIGHT=38,n.exports=l},null),__d("FeedVideoPlayerController",["csx","Arbiter","AttachmentRelatedShareConstants","DOM","DOMQuery","LitestandStoryInsertionStatus","Run","Set","SubscriptionsHandler","VideoAutoplayPlayerBase","VideoPlayerApiEvents","VideoPlayerExperiments","VideoPlayerFallbackEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerReason","VideoPlayerStates","getElementPosition","getViewportDimensions"],function(e,t,o,i,n,r,s){function l(e,o){"use strict";return a.constructor.call(this),this.$FeedVideoPlayerController1=o,this.$FeedVideoPlayerController2=e,this.$FeedVideoPlayerController3=new(t("Set")),this.$FeedVideoPlayerController1.viewport_autoplay||this.$FeedVideoPlayerController3.add("server_blocked"),this.$FeedVideoPlayerController12=t("VideoPlayerExperiments").autoplayUntilHalfGone?.5:1,this.$FeedVideoPlayerController4=this.isAutoplayable(),this.$FeedVideoPlayerController6=o.controller,this.$FeedVideoPlayerController10=o.startsMuted,this.$FeedVideoPlayerController7=this.isAutoplayable(),(this.$FeedVideoPlayerController6.getIsInChannel()||this.$FeedVideoPlayerController6.isState(t("VideoPlayerStates").PLAYING)&&!this.$FeedVideoPlayerController6.isMuted())&&(this.$FeedVideoPlayerController7=!1),this.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isAutoplaying",function(){return this.$FeedVideoPlayerController7}.bind(this),function(e){this.$FeedVideoPlayerController7=e}.bind(this)),this.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isVisibleForAutoplay",function(){return this.isVisible()}.bind(this)),this.$FeedVideoPlayerController6.registerOption("FeedAutoplay","shouldOpenSidePaneInChannelView",function(){return o.autoPlayWithChannelViewOrSnowlift}),this.$FeedVideoPlayerController6.setLogEntryPropertyGetters({autoplay_eligible:function(){return this.isAutoplayable()}.bind(this),autoplay_failure_reasons:function(){return JSON.stringify(Array.from(this.$FeedVideoPlayerController3))}.bind(this)}),this.$FeedVideoPlayerController13(),t("Run").onLeave(function(){this.$FeedVideoPlayerController5.release()}.bind(this)),this.isState(t("VideoPlayerStates").FALLBACK)?(this.$FeedVideoPlayerController14(),void this.$FeedVideoPlayerController15()):void this.$FeedVideoPlayerController5.addSubscriptions(t("LitestandStoryInsertionStatus").registerBlocker(function(){return this.isState(t("VideoPlayerStates").PLAYING)}.bind(this)))}var d,a,h=42;d=babelHelpers.inherits(l,t("VideoAutoplayPlayerBase")),a=d&&d.prototype,l.prototype.$FeedVideoPlayerController16=function(){"use strict";return!!this.$FeedVideoPlayerController1.show_play_button_on_finish},l.prototype.getDistanceToViewport=function(){"use strict";if(this.$FeedVideoPlayerController6.isFullscreen())return 0;var e=t("getViewportDimensions")().height,o=this.getDOMPosition();if(0===o.height)return-(1/0);var i=o.y+(1-this.$FeedVideoPlayerController12)*o.height;return i-e/2},l.prototype.isVisible=function(){"use strict";if(this.$FeedVideoPlayerController6.isFullscreen())return!0;var e=t("getViewportDimensions")().height,o=t("getViewportDimensions")().width,i=this.getDOMPosition();if(0===i.height)return!1;var n=i.y-h+(1-this.$FeedVideoPlayerController12)*i.height,r=i.y+this.$FeedVideoPlayerController12*i.height,s=i.x+(1-this.$FeedVideoPlayerController12)*i.width,l=i.x+this.$FeedVideoPlayerController12*i.width;if(n<0||r>=e||s<0||l>=o)return!1;var d=this.$FeedVideoPlayerController17();return null===d||this.$FeedVideoPlayerController18(i,t("getElementPosition")(d))},l.prototype.$FeedVideoPlayerController17=function(){"use strict";var e=t("DOMQuery").scry(this.$FeedVideoPlayerController2.video_container,"^div._1yj5");return e.length>0?e[0]:null},l.prototype.$FeedVideoPlayerController18=function(e,t){"use strict";var o=e.x,i=e.x+e.width,n=t.x,r=t.x+t.width;return n<o&&i<r},l.prototype.isAutoplayable=function(){"use strict";return this.$FeedVideoPlayerController1.viewport_autoplay&&!this.$FeedVideoPlayerController9&&!this.$FeedVideoPlayerController3.size},l.prototype.$FeedVideoPlayerController19=function(e){"use strict";this.$FeedVideoPlayerController4&&(this.$FeedVideoPlayerController4=!1,this.$FeedVideoPlayerController6.unmute()),this.$FeedVideoPlayerController6.play(e)},l.prototype.getCurrentTimePosition=function(){"use strict";return this.$FeedVideoPlayerController6.getCurrentTimePosition()},l.prototype.playWithoutUnmute=function(e){"use strict";this.$FeedVideoPlayerController6.play(e)},l.prototype.getVideoID=function(){"use strict";return this.$FeedVideoPlayerController6.getVideoID()},l.prototype.$FeedVideoPlayerController20=function(){"use strict";this.$FeedVideoPlayerController15()},l.prototype.$FeedVideoPlayerController13=function(){"use strict";this.$FeedVideoPlayerController5=new(t("SubscriptionsHandler"));var e=[["finishPlayback",function(){return this.$FeedVideoPlayerController21()}.bind(this)],["turnOffAutoplay",function(e){var t=null;e&&(t=e.reason),this.$FeedVideoPlayerController22(t)}.bind(this)],["unmuteVideo",function(){return this.$FeedVideoPlayerController23()}.bind(this)],["stateChange",function(){return this.$FeedVideoPlayerController24()}.bind(this)],["switchVideo",function(){return this.$FeedVideoPlayerController20()}.bind(this)],["fallbackPlay",function(){return this.$FeedVideoPlayerController25()}.bind(this)],["buffered",function(){return this.$FeedVideoPlayerController15()}.bind(this)],["buffering",function(){return this.$FeedVideoPlayerController15()}.bind(this)],["beginPlayback",function(e){var t=e.reason;return this.$FeedVideoPlayerController26(t)}.bind(this)],["toggleFullscreen",function(){return this.$FeedVideoPlayerController27()}.bind(this)],["resumeAutoplay",function(e){var t=null;e&&(t=e.reason),this.$FeedVideoPlayerController28(t)}.bind(this)]],o=function(e){return this.emit.bind(this,e)}.bind(this);this.$FeedVideoPlayerController5.addSubscriptions.apply(this.$FeedVideoPlayerController5,e.map(function(e){var t=e[0],o=e[1];return this.$FeedVideoPlayerController6.addListener(t,o)}.bind(this)).concat(t("VideoPlayerApiEvents").map(function(e){return this.$FeedVideoPlayerController6.addListener(e,o(e));
}.bind(this))))},l.prototype.$FeedVideoPlayerController27=function(){"use strict";this.$FeedVideoPlayerController10&&this.$FeedVideoPlayerController6.unmute()},l.prototype.$FeedVideoPlayerController24=function(){"use strict";this.$FeedVideoPlayerController6.isState(t("VideoPlayerStates").FALLBACK)&&this.$FeedVideoPlayerController14(),!this.$FeedVideoPlayerController6.isState(t("VideoPlayerStates").LOADING)&&this.$FeedVideoPlayerController8&&(clearTimeout(this.$FeedVideoPlayerController8),this.$FeedVideoPlayerController8=null),this.$FeedVideoPlayerController15()},l.prototype.$FeedVideoPlayerController26=function(e){"use strict";e===t("VideoPlayerReason").USER&&this.$FeedVideoPlayerController10&&this.$FeedVideoPlayerController6.unmute()},l.prototype.preload=function(){"use strict";this.$FeedVideoPlayerController6.preload&&this.$FeedVideoPlayerController6.preload()},l.prototype.logDisplayed=function(){"use strict";this.$FeedVideoPlayerController6.logEvent(t("VideoPlayerLoggerEvent").DISPLAYED,{autoplay_reason:this.$FeedVideoPlayerController1.autoplay_reason})},l.prototype.$FeedVideoPlayerController25=function(){"use strict";var e={error:t("VideoPlayerLoggerErrors").ENTERED_FALLBACK,state:t("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE};this.$FeedVideoPlayerController6.logEvent(t("VideoPlayerLoggerEvent").ERROR,e)},l.prototype.$FeedVideoPlayerController23=function(){"use strict";t("VideoPlayerExperiments").slidingWNSv3&&this.$FeedVideoPlayerController6.isAd()&&(this.$FeedVideoPlayerController12=.25),this.$FeedVideoPlayerController10=!1,this.$FeedVideoPlayerController29(),this.$FeedVideoPlayerController7=!1},l.prototype.$FeedVideoPlayerController21=function(){"use strict";var e=this.$FeedVideoPlayerController6.getOption("Looping","isLooping");e||this.$FeedVideoPlayerController30("has_seen_finished")},l.prototype.$FeedVideoPlayerController14=function(){"use strict";this.$FeedVideoPlayerController11={isAutoplaying:this.$FeedVideoPlayerController7,preventAutoplay:this.$FeedVideoPlayerController9},this.$FeedVideoPlayerController30(t("VideoPlayerStates").FALLBACK)},l.prototype.$FeedVideoPlayerController30=function(e){"use strict";this.$FeedVideoPlayerController9=!0,e&&this.$FeedVideoPlayerController3.add(e),this.$FeedVideoPlayerController7=!1},l.prototype.$FeedVideoPlayerController28=function(e){"use strict";e?this.$FeedVideoPlayerController3["delete"](e):(this.$FeedVideoPlayerController3["delete"]("unmuted"),this.$FeedVideoPlayerController3["delete"]("has_seen_finished"),this.$FeedVideoPlayerController3["delete"]("manually_paused")),this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController3.size>0,this.$FeedVideoPlayerController7=!this.$FeedVideoPlayerController9},l.prototype.$FeedVideoPlayerController22=function(e){"use strict";this.$FeedVideoPlayerController30(e),this.$FeedVideoPlayerController7=!1},l.prototype.$FeedVideoPlayerController15=function(){"use strict";this.$FeedVideoPlayerController31()},l.prototype.getDOMPosition=function(){"use strict";return this.$FeedVideoPlayerController6.getDOMPosition()},l.prototype.isLooping=function(){"use strict";return!!this.$FeedVideoPlayerController6.getOption("Looping","isLooping")},l.prototype.pause=function(e){"use strict";this.$FeedVideoPlayerController6.pause(e)},l.prototype.$FeedVideoPlayerController32=function(){"use strict";this.$FeedVideoPlayerController13(),this.$FeedVideoPlayerController3["delete"](t("VideoPlayerStates").FALLBACK),this.$FeedVideoPlayerController7=this.$FeedVideoPlayerController11.isAutoplaying,this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController11.preventAutoplay},l.prototype.$FeedVideoPlayerController31=function(){var e=this;if(this.isState(t("VideoPlayerStates").FALLBACK)){this.$FeedVideoPlayerController5.release();var o=this.$FeedVideoPlayerController2;o.fallback_link&&(t("DOM").remove(this.$FeedVideoPlayerController6.getVideoNode()),t("DOM").replace(o.video_container,o.fallback_link),t("DOM").appendContent(o.fallback_link,o.video_container)),this.$FeedVideoPlayerController6.isFallbackRecoverable()?this.$FeedVideoPlayerController32():function(){var o=e.$FeedVideoPlayerController6.addListener(t("VideoPlayerFallbackEvents").RECOVER,function(){this.$FeedVideoPlayerController32(),o.remove()}.bind(e))}()}},l.prototype.$FeedVideoPlayerController29=function(){"use strict";t("Arbiter").inform(t("AttachmentRelatedShareConstants").FBVIDEO_CLICK,{attachment:this.$FeedVideoPlayerController2.video_container,fbvideo_id:this.$FeedVideoPlayerController1.video_ids[0]})},l.prototype.isState=function(e){"use strict";return this.$FeedVideoPlayerController6.isState(e)},l.prototype.getIsInChannel=function(){"use strict";return this.$FeedVideoPlayerController6.getIsInChannel()},l.prototype.getVideoPlayerController=function(){"use strict";return this.$FeedVideoPlayerController6},l.prototype.abortLoading=function(){"use strict";this.$FeedVideoPlayerController1.abort_loading_blocked||this.$FeedVideoPlayerController6.abortLoading()},n.exports=l},null),__d("VideoFeedRegister",["Bootloader","FeedVideoPlayerController","VideoAutoplayControllerX","VideoPlayerFeedRegisterConfig"],function(e,t,o,i,n,r){var s={registerVideoUnit:function(e,o){var i=o.controller;o.controller.getOption("VideoWithInstreamVideo","enabled")&&(o.controller=o.controller.getOption("VideoWithInstreamVideo","controller"));var n=new(t("FeedVideoPlayerController"))(e,o);if(o.controller.registerOption("WatchAndScroll","isEligible",function(){return o.wnsEnabled}),o.channelVersion){if(("channel_view"!==o.channelVersion||!o.channelModule.getInteraction())&&t("VideoPlayerFeedRegisterConfig").watchAndScrollModule&&t("VideoPlayerFeedRegisterConfig").watchAndScrollModule.isActive())return void t("VideoPlayerFeedRegisterConfig").watchAndScrollModule.registerChannelVideoController(o.controller);"channel_view"===o.channelVersion&&o.channelModule.registerVideoController(o.controller)}else t("VideoAutoplayControllerX").registerVideoUnit(n);o.wnsEnabled&&t("VideoPlayerFeedRegisterConfig").watchAndScrollModule&&t("VideoPlayerFeedRegisterConfig").watchAndScrollModule.registerVideoController(o.controller,o.videoChannelCaller,t("VideoPlayerFeedRegisterConfig").watchAndScrollV3,t("VideoPlayerFeedRegisterConfig").wnsChannelsIntegrationEnabled),t("VideoPlayerFeedRegisterConfig").disableOffscreenPlayModule&&t("VideoPlayerFeedRegisterConfig").disableOffscreenPlayModule.registerVideoUnit(n),o.autoPlayWithChannelViewOrSnowlift&&function(){var e=i;e.runOnApiReady(function(){var i=e.getOption("VideoWithClickToChannelView","isChannelEligible");i?t("Bootloader").loadModules(["VideoChannelController"],function(t){return t.openFromVideoPlayer(e,e.getVideoChannelID(),o.videoChannelCaller)},"VideoFeedRegister"):t("Bootloader").loadModules(["PhotoSnowlift"],function(t){return t.bootstrap(e.getVideoURL())},"VideoFeedRegister")})}()}};n.exports=s},null),__d("VideoPlayerRegistry",["regeneratorRuntime","Promise","EventEmitter","Set"],function(e,t,o,i,n,r){var s=new(t("Set")),l=new(t("EventEmitter")),d={ADDED:"added",REMOVED:"removed",addListener:function(e,t){return l.addListener(e,t)},once:function(e,t){return l.once(e,t)},has:function(e){return s.has(e)},add:function(e){return!d.has(e)&&(s.add(e),l.emit(d.ADDED,e),!0)},remove:function(e){return!!d.has(e)&&(s["delete"](e),l.emit(d.REMOVED,e),!0)},count:function(){return s.size},getList:function(){return Array.from(s)},getByRootNode:function(e){var o;return t("regeneratorRuntime").async(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=null,this.getList().forEach(function(t){t.getByRootNode()===e&&(o=t)}),o){i.next=6;break}return i.next=5,t("regeneratorRuntime").awrap(new(t("Promise"))(function(t,o){var i=this.addListener(d.ADDED,function(o){o.getRootNode()===e&&(i.remove(),t(o))})}.bind(this)));case 5:o=i.sent;case 6:return i.abrupt("return",o);case 7:case"end":return i.stop()}},null,this)}};n.exports=d},null),__d("VideoScrubberPreviewComponent",["Map"],function(e,t,o,i,n,r){function s(e,t){"use strict";if(!t)throw new Error("VideoScrubberPreview Component config null.");this.$VideoScrubberPreviewComponent4=t,this.$VideoScrubberPreviewComponent5=e,this.$VideoScrubberPreviewComponent2=t.hasPreviewThumbnails,this.$VideoScrubberPreviewComponent3=s.getSpriteURIs(t.spriteIndexToURIMap),this.$VideoScrubberPreviewComponent6()}s.prototype.hasPreviewThumbnails=function(){"use strict";return this.$VideoScrubberPreviewComponent2},s.prototype.$VideoScrubberPreviewComponent6=function(){"use strict";this.$VideoScrubberPreviewComponent5.registerOption("VideoScrubberPreviewComponent","scrubberPreviewSprites",this.getSprites.bind(this)),this.$VideoScrubberPreviewComponent5.registerOption("VideoScrubberPreviewComponent","hasPreviewThumbnails",this.hasPreviewThumbnails.bind(this)),this.$VideoScrubberPreviewComponent5.registerOption("VideoScrubberPreviewComponent","previewThumbnailInformation",this.getPreviewThumbnailInformation.bind(this))},s.prototype.getSprites=function(){"use strict";return this.$VideoScrubberPreviewComponent3},s.prototype.getPreviewThumbnailInformation=function(){"use strict";return this.hasPreviewThumbnails()?this.$VideoScrubberPreviewComponent4.imagesPerColumn=this.$VideoScrubberPreviewComponent4.maxImagesPerSprite/this.$VideoScrubberPreviewComponent4.imagesPerRow:this.$VideoScrubberPreviewComponent4.imagesPerColumn=0,this.$VideoScrubberPreviewComponent4},s.getSpriteURIs=function(e){"use strict";var o=new(t("Map"));for(var i in e)e.hasOwnProperty(i)&&o.set(parseInt(i,10),e[i]);return o},n.exports=s},null),__d("VideoWithClickToChannelView",["cx","AsyncRequest","Bootloader","CSS","Map","VideoChainingCaller","VideoChannel","VideoChannelEntryPoint","VideoChannelViewGatings","VideoPlayerReason","logVideosClickTracking"],function(e,t,o,i,n,r,s){function l(e,o,i,n,r,s,l,d,a){"use strict";this.$VideoWithClickToChannelView1=e,this.$VideoWithClickToChannelView2=o,this.$VideoWithClickToChannelView3=r,this.$VideoWithClickToChannelView4=i,this.$VideoWithClickToChannelView5=n,this.$VideoWithClickToChannelView6=new(t("Map")),this.$VideoWithClickToChannelView7=s,this.$VideoWithClickToChannelView8=l,this.$VideoWithClickToChannelView9=d,this.$VideoWithClickToChannelView10=a,this.$VideoWithClickToChannelView1.addListener("stateChange",this.$VideoWithClickToChannelView11.bind(this)),this.$VideoWithClickToChannelView1.registerOption("VideoWithClickToChannelView","isChannelEligible",function(){return this.isChannelEligible()}.bind(this)),this.$VideoWithClickToChannelView1.registerOption("VideoWithClickToChannelView","canOpenFromVideoPlayer",function(){return this.canOpenChannelView()}.bind(this)),this.$VideoWithClickToChannelView1.setLogEntryPropertyGetters({channel_eligibility:"eligible"}),this.canOpenChannelView()&&this.$VideoWithClickToChannelView12(),this.$VideoWithClickToChannelView1.addListener("clickVideo",this.$VideoWithClickToChannelView13.bind(this)),this.$VideoWithClickToChannelView1.hasSeenClick()&&this.$VideoWithClickToChannelView13()}l.prototype.$VideoWithClickToChannelView14=function(){"use strict";return this.$VideoWithClickToChannelView1.hasOption("VideoControls","available")},l.prototype.$VideoWithClickToChannelView15=function(){"use strict";this.$VideoWithClickToChannelView16("hideOnFinish"),this.$VideoWithClickToChannelView16("hideOnPause")},l.prototype.$VideoWithClickToChannelView16=function(e){"use strict";var t=this.$VideoWithClickToChannelView1.getOption("VideoControls",e);this.$VideoWithClickToChannelView6.set(e,t)},l.prototype.$VideoWithClickToChannelView12=function(){"use strict";t("CSS").addClass(this.$VideoWithClickToChannelView1.getVideoNode(),"_244o")},l.prototype.$VideoWithClickToChannelView17=function(){"use strict";t("CSS").removeClass(this.$VideoWithClickToChannelView1.getVideoNode(),"_244o")},l.prototype.$VideoWithClickToChannelView11=function(){"use strict";this.canOpenChannelView()?this.$VideoWithClickToChannelView12():this.$VideoWithClickToChannelView17()},l.prototype.$VideoWithClickToChannelView13=function(){"use strict";if(this.canOpenChannelView())this.$VideoWithClickToChannelView18();else if(this.$VideoWithClickToChannelView1.isState("playing")){if(this.$VideoWithClickToChannelView1.getOption("VideoWithLiveBroadcast","isLive")||this.$VideoWithClickToChannelView1.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithClickToChannelView1.pause(t("VideoPlayerReason").USER)}else t("logVideosClickTracking")(this.$VideoWithClickToChannelView1.getVideoNode()),this.$VideoWithClickToChannelView1.play(t("VideoPlayerReason").USER)},l.prototype.isChannelEligible=function(){"use strict";var e=t("VideoChannelViewGatings").allowChannelViewForFlash||this.$VideoWithClickToChannelView4===t("VideoChannelEntryPoint").VIDEO_HOME,o=!this.$VideoWithClickToChannelView1.isPlayerVersion("silvercity")||e,i=t("VideoChannelViewGatings").channelView||this.$VideoWithClickToChannelView4===t("VideoChannelEntryPoint").VIDEO_HOME;return i&&!t("VideoChannel").get()&&!this.$VideoWithClickToChannelView1.isState("fallback")&&!this.$VideoWithClickToChannelView1.isFullscreen()&&o},l.prototype.canOpenChannelView=function(){"use strict";var e=!0;return t("VideoChannelViewGatings").channelViewWithInlineControls&&(this.$VideoWithClickToChannelView1.isState("playing")||(e=!1)),this.isChannelEligible()&&e},l.prototype.$VideoWithClickToChannelView18=function(){"use strict";t("logVideosClickTracking")(this.$VideoWithClickToChannelView1.getVideoNode()),this.$VideoWithClickToChannelView10?(new(t("AsyncRequest"))(this.$VideoWithClickToChannelView3).send(),this.$VideoWithClickToChannelView1.pause()):t("Bootloader").loadModules(["VideoChannelController"],function(e){e.openFromVideoPlayer(this.$VideoWithClickToChannelView1,this.$VideoWithClickToChannelView2,this.$VideoWithClickToChannelView5,this.$VideoWithClickToChannelView19())}.bind(this),"VideoWithClickToChannelView")},l.prototype.$VideoWithClickToChannelView19=function(){"use strict";return this.$VideoWithClickToChannelView7?{originalVideoIds:this.$VideoWithClickToChannelView7,isFromVideoViewCarousel:this.$VideoWithClickToChannelView8,shouldFetchMoreVideos:this.$VideoWithClickToChannelView9}:null},n.exports=l},null),__d("VideoWithFallbackMode",["Event","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerReason","Visibility"],function(e,t,o,i,n,r){function s(e,o){"use strict";if(this.$VideoWithFallbackMode1=!1,this.$VideoWithFallbackMode2=!1,this.$VideoWithFallbackMode6=function(){this.$VideoWithFallbackMode1=!0,t("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&this.$VideoWithFallbackMode2&&(this.$VideoWithFallbackMode3.play(t("VideoPlayerReason").FALLBACK_MODE),this.$VideoWithFallbackMode2=!1)}.bind(this),this.$VideoWithFallbackMode5=function(){this.$VideoWithFallbackMode1=!1}.bind(this),this.$VideoWithFallbackMode3=e,this.$VideoWithFallbackMode3.isImplementationUnavailable()||this.$VideoWithFallbackMode3.getOption("SphericalVideoPlayer","isUnavailable"))return void this.$VideoWithFallbackMode4(t("VideoPlayerLoggerFallbackReasons").FLASH_UNAVAILABLE);if(t("Event").listen(window,"blur",this.$VideoWithFallbackMode5),t("Event").listen(window,"focus",this.$VideoWithFallbackMode6),t("Visibility").addListener(t("Visibility").HIDDEN,this.$VideoWithFallbackMode5),t("Visibility").addListener(t("Visibility").VISIBLE,this.$VideoWithFallbackMode6),e.addListener("error",this.$VideoWithFallbackMode7.bind(this)),o.fallbackTimeoutMs){var i=o.fallbackTimeoutMs;setTimeout(function(){this.$VideoWithFallbackMode3.isState("loading")&&(this.$VideoWithFallbackMode3.pause(t("VideoPlayerReason").FALLBACK_MODE),this.$VideoWithFallbackMode4(t("VideoPlayerLoggerFallbackReasons").TIMEOUT),this.$VideoWithFallbackMode2=!0)}.bind(this),i)}}s.prototype.$VideoWithFallbackMode7=function(){"use strict";this.$VideoWithFallbackMode3.isState("fallback")||(this.$VideoWithFallbackMode3.isState("playing")&&this.$VideoWithFallbackMode3.pause(t("VideoPlayerReason").FALLBACK_MODE),this.$VideoWithFallbackMode3.abortLoading(),this.$VideoWithFallbackMode4(t("VideoPlayerLoggerFallbackReasons").FLASH_ERROR),this.$VideoWithFallbackMode2=!0)},s.prototype.$VideoWithFallbackMode4=function(e){"use strict";t("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&!this.$VideoWithFallbackMode1||(this.$VideoWithFallbackMode3.setState("fallback"),this.$VideoWithFallbackMode3.logEvent(t("VideoPlayerLoggerEvent").ENTERED_FALLBACK,{debug_reason:e}))},n.exports=s},null),__d("VideoWithFluentUFISupport",["UFIVideoPlayerRegistry"],function(e,t,o,i,n,r){function s(e){"use strict";t("UFIVideoPlayerRegistry").registerVideoPlayerController(e)}n.exports=s},null),__d("VideoWithSequentialAutoplay",["Arbiter","SubscriptionsHandler","VideoPlayerReason","destroyOnUnload"],function(e,t,o,i,n,r){function s(e,o){"use strict";this.$VideoWithSequentialAutoplay1=e,this.$VideoWithSequentialAutoplay2=o,this.$VideoWithSequentialAutoplay1.addListener("finishPlayback",this.$VideoWithSequentialAutoplay3.bind(this)),this.$VideoWithSequentialAutoplay4=new(t("SubscriptionsHandler")),this.$VideoWithSequentialAutoplay4.addSubscriptions(t("Arbiter").subscribe("nextVideoAutoplay",function(e,o){o.nextVideoID==this.$VideoWithSequentialAutoplay1.getVideoID()&&this.$VideoWithSequentialAutoplay1.play(t("VideoPlayerReason").AUTOPLAY)}.bind(this))),t("destroyOnUnload")(function(){return this.$VideoWithSequentialAutoplay4.release()}.bind(this))}s.prototype.$VideoWithSequentialAutoplay3=function(){"use strict";t("Arbiter").inform("nextVideoAutoplay",{nextVideoID:this.$VideoWithSequentialAutoplay2})},n.exports=s},null),__d("VideoWithSpacePlayPause",["Event","Run","VideoPlayerReason"],function(e,t,o,i,n,r){function s(e){"use strict";this.$VideoWithSpacePlayPause1=e;var o=t("Event").listen(window,"keypress",this.$VideoWithSpacePlayPause2.bind(this));t("Run").onLeave(function(){return o.remove()})}var l=32;s.prototype.$VideoWithSpacePlayPause2=function(e){"use strict";this.$VideoWithSpacePlayPause1.isFullscreen()&&e.charCode==l&&(this.$VideoWithSpacePlayPause1.isState("playing")?this.$VideoWithSpacePlayPause1.pause(t("VideoPlayerReason").USER):this.$VideoWithSpacePlayPause1.play(t("VideoPlayerReason").USER))},n.exports=s},null),__d("VideoWithVODBroadcast",[],function(e,t,o,i,n,r){function s(e){"use strict";e.registerOption("VideoWithVODBroadcast","isLiveVOD",function(){return!0})}n.exports=s},null),__d("AbstractVideoFullscreenControl.react",["AbstractButton.react","React"],function(e,t,o,i,n,r){"use strict";function s(){for(var e,t,o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];return t=(e=d.constructor).call.apply(e,[this].concat(i)),this.state={awaitingUpdate:!1},this.isFullscreen=function(){return this.state.awaitingUpdate?this.state.isFullscreenOverride:!!this.props.isFullscreen}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen()}.bind(this),t}var l,d,a=t("React").PropTypes;l=babelHelpers.inherits(s,t("React").PureComponent),d=l&&l.prototype,s.prototype.render=function(){return t("React").createElement(t("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:this.props.className,disabled:this.props.disabled,image:this.props.image,onClick:this.onButtonClick}))},s.propTypes={disabled:a.bool,image:a.element,isFullscreen:a.bool,onToggleFullscreen:a.func},n.exports=s},null),__d("XVideoQualitySurveyController",["XController"],function(e,t,o,i,n,r){n.exports=t("XController").create("/video/quality_survey/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}})},null),__d("VideoPlayButton",["AsyncRequest","CSS","EventListener","VideoDisplayTimePlayButton","VideoPlayerLoggerSource","XVideoQualitySurveyController"],function(e,t,o,i,n,r){function s(e,o,i){"use strict";this.$VideoPlayButton1=e,this.$VideoPlayButton2=o,i&&(this.$VideoPlayButton3=i.hiddenAfterFinish,this.$VideoPlayButton4=i.hiddenWhilePaused,this.$VideoPlayButton5=!!i.hiddenInFallback,this.$VideoPlayButton6=i.spherical);var n=t("VideoDisplayTimePlayButton").getClicked(this.$VideoPlayButton2);t("VideoDisplayTimePlayButton").unregister(this.$VideoPlayButton2),e.addListener("beginPlayback",this.$VideoPlayButton7.bind(this)),e.addListener("finishPlayback",this.$VideoPlayButton8.bind(this)),e.addListener("pausePlayback",this.$VideoPlayButton9.bind(this)),e.addListener("buffering",this.$VideoPlayButton10.bind(this)),e.addListener("buffered",this.$VideoPlayButton11.bind(this)),e.addListener("stateChange",this.$VideoPlayButton12.bind(this)),e.addListener("playRequested",this.$VideoPlayButton13.bind(this)),e.addListener("VideoChannelController/exitChannel",this.$VideoPlayButton14.bind(this)),e.addListener("clickVideo",this.$VideoPlayButton15.bind(this)),t("EventListener").listen(this.$VideoPlayButton2,"click",this.$VideoPlayButton16.bind(this)),i&&i.hiddenWhileLoading&&t("CSS").show(this.$VideoPlayButton2),n&&this.$VideoPlayButton16()}s.prototype.$VideoPlayButton12=function(){"use strict";this.$VideoPlayButton1.isState("fallback")&&(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()?t("CSS").hide(this.$VideoPlayButton2):t("CSS").show(this.$VideoPlayButton2))},s.prototype.$VideoPlayButton7=function(){"use strict";t("CSS").hide(this.$VideoPlayButton2)},s.prototype.$VideoPlayButton9=function(){"use strict";this.$VideoPlayButton4||t("CSS").show(this.$VideoPlayButton2)},s.prototype.$VideoPlayButton13=function(){"use strict";this.$VideoPlayButton1.isState("fallback")||t("CSS").hide(this.$VideoPlayButton2)},s.prototype.$VideoPlayButton14=function(){"use strict";(this.$VideoPlayButton1.isState("paused")&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState("finished")&&!this.$VideoPlayButton3)&&t("CSS").show(this.$VideoPlayButton2)},s.prototype.$VideoPlayButton8=function(){"use strict";var e=this.$VideoPlayButton1.getOption("Looping","isLooping");if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||e?t("CSS").hide(this.$VideoPlayButton2):t("CSS").show(this.$VideoPlayButton2),!(this.$VideoPlayButton1.getIsInChannel()||this.$VideoPlayButton1.isAd()||this.$VideoPlayButton1.hasOption("WatchAndScroll","isActive")||this.$VideoPlayButton1.isMuted()||this.$VideoPlayButton1.getSource()===t("VideoPlayerLoggerSource").MESSAGING)){var o=t("XVideoQualitySurveyController").getURIBuilder().setString("videoid",this.$VideoPlayButton1.getVideoID()).getURI(),i=(new(t("AsyncRequest"))).setURI(o);i.send()}},s.prototype.$VideoPlayButton10=function(){"use strict";t("CSS").hide(this.$VideoPlayButton2)},s.prototype.$VideoPlayButton11=function(){"use strict";t("CSS").hide(this.$VideoPlayButton2)},s.prototype.$VideoPlayButton16=function(){"use strict";this.$VideoPlayButton1.clickVideo()},s.prototype.$VideoPlayButton15=function(){"use strict";this.$VideoPlayButton1.isState("fallback")||t("CSS").hide(this.$VideoPlayButton2)},n.exports=s},null),__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","isNode"],function(e,t,o,i,n,r,s){"use strict";function l(e,t,o,i,n){var r=o.getContent().getBoundingClientRect(),s=o.getContext().getBoundingClientRect(),l=e-s.left,d=t-s.top;switch(n){case"left":l-=r.width;break;case"center":l-=.5*s.width;break;case"right":l-=s.width-r.width;break;default:throw new Error("invalid alignment")}switch(i){case"above":break;case"left":l+=r.width,d-=.5*r.height;break;case"right":l-=r.width,d-=.5*r.height;break;case"below":d-=s.height;break;default:throw new Error("invalid position")}return{offsetX:l,offsetY:d}}var d=Object.prototype.hasOwnProperty,a=t("React").PropTypes,h=t("React").createClass({displayName:"MountedContextMenu",propTypes:{disableFocusOutline:a.bool,menu:function c(e,o,i){if(!d.call(e,o))return new Error(i+"."+o+" is required");var c=e[o],n=c&&c.type;return n&&n.prototype instanceof t("PopoverMenuInterface")?void 0:new Error(o+" must implement PopoverMenuInterface")},mountedTriggerElem:function(e,o,i){return d.call(e,o)?t("isNode")(e[o])?void 0:new Error(i+"."+o+" must be a raw DOM node"):new Error(i+"."+o+" is required")}},getDefaultProps:function(){return{disableFocusOutline:!1}},getInitialState:function(){return{shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0}},_getTriggerDOMNode:function(){return this.props.mountedTriggerElem},_getMenuDOMNode:function(){var e=this.refs.popover.getMenu();return e&&e.getRoot()},_getLayer:function(){return this.refs.menuLayer.layer},renderLayers:function(){return t("React").createElement(t("ContextualLayer.react"),{alignment:"right",behaviors:[t("LayerHideOnEscape")],contextRef:function(){return this._getTriggerDOMNode()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:"menuLayer",shown:this.state.shown,key:"menu"},t("React").createElement(t("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:"popover"},t("React").createElement("div",{className:"_4345",ref:"fakeTrigger"})))},render:function(){if(this.props.mountedTriggerElem)return t("React").createElement("span",null,this.renderLayers())},_updatePosition:function(e,t){var o=this._getLayer(),i=o.getOrientation(),n=i.getPosition(),r=i.getAlignment(),s=l(e,t,o,n,r),d=s.offsetX,a=s.offsetY;o.setOffsetX(d).setOffsetY(a),this.setState({offsetX:d,offsetY:a})},_onContextMenu:function(e){var t=e.clientX,o=e.clientY;e.preventDefault(),e.stopPropagation(),this.showAt(t,o)},_onMousedownAnywhere:function(e){var o=this._getMenuDOMNode(),i=o&&t("DOMQuery").contains(o,e.target),n=0===e.button;i&&n||this.hide()},_onRealTriggerFocus:function(){this.props.disableFocusOutline&&t("Focus").setWithoutOutline(this._getTriggerDOMNode())},_onFakeTriggerFocus:function(){var e=this._getTriggerDOMNode();this.props.disableFocusOutline?t("Focus").setWithoutOutline(e):t("Focus").set(e),this.state.shown&&this.hide()},_onWindowBlur:function(){this.hide()},componentDidMount:function(){var e=this._getTriggerDOMNode(),o=t("ReactDOM").findDOMNode(this.refs.fakeTrigger),i=this._getLayer(),n=this.refs.popover;this._subscriberHandler=new(t("SubscriptionsHandler")),this._subscriberHandler.addSubscriptions(t("Event").listen(e,"contextmenu",this._onContextMenu),t("Event").listen(document.body,"mousedown",this._onMousedownAnywhere),t("Event").listen(e,"focus",this._onRealTriggerFocus),t("Event").listen(o,"focus",this._onFakeTriggerFocus),t("Event").listen(window,"blur",this._onWindowBlur),i.subscribe("show",function(){var e=this.state.lastOpenedX,t=this.state.lastOpenedY;this._updatePosition(e,t),n.showPopover()}.bind(this)),i.subscribe("hide",function(){n.hidePopover()}))},componentWillUnmount:function(){this._subscriberHandler&&this._subscriberHandler.release()},show:function(){this.setState({shown:!0})},showAt:function(e,t){this.setState({lastOpenedX:e,lastOpenedY:t}),this.show()},hide:function(){this.setState({shown:!1})}});n.exports=h},null),__d("VideoPlayerRegistryComponent",["invariant","SubscriptionsHandler","VideoPlayerRegistry"],function(e,t,o,i,n,r,s){function l(e){"use strict";this.$VideoPlayerRegistryComponent1=e||null,this.$VideoPlayerRegistryComponent2=new(t("SubscriptionsHandler")),this.$VideoPlayerRegistryComponent1&&this.$VideoPlayerRegistryComponent3()}l.prototype.destroy=function(){"use strict";this.$VideoPlayerRegistryComponent4(),this.$VideoPlayerRegistryComponent1=null},l.prototype.getController=function(){"use strict";var e=this.$VideoPlayerRegistryComponent1;return e||s(0),e},l.prototype.enable=function(e){"use strict";this.$VideoPlayerRegistryComponent1&&this.$VideoPlayerRegistryComponent1!==e&&this.$VideoPlayerRegistryComponent4(),this.$VideoPlayerRegistryComponent1=e,this.$VideoPlayerRegistryComponent3()},l.prototype.disable=function(e){"use strict";this.$VideoPlayerRegistryComponent4()},l.prototype.$VideoPlayerRegistryComponent3=function(){"use strict";var e=this.getController();t("VideoPlayerRegistry").add(e),this.$VideoPlayerRegistryComponent2.addSubscriptions(e.addListener("stateChange",function(){e.isState("destroyed")&&this.destroy()}.bind(this)))},l.prototype.$VideoPlayerRegistryComponent4=function(){"use strict";var e=this.getController();this.$VideoPlayerRegistryComponent2.release(),this.$VideoPlayerRegistryComponent2.engage(),t("VideoPlayerRegistry").remove(e)},n.exports=l},null),__d("VideoSpinner",["cx","CSS","EventListener"],function(e,t,o,i,n,r,s){function l(e,o){"use strict";this.$VideoSpinner2=o,this.$VideoSpinner1=e,this.$VideoSpinner3=!1,e.addListener("beginPlayback",this.$VideoSpinner4.bind(this)),e.addListener("finishPlayback",this.$VideoSpinner5.bind(this)),e.addListener("pausePlayback",this.$VideoSpinner6.bind(this)),e.addListener("playRequested",this.$VideoSpinner7.bind(this)),e.addListener("buffering",this.$VideoSpinner8.bind(this)),e.addListener("buffered",this.$VideoSpinner9.bind(this)),e.addListener("stateChange",this.$VideoSpinner10.bind(this)),e.addListener("clickVideo",this.$VideoSpinner11.bind(this)),e.addListener("VideoSphericalOverlay/animationUpdate",this.$VideoSpinner12.bind(this)),t("EventListener").listen(this.$VideoSpinner2,"click",this.$VideoSpinner13.bind(this))}l.prototype.$VideoSpinner12=function(e){"use strict";e?t("CSS").addClass(this.$VideoSpinner2,"_1st9"):t("CSS").removeClass(this.$VideoSpinner2,"_1st9")},l.prototype.$VideoSpinner8=function(){"use strict";t("CSS").show(this.$VideoSpinner2),this.$VideoSpinner3=!0},l.prototype.$VideoSpinner9=function(){"use strict";t("CSS").hide(this.$VideoSpinner2),this.$VideoSpinner3=!1},l.prototype.$VideoSpinner4=function(){"use strict";this.$VideoSpinner3?t("CSS").show(this.$VideoSpinner2):t("CSS").hide(this.$VideoSpinner2)},l.prototype.$VideoSpinner6=function(){"use strict";t("CSS").hide(this.$VideoSpinner2)},l.prototype.$VideoSpinner7=function(){"use strict";t("CSS").hide(this.$VideoSpinner2)},l.prototype.$VideoSpinner5=function(){"use strict";t("CSS").hide(this.$VideoSpinner2)},l.prototype.$VideoSpinner10=function(){"use strict";this.$VideoSpinner1.isState("fallback")&&t("CSS").hide(this.$VideoSpinner2)},l.prototype.$VideoSpinner11=function(){"use strict";this.$VideoSpinner1.isState("fallback")||(this.$VideoSpinner3||this.$VideoSpinner1.isState("ready")||this.$VideoSpinner1.isState("loading"))&&t("CSS").show(this.$VideoSpinner2)},l.prototype.$VideoSpinner13=function(){"use strict";this.$VideoSpinner1.clickVideo()},n.exports=l},null),__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","ContextualLayer.react","DOMQuery","Event","Focus","FullScreen","getFullScreenElement","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","VideoContextMenuGK","isNode"],function(e,t,o,i,n,r,s,l){"use strict";function d(){for(var e,o,i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return o=(e=h.constructor).call.apply(e,[this].concat(n)),this.state={permalinkVisible:!1,fullscreened:!1,screenWidth:screen.width,screenHeight:screen.height},this.$VideoPlayerHTML5ContextMenu2=function(){var e=t("getFullScreenElement")(),o=this.props.videoElem,i=!!(t("FullScreen").isFullScreen()&&e&&o&&t("DOMQuery").contains(e,o));this.setState({fullscreened:i})}.bind(this),this.$VideoPlayerHTML5ContextMenu5=function(){return this.props.paused?l._("Play"):l._("Pause")}.bind(this),this.$VideoPlayerHTML5ContextMenu6=function(){return this.props.muted?l._("Unmute"):l._("Mute")}.bind(this),this.$VideoPlayerHTML5ContextMenu7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$VideoPlayerHTML5ContextMenu8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$VideoPlayerHTML5ContextMenu4=function(){t("Focus").set(t("ReactDOM").findDOMNode(this.refs.permalinkText)),this.setState({permalinkVisible:!0})}.bind(this),this.$VideoPlayerHTML5ContextMenu3=function(){this.setState({permalinkVisible:!1})}.bind(this),this.$VideoPlayerHTML5ContextMenu9=function(){t("ReactDOM").findDOMNode(this.refs.permalinkText).select();
}.bind(this),this.$VideoPlayerHTML5ContextMenu10=function(e){t("Event").getKeyCode(e)==t("Keys").ESC&&this.setState({permalinkVisible:!1})}.bind(this),this.$VideoPlayerHTML5ContextMenu11=function(e){e.preventDefault()},this.$VideoPlayerHTML5ContextMenu12=function(){var e=void 0,t=void 0;if(this.state.fullscreened)e=this.state.screenWidth,t=this.state.screenHeight;else{var o=this.props.videoElem.getBoundingClientRect();e=o.width,t=o.height}return{width:e,height:t}}.bind(this),this.$VideoPlayerHTML5ContextMenu13=function(e){var o=this.props.permalinkURL;if(o){var i={width:e+"px"};return t("React").createElement("div",{className:"_26oo",style:i},t("React").createElement("input",{className:"_26op autofocus",onFocus:this.$VideoPlayerHTML5ContextMenu9,onKeyDown:this.$VideoPlayerHTML5ContextMenu10,onMouseUp:this.$VideoPlayerHTML5ContextMenu11,readOnly:!0,ref:"permalinkText",type:"text",value:o}),t("React").createElement("button",{className:"_26oq",onClick:this.$VideoPlayerHTML5ContextMenu3},l._("Close")))}}.bind(this),this.renderLayers=function(){var e=this.props.permalinkURL&&this.state.permalinkVisible,o=0,i=0,n=null,r=this.$VideoPlayerHTML5ContextMenu12(),s=r.width,l=r.height,d=s*V;return o=s/2-d/2,i=-l+C,this.state.fullscreened&&(i+=m),n=this.$VideoPlayerHTML5ContextMenu13(d),t("React").createElement(t("ContextualLayer.react"),{alignment:"left",behaviors:[t("LayerHideOnEscape"),t("LayerAutoFocus")],contextRef:function(){return this.props.videoElem}.bind(this),offsetX:o,offsetY:i,position:"below",ref:"permalinkLayer",shown:e,key:"permalinkOverlay"},n)}.bind(this),this.$VideoPlayerHTML5ContextMenu14=function(){if(this.props.permalinkURL)return t("React").createElement(u,{onclick:this.$VideoPlayerHTML5ContextMenu4,ref:"permalinkMenuItem"},l._("Show video URL"))}.bind(this),o}var a,h,c=Object.prototype.hasOwnProperty,u=t("ReactXUIMenu").Item,p=t("React").PropTypes,V=.35,C=6,m=60;a=babelHelpers.inherits(d,t("React").Component),h=a&&a.prototype,d.prototype.componentDidMount=function(){var e=this.refs.permalinkLayer.layer;this.$VideoPlayerHTML5ContextMenu1=new(t("SubscriptionsHandler")),this.$VideoPlayerHTML5ContextMenu1.addSubscriptions(t("FullScreen").subscribe("changed",this.$VideoPlayerHTML5ContextMenu2),e.subscribe("hide",this.$VideoPlayerHTML5ContextMenu3),e.subscribe("show",this.$VideoPlayerHTML5ContextMenu4))},d.prototype.componentWillUnmount=function(){this.$VideoPlayerHTML5ContextMenu1&&this.$VideoPlayerHTML5ContextMenu1.release()},d.prototype.hidePermalinkOverlay=function(){this.$VideoPlayerHTML5ContextMenu3()},d.prototype.render=function(){var e=null!==this.props.paused&&t("React").createElement(u,{onclick:this.$VideoPlayerHTML5ContextMenu7},this.$VideoPlayerHTML5ContextMenu5()),o=t("React").createElement(t("ReactXUIMenu"),{className:t("VideoContextMenuGK").menuRedesign?"_45di":""},e,t("React").createElement(u,{onclick:this.$VideoPlayerHTML5ContextMenu8},this.$VideoPlayerHTML5ContextMenu6()),this.$VideoPlayerHTML5ContextMenu14(),this.props.children);return t("React").createElement("span",null,t("React").createElement(t("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoElem,menu:o,ref:"menu"}),this.renderLayers())},d.propTypes={videoElem:function(e,o,i){return c.call(e,o)?t("isNode")(e[o])?void 0:new Error(i+"."+o+" must be a raw DOM node"):new Error(i+"."+o+" is required")},paused:p.bool,muted:p.bool,permalinkURL:p.string,onTogglePause:p.func.isRequired,onToggleMute:p.func.isRequired},n.exports=d},null),__d("VideoContextMenu",["EventListener","Bootloader","URI","React","ReactDOM","VideoPlayerHTML5ContextMenu.react","VideoPlayerReason","VideoPlayerStates","UserAgent","CurrentUser","isFacebookURI"],function(e,t,o,i,n,r){function s(e,o,i){"use strict";if(this.$VideoContextMenu9=function(){var e="DebugOverlay",t="hidden";this.$VideoContextMenu2.hasOption(e,t)?this.$VideoContextMenu12(e,t,"Employee Debug Info","Hide Debug Information"):this.$VideoContextMenu11(e,t),this.$VideoContextMenu8()}.bind(this),this.$VideoContextMenu8=function(){this.$VideoContextMenu6&&this.$VideoContextMenu13()}.bind(this),this.$VideoContextMenu10=function(e){var o=/^a$/i.test(e.target.nodeName||""),i=o||t("CurrentUser").isEmployee()&&(t("UserAgent").isPlatform("Mac OS X")?e.getModifiers().meta:e.getModifiers().ctrl);i&&this.$VideoContextMenu6?(t("ReactDOM").unmountComponentAtNode(this.$VideoContextMenu4),delete this.$VideoContextMenu6):i||this.$VideoContextMenu6||(e.preventDefault(),this.$VideoContextMenu13())}.bind(this),this.$VideoContextMenu2=e,this.$VideoContextMenu3=i,this.$VideoContextMenu4=o,this.$VideoContextMenu1={},this.$VideoContextMenu5=null,this.$VideoContextMenu3.permalinkURL){var n=new(t("URI"))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI();t("isFacebookURI")(n)||(n.setSubdomain("www"),n.setDomain(n.getDomain().replace(l,"facebook"))),this.$VideoContextMenu5=n.toString()}var r=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(t){return e.addListener(t,function(){this.$VideoContextMenu6&&this.$VideoContextMenu6.hidePermalinkOverlay(),this.$VideoContextMenu8()}.bind(this))}.bind(this)),e.addListener("optionsChange",this.$VideoContextMenu9),this.$VideoContextMenu9(),r.forEach(function(t){return e.addListener(t,this.$VideoContextMenu8)}.bind(this)),t("EventListener").listen(this.$VideoContextMenu2.getRootNode(),"contextmenu",this.$VideoContextMenu10)}var l=/(instagram)/g;s.prototype.setPermalinkURL=function(e){"use strict";this.$VideoContextMenu5=e,this.$VideoContextMenu8()},s.prototype.$VideoContextMenu11=function(e,t){"use strict";this.$VideoContextMenu7&&this.$VideoContextMenu7.removeMenuItem(e,t)},s.prototype.$VideoContextMenu12=function(e,o,i,n){"use strict";t("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(t){this.$VideoContextMenu7||(this.$VideoContextMenu7=new t(this.$VideoContextMenu2,this.$VideoContextMenu8)),this.$VideoContextMenu7.addComponentOptionMenuItem(e,o,i,n)}.bind(this),"VideoContextMenu")},s.prototype.$VideoContextMenu14=function(e,t){"use strict";if(this.$VideoContextMenu7)return this.$VideoContextMenu7.getComponentOptionMenuItem(e,t)},s.prototype.$VideoContextMenu13=function(){"use strict";var e=this.$VideoContextMenu14("DebugOverlay","hidden"),o=this.$VideoContextMenu2.getRootNode(),i=!1;this.$VideoContextMenu2.hasOption("VideoContextMenu","disablePauseMenuItem")&&(i=this.$VideoContextMenu2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$VideoContextMenu2.isState(t("VideoPlayerStates").PAUSED)),this.$VideoContextMenu6=t("ReactDOM").render(t("React").createElement(t("VideoPlayerHTML5ContextMenu.react"),{videoElem:o,paused:i?null:!this.$VideoContextMenu2.isState(t("VideoPlayerStates").PLAYING),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu15()}.bind(this),onToggleMute:function(){return this.$VideoContextMenu16()}.bind(this)},e),this.$VideoContextMenu4)},s.prototype.$VideoContextMenu16=function(){"use strict";this.$VideoContextMenu2.isMuted()?this.$VideoContextMenu2.unmute():this.$VideoContextMenu2.mute()},s.prototype.$VideoContextMenu15=function(){"use strict";this.$VideoContextMenu2.isState("playing")?this.$VideoContextMenu2.pause(t("VideoPlayerReason").USER):this.$VideoContextMenu2.play(t("VideoPlayerReason").USER)},n.exports=s},null),__d("VideoCover",["Bootloader","CSS","EventListener"],function(e,t,o,i,n,r){function s(e,o,i,n){var r=arguments.length<=4||void 0===arguments[4]?null:arguments[4];this.$VideoCover1=o,this.$VideoCover2=i[0],this.$VideoCover3=n,this.$VideoCover4=e,r&&(this.$VideoCover5=r.hiddenAfterFinish,this.$VideoCover6=r.showWhileBuffering,this.$VideoCover7=r.showAfterFallback),"playing"===e.getState()&&this.$VideoCover8(),e.addListener("stateChange",function(){return this.$VideoCover9()}.bind(this)),e.addListener("beginPlayback",this.$VideoCover8.bind(this)),e.addListener("finishPlayback",this.$VideoCover10.bind(this)),e.addListener("buffering",this.$VideoCover11.bind(this)),e.addListener("buffered",this.$VideoCover12.bind(this)),t("EventListener").listen(this.$VideoCover1,"click",this.$VideoCover13.bind(this))}s.prototype.$VideoCover11=function(){"use strict";this.$VideoCover6&&t("CSS").show(this.$VideoCover1)},s.prototype.$VideoCover12=function(){"use strict";this.$VideoCover6&&t("CSS").hide(this.$VideoCover1)},s.prototype.getCurrentCover=function(){"use strict";return this.$VideoCover2},s.prototype.setSnowLiftURI=function(e){"use strict";this.$VideoCover3=e},s.prototype.$VideoCover13=function(){"use strict";null!=this.$VideoCover3&&this.$VideoCover3.length>0?t("Bootloader").loadModules(["PhotoSnowlift"],function(e){return e.bootstrap(this.$VideoCover3)}.bind(this),"VideoCover"):this.$VideoCover4.clickVideo()},s.prototype.$VideoCover8=function(){"use strict";t("CSS").hide(this.$VideoCover1)},s.prototype.$VideoCover10=function(){"use strict";var e=this.$VideoCover4.getOption("Looping","isLooping");this.$VideoCover5||e||t("CSS").show(this.$VideoCover1)},s.prototype.$VideoCover9=function(){"use strict";this.$VideoCover4.isState("fallback")&&this.$VideoCover7&&t("CSS").show(this.$VideoCover1)},n.exports=s},null),__d("EmbeddedVideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoWebDriverIDs","VideoPlayerExperiments","fbglyph","shallowCompare"],function(e,t,o,i,n,r,s,l,d){"use strict";function a(){h.apply(this,arguments)}var h,c,u=t("React").PropTypes;h=babelHelpers.inherits(a,t("React").Component),c=h&&h.prototype,a.prototype.shouldComponentUpdate=function(e,o){return t("shallowCompare")(this,e,o)},a.prototype.onMouseOut=function(e){t("ReactDOM").findDOMNode(this.refs.button).blur()},a.prototype.render=function(){var e=void 0;e=s(t("VideoPlayerExperiments").fourArrowFullScreen?this.props.isFullscreen?"images/assets_DO_NOT_HARDCODE/fb_glyphs/resize-exit_24_fig-white.png":"images/assets_DO_NOT_HARDCODE/fb_glyphs/resize-free_24_fig-white.png":this.props.isFullscreen?"images/assets_DO_NOT_HARDCODE/fb_glyphs/resize-down_24_fig-white.png":"images/assets_DO_NOT_HARDCODE/fb_glyphs/resize-up_24_fig-white.png");var o=t("React").createElement(t("Image.react"),{className:"_5i0o",src:e}),i=this.props.isFullscreen?d._("Exit full screen"):d._("Enter full screen");return t("React").createElement(t("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_3u33","data-testid":t("VideoWebDriverIDs").FULLSCREEN_CONTROL,disabled:this.props.disabled,image:o,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:i,labelIsHidden:!0}))},a.propTypes={isFullscreen:u.bool,onToggleFullscreen:u.func,tabIndex:u.string},n.exports=a},null),__d("EmbeddedVideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","VideoWebDriverIDs","fbglyph","shallowCompare"],function(e,t,o,i,n,r,s,l,d){function a(e){"use strict";c.constructor.call(this,e),this.state={awaitingUpdate:!1,isPlayingOverwrite:!1}}var h,c,u=t("React").PropTypes;h=babelHelpers.inherits(a,t("React").Component),c=h&&h.prototype,a.prototype.shouldComponentUpdate=function(e,o){"use strict";return t("shallowCompare")(this,e,o)},a.prototype.isPlaying=function(){"use strict";return this.state.awaitingUpdate?this.state.isPlayingOverwrite:this.props.isPlaying},a.prototype.onButtonClick=function(){"use strict";var e=this.isPlaying();this.setState({awaitingUpdate:!0,isPlayingOverwrite:!e}),e?this.props.onPause&&this.props.onPause():this.props.onPlay&&this.props.onPlay()},a.prototype.componentWillReceiveProps=function(){"use strict";this.setState({awaitingUpdate:!1})},a.prototype.onMouseOut=function(e){"use strict";t("ReactDOM").findDOMNode(this.refs.button).blur()},a.prototype.render=function(){"use strict";var e=null;e=s(this.props.finishedPlaying?"images/assets_DO_NOT_HARDCODE/fb_glyphs/refresh-left_24_fig-white.png":this.isPlaying()?"images/assets_DO_NOT_HARDCODE/fb_glyphs/pause_24_fig-white.png":"images/assets_DO_NOT_HARDCODE/fb_glyphs/play_24_fig-white.png");var o=t("React").createElement(t("Image.react"),{className:"_5i0o",src:e}),i=this.isPlaying()?d._("Pause"):d._("Play");return t("React").createElement(t("AbstractButton.react"),{className:"_3u33","data-testid":t("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:o,label:i,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})},a.propTypes={finishedPlaying:u.bool,isPlaying:u.bool,onPlay:u.func,onPause:u.func,tabIndex:u.string},n.exports=a},null),__d("EmbeddedVideoPlaybackTimer.react",["cx","React","joinClasses","shallowCompare"],function(e,t,o,i,n,r,s){function l(e){"use strict";a.constructor.call(this,e),this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:!1}}var d,a,h=t("React").PropTypes;d=babelHelpers.inherits(l,t("React").Component),a=d&&d.prototype,l.prototype.shouldComponentUpdate=function(e,o){"use strict";return t("shallowCompare")(this,e,o)},l.prototype.componentWillReceiveProps=function(e){"use strict";this.state.displayPreferenceSet||this.setState({displayRemainingTime:!e.displayElapsedTime})},l.prototype.getClock=function(e){"use strict";var t="";isNaN(e)?e=0:e<0&&(e*=-1,t="-");var o=Math.floor(e/3600),i=e-3600*o,n=Math.floor(i/60),r=void 0;this.props.displayMilliseconds?r=Math.floor(i-60*n):(r=Math.ceil(i-60*n),60===r&&(r=0,n++));var s=Math.round(1e3*i),l=("0"+n).slice(-2),d=("0"+r).slice(-2),a=("00"+s).slice(-3),h=t;return h+=0===o?n+":"+d:o+":"+l+":"+d,this.props.displayMilliseconds&&(h+="."+a),h},l.prototype.onButtonClick=function(){"use strict";this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:!0})},l.prototype.render=function(){"use strict";var e=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,o=e?this.props.remainingTimestamp:this.props.playbackPosTimestamp,i="_4irg";return this.props.isInScrubberPreview&&(i="_5lde"),t("React").createElement("div",babelHelpers["extends"]({},this.props,{className:t("joinClasses")(this.props.className,i),onClick:this.onButtonClick.bind(this)}),this.getClock(o))},l.propTypes={isInScrubberPreview:h.bool,playbackPosTimestamp:h.number,remainingTimestamp:h.number,displayElapsedTime:h.bool,displayMilliseconds:h.bool},l.defaultProps={isInScrubberPreview:!1,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:!1,displayMilliseconds:!1},n.exports=l},null),__d("EmbeddedVideoScrubberPointOfInterestBar.react",["cx","EmbeddedVideoPlaybackTimer.react","React"],function(e,t,o,i,n,r,s){function l(){for(var e,t,o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];return t=(e=h.constructor).call.apply(e,[this].concat(i)),this.state={visibility:"hidden"},t}function d(){for(var e,o,i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return o=(e=u.constructor).call.apply(e,[this].concat(n)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(e){return t("React").createElement(l,{key:"poi"+e,playbackDuration:this.props.playbackDuration,timestamp:e,isActive:e===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect})}.bind(this),o}var a,h,c,u,p=t("React").PropTypes;a=babelHelpers.inherits(l,t("React").PureComponent),h=a&&a.prototype,l.prototype.render=function(){"use strict";var e=this.props.timestamp,o=100*e/this.props.playbackDuration+"%",i=t("React").createElement(t("EmbeddedVideoPlaybackTimer.react"),{className:"_2f0g",isInScrubberPreview:!0,playbackPosTimestamp:0,remainingTimestamp:e,style:{left:o,visibility:this.state.visibility}});return t("React").createElement("div",null,t("React").createElement("div",{className:"_2f0h"+(this.props.isActive?" _3t5h":""),onClick:function(t){return this.props.onPointOfInterestSelect(e)}.bind(this),onMouseEnter:function(e){return this.setState({visibility:"visible"})}.bind(this),onMouseLeave:function(e){return this.setState({visibility:"hidden"})}.bind(this),role:"button",style:{left:o},tabIndex:"0"}),i)},l.propTypes={playbackDuration:p.number.isRequired,timestamp:p.number.isRequired,isActive:p.bool.isRequired,onPointOfInterestSelect:p.func.isRequired},c=babelHelpers.inherits(d,t("React").Component),u=c&&c.prototype,d.prototype.shouldComponentUpdate=function(e,t){"use strict";return e.tabIndex!=this.props.tabIndex||e.currentPointOfInterest!==this.props.currentPointOfInterest||e.playbackDuration!=this.props.playbackDuration||e.pointsOfInterest.length!=this.props.pointsOfInterest.length||e.pointsOfInterest.some(function(e,t){return this.props.pointsOfInterest[t]!=e}.bind(this))},d.prototype.render=function(){"use strict";return t("React").createElement("div",{className:"_2f0i",tabIndex:this.props.tabIndex},t("React").createElement("div",{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this)))},d.propTypes={tabIndex:p.string.isRequired,playbackDuration:p.number.isRequired,onPointOfInterestSelect:p.func.isRequired,currentPointOfInterest:p.number,pointsOfInterest:p.array.isRequired},n.exports=d},null),__d("VideoScrubberPreviewSpriteCalculation",[],function(e,t,o,i,n,r){var s={getImageCoordinatesInSpriteByTime:function(e,t){var o=this.getTotalTimeInSprite(t.maxImagesPerSprite,t.timeIntervalBetweenImages),i=Math.floor(e%o/t.timeIntervalBetweenImages),n=Math.floor(i/t.imagesPerRow),r=i%t.imagesPerRow;return{x:r*t.previewScrubberWidth,y:n*t.previewScrubberHeight}},getSpriteIndex:function(e,t,o){var i=this.getTotalTimeInSprite(t,o);return Math.floor(e/i)+1},getTotalTimeInSprite:function(e,t){return e*t}};n.exports=s},null),__d("EmbeddedVideoScrubber.react",["cx","fbt","EmbeddedVideoScrubberPointOfInterestBar.react","EventListener","Keys","Map","EmbeddedVideoPlaybackTimer.react","React","ReactDOM","VideoScrubberPreviewSpriteCalculation","VideoStereoFormat","JSResource","BootloadedComponent.react","VideoInstreamUtils","VideoPlayerUIComponentDrawer","emptyFunction","getElementPosition","joinClasses","shallowCompare"],function(e,t,o,i,n,r,s,l){function d(e){"use strict";h.constructor.call(this,e),this.$EmbeddedVideoScrubber4=new(t("Map")),this.$EmbeddedVideoScrubber4.set(0,""),this.$EmbeddedVideoScrubber7=0,this.state={awaitingUpdate:!1,barCoords:{x:0,y:0,height:0,width:0},mouseOver:!1,nubEngaged:!1,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:!1},lastSpriteDimension:{numRow:0,numColumn:0}}}var a,h,c=t("React").PropTypes;a=babelHelpers.inherits(d,t("React").Component),h=a&&a.prototype,d.prototype.shouldComponentUpdate=function(e,o){"use strict";return t("shallowCompare")(this,e,o)},d.prototype.onDragNubBegin=function(e){"use strict";0===e.button&&(this.setState({nubEngaged:!0,scrubRatio:this.getPositionRatio(e.clientX,this.state.barCoords)}),this.props.onScrubBegin&&this.props.onScrubBegin(),e.stopPropagation(),e.preventDefault())},d.prototype.componentWillReceiveProps=function(e){"use strict";if(this.setState({awaitingUpdate:!1}),this.props.alwaysShowThumbnail){var o=t("getElementPosition")(t("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:o}),this.$EmbeddedVideoScrubber6=null,this.$EmbeddedVideoScrubber5=null,this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(e.playbackDuration,e.playbackPosition))}},d.prototype.componentDidUpdate=function(e,o){"use strict";!o.nubEngaged&&this.state.nubEngaged?(this.$EmbeddedVideoScrubber1=t("EventListener").listen(document,"mousemove",function(e){this.onDragNubUpdate(e),this.onTimecodeUpdate(e)}.bind(this)),this.$EmbeddedVideoScrubber2=t("EventListener").listen(document,"mouseup",this.onDragNubRelease.bind(this))):o.nubEngaged&&!this.state.nubEngaged&&(this.$EmbeddedVideoScrubber1&&this.$EmbeddedVideoScrubber1.remove(),this.$EmbeddedVideoScrubber2&&this.$EmbeddedVideoScrubber2.remove()),!o.mouseOver&&this.state.mouseOver?this.$EmbeddedVideoScrubber3=t("EventListener").listen(document,"mousemove",this.onTimecodeUpdate.bind(this)):o.mouseOver&&!this.state.mouseOver&&this.$EmbeddedVideoScrubber3&&this.$EmbeddedVideoScrubber3.remove()},d.prototype.timecodeUpdate=function(e){"use strict";var o=this.props.playbackDuration;if(o){var i=this.getPositionRatio(e,this.state.barCoords)*o,n=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:t("getElementPosition")(t("ReactDOM").findDOMNode(this.refs.timecode));if(this.$EmbeddedVideoScrubber5=n,this.props.hasScrubberPreview)this.props.previewThumbnailInformation&&(0===this.state.previewThumbnailInformation.previewScrubberWidth&&this.retrievePreviewThumbnailInfo(),t("ReactDOM").unstable_batchedUpdates(function(){this.state.previewThumbnailInformation.useScrubberVideo&&null!==this.state.previewThumbnailInformation.scrubberVideoURI?this.updatePreviewThumbnailVideo(i,n,e):this.props.scrubberPreviewSprites&&this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,i,n,e)}.bind(this)));else{var r=this.getPositionRatio(e,this.state.barCoords)-Math.ceil(n.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:i,timecodeRatio:r})}}},d.prototype.onTimecodeUpdate=function(e){"use strict";this.timecodeUpdate(e.clientX),e.preventDefault(),e.stopPropagation()},d.prototype.updatePreviewThumbnail=function(e,t,o,i){"use strict";this.setState({timecodeTimestamp:t});var n=Math.floor(t),r=this.$EmbeddedVideoScrubber4;if(this.isSpriteMapURIFetched()||(this.$EmbeddedVideoScrubber4=e),this.state.previewThumbnailInformation){var s=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(n,s,r)}this.updatePreviewThumbnailLocation(o,i)},d.prototype.updatePreviewThumbnailVideo=function(e,o,i){"use strict";this.setState({timecodeTimestamp:e});var n=t("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);n.currentTime=e/30,this.updatePreviewThumbnailLocation(o,i)},d.prototype.updatePreviewThumbnailLocation=function(e,o){"use strict";var i=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:this.$EmbeddedVideoScrubber6=t("getElementPosition")(t("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber6=i;var n=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(i.width/2)/this.state.barCoords.width,r=(i.width-e.width)/(2*i.width);this.setState({timecodeRatio:r,previewRatio:n})},d.prototype.updatePreviewThumbnailImage=function(e,o,i){var n=this,r=t("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(e,o),s=t("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(e,o.maxImagesPerSprite,o.timeIntervalBetweenImages);s==this.getNumberOfSprites()&&0==this.state.lastSpriteDimension.numRow&&this.$EmbeddedVideoScrubber4&&function(){var e=n.$EmbeddedVideoScrubber4.get(s),t=new Image,o=n.onLastImageLoad.bind(n);t.onload=function(){o(this.width,this.height)},t.src=e}(),this.setState({scrubberPreviewSpriteIndex:s,scrubberPreviewBackgroundPosition:r})},d.prototype.onLastImageLoad=function(e,t){"use strict";this.setState({lastSpriteDimension:{numRow:t/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:e/this.state.previewThumbnailInformation.previewScrubberWidth}})},d.prototype.retrievePreviewThumbnailInfo=function(){"use strict";this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})},d.prototype.isSpriteMapURIFetched=function(){"use strict";return!!this.$EmbeddedVideoScrubber4&&this.$EmbeddedVideoScrubber4.size>1},d.prototype.getPositionRatio=function(e,t){"use strict";var o=e-t.x,i=o/t.width;return Math.min(Math.max(0,i),1)},d.prototype.onDragNubUpdate=function(e){"use strict";this.setState({scrubRatio:this.getPositionRatio(e.clientX,this.state.barCoords)})},d.prototype.onDragNubRelease=function(e){"use strict";var t=this.props.playbackDuration;if(t){var o=this.state.awaitingUpdate;this.props.onScrubEnd&&(this.props.onScrubEnd(this.state.scrubRatio*t),o=!0),this.setState({nubEngaged:!1,awaitingUpdate:o}),e.preventDefault(),e.stopPropagation()}},d.prototype.getPlayedRatio=function(e,t){"use strict";if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!e||!t)return 0;var o=t/e;return this.getRangeLimitedRatio(o)},d.prototype.getBufferedRatio=function(){"use strict";var e=this.props.playbackDuration,t=this.props.bufferedPosition;if(!e||!t)return 0;var o=t/e;return this.getRangeLimitedRatio(o)},d.prototype.getRangeLimitedRatio=function(e){"use strict";return isNaN(e)||e<0||e>1?0:e},d.prototype.getNumberOfSprites=function(){"use strict";return this.$EmbeddedVideoScrubber4?this.$EmbeddedVideoScrubber4.size:0},d.prototype.getAdBreakIndicators=function(){"use strict";if(!this.props.playbackDuration||!this.props.adBreaksTimeOffset)return null;for(var e=[],o=0;o<this.props.adBreaksTimeOffset.length;o++){var i=this.props.adBreaksTimeOffset[o],n=this.props.playbackDuration;if(!(i<0||i>n)){var r={left:i/n*100+"%"};e.push(t("React").createElement("div",{key:"ad_break_indicator_"+o,style:r,className:"_5z5n"}))}}return t("React").createElement("div",null,e)},d.prototype.getInsertedAdBreaks=function(){"use strict";if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var e=[];return this.props.insertedAdBreaks.map(function(o,i){var n=o.timeOffset,r=this.props.playbackDuration,s={left:n/r*100-1.4+"%"};e.push(t("React").createElement("div",{key:"inserted_ad_break"+i,style:s,className:"_2d49"+(this.props.isAdBreakDisabled?" _9ob":"")},t("React").createElement("text",{className:"_2d4a"},i+1)))}.bind(this)),t("React").createElement("div",null,e)},d.prototype.getEligibleAdBreaksTimeSegments=function(){"use strict";if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var e=0;e=this.state.awaitingUpdate?this.$EmbeddedVideoScrubber7:this.props.playbackPosition;var o=this.props.playbackDuration,i=t("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,o);this.state.nubEngaged?this.$EmbeddedVideoScrubber7=this.state.timecodeTimestamp:this.$EmbeddedVideoScrubber7=e;var n=[];return i.forEach(function(e,i){var r=Math.max(2,(e.end-e.start)/o*100),s=this.$EmbeddedVideoScrubber7>=e.start&&this.$EmbeddedVideoScrubber7<=e.end;if(s){var l={left:"calc("+e.start/o*100+"% - 12px)",width:"calc("+r+"% + 16px)"};n.push(t("React").createElement("span",{key:"time_segment"+i,className:"_2xts",style:l}))}else{var d={left:"calc("+e.start/o*100+"% - 10px)",width:"calc("+r+"% + 16px)"};n.push(t("React").createElement("span",{key:"time_segment"+i,className:"_2xtr",style:d}))}}.bind(this)),t("React").createElement("div",{className:"_44bi"},n)},d.prototype.onMouseEnter=function(e){"use strict";if(!this.props.alwaysShowThumbnail){var o=t("getElementPosition")(t("ReactDOM").findDOMNode(this.refs.bar));this.setState({mouseOver:!0,barCoords:o})}},d.prototype.onMouseLeave=function(e){"use strict";this.props.alwaysShowThumbnail||(t("ReactDOM").findDOMNode(this.refs.bar).blur(),t("ReactDOM").unstable_batchedUpdates(function(){this.setState({mouseOver:!1}),this.state.nubEngaged||this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})}.bind(this)),this.$EmbeddedVideoScrubber6=null,this.$EmbeddedVideoScrubber5=null)},d.prototype.onMouseEnterOnThumbnailOrTimecode=function(e){"use strict";if(!this.state.nubEngaged&&!this.props.alwaysShowThumbnail){var o=void 0;o=this.props.hasScrubberPreview?this.refs.previewThumbnailContainer:this.refs.timecode;var i=t("ReactDOM").findDOMNode(o);i.style.visibility="hidden"}},d.prototype.onMouseLeaveOnThumbnailOrTimecode=function(e){"use strict";if(!this.state.nubEngaged&&!this.props.alwaysShowThumbnail){var o=void 0;o=this.props.hasScrubberPreview?this.refs.previewThumbnailContainer:this.refs.timecode;var i=t("ReactDOM").findDOMNode(o);i.style.visibility="visible"}},d.prototype.onKeyDown=function(e){"use strict";var o=this.props.playbackDuration,i=this.props.playbackPosition;if(o&&i){var n=i;if(e.keyCode===t("Keys").RIGHT)e.preventDefault(),e.stopPropagation(),n+=5,n>=o&&(n=o-.01);else if(e.keyCode===t("Keys").LEFT)e.preventDefault(),e.stopPropagation(),n-=5,n<0&&(n=0);else if(e.keyCode===t("Keys").HOME)e.preventDefault(),e.stopPropagation(),n=0;else{if(e.keyCode!==t("Keys").END)return;e.preventDefault(),e.stopPropagation(),n=o-.01}this.props.onScrubEnd&&this.props.onScrubEnd(n)}},d.prototype.canShowHeatmap=function(){"use strict";return null!=this.props.interestLevels&&null!=this.props.isPlaying&&null!=this.props.controlsHidden&&null!=this.props.drawer},d.prototype.render=function(){"use strict";var e=t("joinClasses")(this.props.className,"_gn0"+(this.state.nubEngaged?" _gn1":"")),o=(this.props.hasScrubberPreview?"_24wr":"")+(this.props.hasScrubberPreview?"":" _4irh"),i={width:100*this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)+"%"},n={width:100*this.getBufferedRatio()+"%"},r={left:100*this.state.timecodeRatio+"%"},s={},d={},a=null,h=null,c=null;if((this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail)&&(c=t("React").createElement(t("EmbeddedVideoPlaybackTimer.react"),{className:o,isInScrubberPreview:!0,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:r}),this.props.hasScrubberPreview&&this.state.previewThumbnailInformation)){var u=this.state.previewThumbnailInformation.previewScrubberWidth,p=this.state.previewThumbnailInformation.previewScrubberHeight,V=100,C=100;this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex?(V*=this.state.previewThumbnailInformation.imagesPerRow,C*=this.state.previewThumbnailInformation.imagesPerColumn):this.state.lastSpriteDimension.numRow&&(V*=this.state.lastSpriteDimension.numRow,C*=this.state.lastSpriteDimension.numColumn);var m=this.state.previewThumbnailInformation.stereoMode;m===t("VideoStereoFormat").LEFT_RIGHT?(u/=2,V*=2):m===t("VideoStereoFormat").TOP_BOTTOM&&(p/=2,C*=2);var S=1;if(this.props.isFullscreen&&(S=2),this.state.previewThumbnailInformation.useScrubberVideo&&null!==this.state.previewThumbnailInformation.scrubberVideoURI)s={width:u*S+"px",height:p*S+"px"},h=t("React").createElement("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s});else if(this.$EmbeddedVideoScrubber4){var b="";if(this.state.scrubberPreviewSpriteIndex){var y=this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex);y&&(b="url("+y+")")}var $=void 0;V>100?$=V+"% "+C+"%":b="",s={width:u*S+"px",height:p*S+"px",backgroundImage:b,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*S+"px -"+this.state.scrubberPreviewBackgroundPosition.y*S+"px",backgroundSize:$},h=t("React").createElement("div",{className:"_24wt",ref:"previewThumbnail",style:s})}d={left:100*this.state.previewRatio+"%",display:this.props.alwaysShowThumbnail?"block":void 0},a=t("React").createElement("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:"previewThumbnailContainer",style:d},h,c)}var g=null;this.props.pointsOfInterest.length>0&&(g=t("React").createElement(t("EmbeddedVideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest}));var f=this.getAdBreakIndicators(),E=null;if(this.canShowHeatmap()){var v=this.props.hasScrubberPreview?a:c,P=null;
null!=v&&(P=this.refs[v.ref]),E=t("React").createElement("div",{className:"_27ew"},t("React").createElement("div",{className:"_5h19",style:i},t("React").createElement("div",{className:"_gn5 _5ixx",ref:"nub"})),t("React").createElement(t("BootloadedComponent.react"),{bootloadLoader:t("JSResource")("LiveHeatmap.react").__setRef("EmbeddedVideoScrubber.react"),bootloadPlaceholder:t("React").createElement("div",null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:P,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":l._("Change Position")}),v,f)}var A=this.props.playbackDuration>500?10:1,_=Math.round(100*this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*A)/A,W=_+"%",R=t("React").createElement("div",{onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onKeyDown:this.onKeyDown.bind(this),className:e},E?E:t("React").createElement("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":W,"aria-label":l._("Change position"),className:"_gn2",ref:"bar"},t("React").createElement("div",{className:"_gn3",style:n}),t("React").createElement("div",{style:i,className:"_gn4"},t("React").createElement("div",{className:"_gn5 _5ixx",ref:"nub"})),this.props.hasScrubberPreview?a:c,f,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return t("React").createElement("div",null,R,g)},d.propTypes={alwaysShowThumbnail:c.bool,bufferedPosition:c.number.isRequired,hasScrubberPreview:c.bool,isFullscreen:c.bool,onScrubBegin:c.func.isRequired,onPointOfInterestSelect:c.func,onScrubEnd:c.func.isRequired,playbackDuration:c.number.isRequired,playbackPosition:c.number.isRequired,pointsOfInterest:c.array,previewThumbnailInformation:c.object,scrubberPreviewSprites:c.object,tabIndex:c.string.isRequired},d.defaultProps={alwaysShowThumbnail:!1,hasScrubberPreview:!1,pointsOfInterest:[],onPointOfInterestSelect:t("emptyFunction"),onScrubBegin:t("emptyFunction"),onScrubEnd:t("emptyFunction")},n.exports=d},null),__d("EmbeddedVideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph"],function(e,t,o,i,n,r,s,l,d){"use strict";function a(){for(var e,t,o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];return t=(e=c.constructor).call.apply(e,[this].concat(i)),this.onButtonClick=function(){this.props.onSidePaneToggle()}.bind(this),t}var h,c,u=t("React").PropTypes;h=babelHelpers.inherits(a,t("React").PureComponent),c=h&&h.prototype,a.prototype.render=function(){var e=this.props.isSidePaneOpen?d._("Click to hide details"):d._("Click to show details"),o=s(this.props.isSidePaneOpen?"images/assets_DO_NOT_HARDCODE/fb_glyphs/desktop_24_fig-white.png":"images/assets_DO_NOT_HARDCODE/fb_glyphs/desktop-column_24_fig-white.png");return t("React").createElement(t("AbstractButton.react"),babelHelpers["extends"]({className:"_3u33"},t("TooltipData").propsFor(e,"above"),{image:t("React").createElement(t("Image.react"),{className:"_345n",src:o}),onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))},a.propTypes={isSidePaneOpen:u.bool,onSidePaneToggle:u.func,tabIndex:u.string},n.exports=a},null),__d("EmbeddedVideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","shallowCompare"],function(e,t,o,i,n,r,s){function l(e){"use strict";a.constructor.call(this,e),this.state={awaitingUpdate:!1,engaged:!1,volume:e.volume}}var d,a,h=t("React").PropTypes;d=babelHelpers.inherits(l,t("React").Component),a=d&&d.prototype,l.prototype.shouldComponentUpdate=function(e,o){"use strict";return t("shallowCompare")(this,e,o)},l.prototype.componentWillReceiveProps=function(e){"use strict";this.setState({awaitingUpdate:!1})},l.prototype.componentDidUpdate=function(e,o){"use strict";!this.state.engaged&&o.engaged?(this.$EmbeddedVideoVolumeSlider2&&this.$EmbeddedVideoVolumeSlider2.remove(),this.$EmbeddedVideoVolumeSlider1&&this.$EmbeddedVideoVolumeSlider1.remove()):this.state.engaged&&!o.engaged&&(this.$EmbeddedVideoVolumeSlider1=t("EventListener").listen(document,"mousemove",this.onMouseMove.bind(this)),this.$EmbeddedVideoVolumeSlider2=t("EventListener").listen(document,"mouseup",this.onMouseUp.bind(this)))},l.prototype.onMouseDown=function(e){"use strict";0===e.button&&(this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume),this.props.isHorizontal?this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(e.clientX)}):this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(e.clientY)}),e.preventDefault(),e.stopPropagation())},l.prototype.getClampedClickPositionVolume=function(e){"use strict";var o=t("getElementPosition")(t("ReactDOM").findDOMNode(this.refs.slider)),i=t("getElementPosition")(t("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var n=e+i/2-o.x;return Math.max(0,Math.min(1,n/o.width))}var r=o.y-e+o.height+i/2;return Math.max(0,Math.min(1,r/o.height))},l.prototype.onMouseUp=function(e){"use strict";this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume),this.setState({engaged:!1,awaitingUpdate:!0}),e.preventDefault(),e.stopPropagation()},l.prototype.onMouseMove=function(e){"use strict";this.props.isHorizontal?this.setState({volume:this.getClampedClickPositionVolume(e.clientX)}):this.setState({volume:this.getClampedClickPositionVolume(e.clientY)}),this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume),e.preventDefault(),e.stopPropagation()},l.prototype.getVolume=function(){"use strict";return this.state.engaged||this.state.awaitingUpdate?this.state.volume:this.props.volume},l.prototype.render=function(){"use strict";var e=this.props.isHorizontal||!1,o=e?{width:Math.round(100*this.getVolume())+"%"}:{height:Math.round(100*this.getVolume())+"%"},i="_2-ml"+(e?" _3cxz":"")+(this.state.engaged?" _gn1":"");return t("React").createElement("div",{className:i,onMouseDown:this.onMouseDown.bind(this)},t("React").createElement("div",{className:"_3ghu"},t("React").createElement("div",{className:"_2-mm",ref:"slider"},t("React").createElement("div",{className:"_2-mn",style:o},t("React").createElement("div",{className:"_2-mo _5ixx",ref:"nub"})))),t("React").createElement("div",{className:"_2-mp"}))},l.propTypes={volume:h.number,onVolumeChangeBegin:h.func,onVolumeChangeEnd:h.func,onVolumeChange:h.func},l.defaultProps={volume:0,onVolumeChange:function(e){},onVolumeChangeBegin:function(e){},onVolumeChangeEnd:function(e){}},n.exports=l},null),__d("SpatialAudioFeedNUX.react",["ix","fbt","cx","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],function(e,t,o,i,n,r,s,l,d){"use strict";function a(e){c.constructor.call(this,e),this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:!1});var e=t("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",V).getURI();(new(t("AsyncRequest"))).setURI(e).send()}.bind(this),this.state={showNux:!0}}var h,c,u=l._("Experience more with 360 audio"),p=l._("Hear sound from all directions when you wear headphones"),V=4576;h=babelHelpers.inherits(a,t("React").Component),c=h&&h.prototype,a.prototype.render=function(){return t("React").createElement(t("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:"auto"},t("React").createElement("div",{className:"_4r0v"},t("React").createElement("div",{className:"_4r0w"},t("React").createElement("div",{className:"_4r0x"},t("React").createElement(t("Image.react"),{src:s("images/assets_DO_NOT_HARDCODE/fb_glyphs/audio-headphones_12_fig-white.png")}))),t("React").createElement("div",{className:"_4r0y"},t("React").createElement(t("XUIText.react"),{size:"medium",className:"_4r0z"},u),t("React").createElement(t("XUIText.react"),{size:"small",className:"_4r0-"},p))))},n.exports=a},null),__d("EmbeddedVideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","VideoPlayerExperiments","VideoPlayerVolumeSettings","VideoWebDriverIDs","EmbeddedVideoVolumeSlider.react","fbglyph","shallowCompare"],function(e,t,o,i,n,r,s,l,d,a){function h(e){"use strict";u.constructor.call(this,e),this.state={nubEngaged:!1,focused:!1,lastVolumeBeforeMute:1}}var c,u,p=t("React").PropTypes;c=babelHelpers.inherits(h,t("React").Component),u=c&&c.prototype,h.prototype.shouldComponentUpdate=function(e,o){"use strict";return t("shallowCompare")(this,e,o)},h.prototype.onButtonClick=function(){"use strict";return this.checkLastVolumeBeforeMuteInvariant(),0===this.props.volume?this.onSliderVolumeChange(this.state.lastVolumeBeforeMute):void(this.props.onToggleMuted&&this.props.onToggleMuted())},h.prototype.onButtonFocus=function(){"use strict";this.setState({focused:!0})},h.prototype.onButtonBlur=function(){"use strict";this.setState({focused:!1})},h.prototype.onKeyDown=function(e){"use strict";var o=this.props.volume;if(e.keyCode===t("Keys").UP)e.preventDefault(),e.stopPropagation(),o+=.05,o>1&&(o=1);else{if(e.keyCode!==t("Keys").DOWN)return;e.preventDefault(),e.stopPropagation(),o-=.05,o<0&&(o=0)}this.onSliderVolumeChangeEnd(o)},h.prototype.onMouseOut=function(e){"use strict";t("ReactDOM").findDOMNode(this.refs.button).blur()},h.prototype.getVolume=function(){"use strict";return this.props.isMuted?0:this.props.volume},h.prototype.onSliderVolumeChangeBegin=function(){"use strict";var e=this.props.volume;e>0&&(this.setState({nubEngaged:!0,lastVolumeBeforeMute:e}),t("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(e))},h.prototype.onSliderVolumeChangeEnd=function(e){"use strict";e>0?(this.setState({lastVolumeBeforeMute:e}),t("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(e),this.onSliderVolumeChange(e)):(this.props.onVolumeChange(this.state.lastVolumeBeforeMute),this.props.isMuted||this.props.onToggleMuted&&this.props.onToggleMuted()),this.setState({nubEngaged:!1})},h.prototype.onSliderVolumeChange=function(e){"use strict";(e>0&&this.props.isMuted||0===e&&!this.props.isMuted)&&this.props.onToggleMuted&&this.props.onToggleMuted(),this.props.onVolumeChange&&this.props.onVolumeChange(e)},h.prototype.checkLastVolumeBeforeMuteInvariant=function(){"use strict";this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||a(0)},h.prototype.render=function(){"use strict";var e=Math.round(100*this.getVolume()),o=null;if(0==e)o=t("React").createElement(t("Image.react"),{className:"_5i0o",src:s("images/assets_DO_NOT_HARDCODE/fb_glyphs/volume-mute_24_fig-white.png")});else{var i=null;i=s(e<=33?"images/assets_DO_NOT_HARDCODE/fb_glyphs/volume-low_24_fig-white.png":e<=66?"images/assets_DO_NOT_HARDCODE/fb_glyphs/volume-medium_24_fig-white.png":"images/assets_DO_NOT_HARDCODE/fb_glyphs/volume_24_fig-white.png"),o=t("React").createElement("div",{className:"_44_"},t("React").createElement("div",{className:"_454"},t("React").createElement(t("Image.react"),{className:"_5i0o",src:i})))}var n="_3s02"+(this.state.nubEngaged?" _gn1":"")+(this.state.focused?" _4v4":""),r="_3u33 _3s03"+(this.getVolume()||t("VideoPlayerExperiments").redesign?"":" _17bp"),l=this.getVolume()?d._("Mute"):d._("Unmute"),a=t("React").createElement(t("EmbeddedVideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||!1,volume:this.getVolume()}),h=t("React").createElement(t("AbstractButton.react"),{className:r,"data-testid":t("VideoWebDriverIDs").MUTE_UNMUTE_CONTROL,image:o,label:l,labelIsHidden:!0,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}),c=this.props.showSpatialAudioNUX?t("React").createElement(t("SpatialAudioFeedNUX.react"),{contextRef:function(){return this.refs.button}.bind(this)}):null;return this.props.isHorizontal?t("React").createElement("div",{className:n},h,a,c):t("React").createElement("div",{className:n},a,h,c)},h.propTypes={isMuted:p.bool,onVolumeChange:p.func,onToggleMuted:p.func,tabIndex:p.string,volume:p.number},n.exports=h},null),__d("EmbeddedVideoControls.react",["cx","fbt","ix","BootloadedComponent.react","AbstractButton.react","EmbeddedVideoFullscreenControl.react","Image.react","JSResource","EmbeddedVideoPlaybackControl.react","EmbeddedVideoPlaybackTimer.react","React","ReactDOM","EmbeddedVideoScrubber.react","EmbeddedVideoSidepaneToggleControl.react","TooltipData","EmbeddedVideoVolumeControl.react","VideoPlayerExperiments","VideoPlayerUIComponentDrawer","fbglyph","shallowCompare"],function(e,t,o,i,n,r,s,l,d){function a(e){"use strict";c.constructor.call(this,e)}var h,c,u=t("React").PropTypes;h=babelHelpers.inherits(a,t("React").Component),c=h&&h.prototype,a.prototype.shouldComponentUpdate=function(e,o){"use strict";return t("shallowCompare")(this,e,o)},a.prototype.isHidden=function(){"use strict";return this.props.hidden},a.prototype.isTransparent=function(){"use strict";return this.props.transparent},a.prototype.onMouseOut=function(e){"use strict";t("ReactDOM").findDOMNode(this.refs.button).blur()},a.prototype.render=function(){"use strict";var e=t("VideoPlayerExperiments").inlineSoundVisible,o=(t("VideoPlayerExperiments").redesign?"":"_17l4")+" _2mbh"+(this.isHidden()?" _2mbi":"")+(this.isTransparent()&&!e?" _5744":""),i=(t("VideoPlayerExperiments").redesign&&t("VideoPlayerExperiments").noanim?"_fwi":"")+(t("VideoPlayerExperiments").redesign&&t("VideoPlayerExperiments").noshadow?" _fwj":"")+(t("VideoPlayerExperiments").redesign?" _i5q":"")+(this.props.showSidePaneToggle?" _369t":""),n="_2mbj _2mbk"+(this.isTransparent()&&e?" _5744":""),r="_2mbj _yaw"+(this.isTransparent()&&e?" _5744":""),s="_2mbj _2mbl"+(this.isTransparent()&&e?" _5744":""),a="_2mbj _4a9j"+(!this.isTransparent()||this.props.isInline&&!this.props.isFullscreen&&this.props.isPlaying?"":" _5744"),h="_5rbl",c="_4lqt _4ubd",u="_4lqt _4ubd _3t0x"+(this.props.isCommentAttachment?"":" hidden_elem"),p=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var V=this.props.playbackPosition-this.props.playbackDuration;p=t("React").createElement(t("EmbeddedVideoPlaybackTimer.react"),{className:"_25e2"+(this.props.displayMilliseconds?" _5ziu":""),playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:V,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds})}var C=null,m=null,S=null,b=null;this.props.isLive&&!this.props.hasHD||this.props.hideSettings||(t("VideoPlayerExperiments").redesign?S=t("React").createElement(t("BootloadedComponent.react"),{bootloadLoader:t("JSResource")("EmbeddedVideoSettingsControl.react").__setRef("EmbeddedVideoControls.react"),bootloadPlaceholder:t("React").createElement("span",null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat}):(this.props.hasHD&&(C=t("React").createElement(t("BootloadedComponent.react"),{bootloadLoader:t("JSResource")("EmbeddedVideoQualityControl.react").__setRef("EmbeddedVideoControls.react"),bootloadPlaceholder:t("React").createElement("span",null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:"0"})),this.props.hasSubtitles&&(m=t("React").createElement(t("BootloadedComponent.react"),{bootloadPlaceholder:t("React").createElement("span",null),bootloadLoader:t("JSResource")("EmbeddedVideoClosedCaptionsControl.react").__setRef("EmbeddedVideoControls.react"),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:"0"})))),this.props.isLive&&t("VideoPlayerExperiments").hlsButton&&(b=t("React").createElement(t("BootloadedComponent.react"),{bootloadPlaceholder:t("React").createElement("span",null),bootloadLoader:t("JSResource")("EmbeddedVideoToHLSControl.react").__setRef("EmbeddedVideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"}));var y=null;if(this.props.allowFullscreen){var $=this.props.isFullscreen?l._("Click to exit fullscreen"):l._("Click to enter fullscreen");y=t("React").createElement(t("EmbeddedVideoFullscreenControl.react"),babelHelpers["extends"]({},t("TooltipData").propsFor($,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}var g=null;this.props.hasWatchAndScroll&&!this.props.isFullscreen&&(g=t("React").createElement(t("BootloadedComponent.react"),{bootloadPlaceholder:t("React").createElement("span",null),bootloadLoader:t("JSResource")("EmbeddedVideoWatchAndScrollControl.react").__setRef("EmbeddedVideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible}));var f=null;this.props.allowEnqueuing&&(f=t("React").createElement(t("BootloadedComponent.react"),{bootloadPlaceholder:t("React").createElement("span",null),bootloadLoader:t("JSResource")("EmbeddedVideoEnqueueControl.react").__setRef("EmbeddedVideoControls.react"),disabled:this.props.isCasting,onEnqueueVideo:this.props.onEnqueueVideo}));var E=null;this.props.allowCasting&&this.props.hasFoundReceiver&&(E=t("React").createElement(t("BootloadedComponent.react"),{bootloadPlaceholder:t("React").createElement("span",null),bootloadLoader:t("JSResource")("EmbeddedVideoCastingControl.react").__setRef("EmbeddedVideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast}));var v=null,P=null;this.props.permalinkURL&&(P=t("React").createElement(t("Image.react"),{className:"_5i0o",src:d("images/assets_DO_NOT_HARDCODE/fb_glyphs/app-facebook_24_fig-white.png")}),v=t("React").createElement(t("AbstractButton.react"),{className:"_3u33",href:this.props.permalinkURL,image:P,label:l._("Open in a new tab"),labelIsHidden:!0,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:"0",target:"_blank",type:"button"}));var A=null,_=null;this.props.isLive||this.props.hidePlaybackControl||(_=t("React").createElement(t("EmbeddedVideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:"0"}),A=t("React").createElement(t("EmbeddedVideoScrubber.react"),{adBreaksTimeOffset:this.props.adBreaksTimeOffset,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:"0"}));var W=null;this.props.showSidePaneToggle&&(W=t("React").createElement(t("EmbeddedVideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"}));var R=null;t("VideoPlayerExperiments").redesign&&(R=t("React").createElement("div",{className:"_4lqu"+(this.isTransparent()?" _5744":"")}));var w=t("React").createElement(t("EmbeddedVideoVolumeControl.react"),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX}),O=null;if(this.props.useTwoRows){var T=t("React").createElement(t("EmbeddedVideoVolumeControl.react"),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:!0,tabIndex:"0"});O=t("React").createElement("div",{className:u},t("React").createElement("div",{className:h},t("React").createElement("div",{className:o},t("React").createElement("div",{className:n}),t("React").createElement("div",{className:r},A),t("React").createElement("div",{className:s},p))),t("React").createElement("div",{className:h},t("React").createElement("div",{className:o},t("React").createElement("div",{className:n},_,T),t("React").createElement("div",{className:r}),t("React").createElement("div",{className:s},m,b,C,S,g,f,E,y,v))))}var F=this.props.useTwoRows&&this.props.isCommentAttachment?null:t("React").createElement("div",{className:c},t("React").createElement("div",{className:h},t("React").createElement("div",{className:o},t("React").createElement("div",{className:n},_),t("React").createElement("div",{className:r},A),t("React").createElement("div",{className:s},p,e||w,m,b,C,S,g,f,E,W,y,v),t("React").createElement("div",{className:a},!e||w))));return t("React").createElement("div",{className:i},R,F,O)},a.propTypes={allowFullscreen:u.bool,allowEnqueuing:u.bool,finishedPlaying:u.bool,hasHD:u.bool,hasSubtitles:u.bool,hasWatchAndScroll:u.bool,hidden:u.bool,hidePlaybackControl:u.bool,hideRemainingTime:u.bool,hideSettings:u.bool,isCommentAttachment:u.bool,isFullscreen:u.bool,isHD:u.bool,isInline:u.bool,isLive:u.bool,isMuted:u.bool,isPlaying:u.bool,isSidePaneOpen:u.bool,isSlidingWNSEligible:u.bool,areSubtitlesActive:u.bool,areHLSActive:u.bool,onEnterWatchAndScroll:u.func,onEnqueueVideo:u.func,onPause:u.func,onPlay:u.func,onSeek:u.func,onToggleFullscreen:u.func,onToggleHD:u.func,onToggleHLS:u.func,onToggleMuted:u.func,onToggleSubtitles:u.func,onVolumeChange:u.func,permalinkURL:u.string,playbackDuration:u.number,playbackPosition:u.number,displayElapsedTime:u.bool,displayMilliseconds:u.bool,transparent:u.bool,volume:u.number,scrubberPreviewSprites:u.object,hasScrubberPreview:u.bool,previewThumbnailInformation:u.object,onPointOfInterestSelect:u.func,pointsOfInterest:u.array,availableQualities:u.array,selectedQuality:u.string,canAutoSelectVideoQuality:u.bool,onSelectQuality:u.func,showQualitySelector:u.bool,qualitySelectorMinStreams:u.number,streamingFormat:u.string,useTwoRows:u.bool,adBreaksTimeOffset:u.array,showSidePaneToggle:u.bool},a.defaultProps={allowCasting:!1,bufferedPosition:0,hasFoundReceiver:!1,displayElapsedTime:!1,displayMilliseconds:!1,hidden:!1,hidePlaybackControl:!1,hideRemainingTime:!1,hideSettings:!1,isCasting:!1,isCastingSupported:!1,isCommentAttachment:!1,isMuted:!1,isPlaying:!1,onSidePaneToggle:function(){},onStartCast:function(){},onStopCast:function(){},playbackDuration:0,playbackPosition:0,showSidePaneToggle:!1,transparent:!1,useTwoRows:!1,volume:0},n.exports=a},null),__d("VideoWatchAndScrollEndScreen.react",["ix","cx","Image.react","React","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","fbglyph"],function(e,t,o,i,n,r,s,l){function d(){"use strict";a.apply(this,arguments)}var a,h,c=t("React").PropTypes;a=babelHelpers.inherits(d,t("React").Component),h=a&&a.prototype,d.prototype.render=function(){"use strict";return t("React").createElement("div",{className:"_5qdn _2se8"+(this.props.fadeOut?" _2gud":"")+" _1s-2"},t("React").createElement("div",{className:"_1szz _2se8"},t("React").createElement("div",{className:"_1szy _ww8",onClick:this.props.onReplay,role:"presentation"},t("React").createElement(t("VideoChannelProgressCircle.react"),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:!0},t("React").createElement(t("VideoChannelReplayImage.react"),{size:"small"})))),t("React").createElement("div",{className:"_3r7h _2se8",onClick:this.props.onClose,role:"button",tabIndex:"0"},t("React").createElement(t("Image.react"),{src:s("images/assets_DO_NOT_HARDCODE/fb_glyphs/cross_20_fig-white.png")})))},d.propTypes={endScreenDuration:c.number.isRequired,fadeOut:c.bool,makeProgress:c.bool.isRequired,onReplay:c.func.isRequired,onClose:c.func.isRequired},n.exports=d},null),__d("VideoWatchAndScrollContainer.react",["csx","cx","CSS","DOM","DOMContainer.react","DOMDimensions","Event","Parent","React","ReactCSSTransitionGroup","Rect","SubscriptionsHandler","VideoWatchAndScrollEndScreen.react","cancelAnimationFrame","getViewportDimensions","requestAnimationFrame","shallowCompare","throttle"],function(e,t,o,i,n,r,s,l){"use strict";function d(e,t){h.constructor.call(this,e,t),this.state=this.$VideoWatchAndScrollContainer2(this.props)}var a,h,c=t("React").PropTypes,u=10,p=230,V=476,C=300,m=3e3,S={NW:"nw",NE:"ne",SE:"se",SW:"sw"};a=babelHelpers.inherits(d,t("React").Component),h=a&&a.prototype,d.prototype.$VideoWatchAndScrollContainer2=function(e){var t=this.$VideoWatchAndScrollContainer3(),o=this.$VideoWatchAndScrollContainer4(this.props.initialPosition,t);return{channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:t,dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:!1,endScreenShown:!1,fadeOut:!1,fadeOutPlaceholder:null,height:o.height,left:o.left,overlayShown:!1,resizeDirection:null,top:o.top,width:o.width,videoIndex:0}},d.prototype.shouldComponentUpdate=function(e,o){return!this.state.fadeOut&&t("shallowCompare")(this,e,o)},d.prototype.componentDidUpdate=function(e,o){if(o){!o.dragging&&this.state.dragging?(this.documentSubscriptions=new(t("SubscriptionsHandler")),this.documentSubscriptions.addSubscriptions(t("Event").listen(document,"mousemove",this.$VideoWatchAndScrollContainer5.bind(this)),t("Event").listen(document,"mouseup",this.$VideoWatchAndScrollContainer6.bind(this)))):o.dragging&&!this.state.dragging&&this.documentSubscriptions.release(),o.endScreenShown!==this.state.endScreenShown?this.state.endScreenShown?this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1),this.setState({endScreenShown:!1,endScreenFadeOut:!0})}.bind(this),m):(clearTimeout(this.$VideoWatchAndScrollContainer1),this.$VideoWatchAndScrollContainer1=null,this.setState({endScreenFadeOut:!1})):this.state.endScreenShown&&this.state.videoIndex>=o.channelVideoElements.length-1&&this.state.videoIndex<this.state.channelVideoElements.length-1&&(clearTimeout(this.$VideoWatchAndScrollContainer1),this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1),this.setState({endScreenShown:!1,endScreenFadeOut:!0})}.bind(this),m));var i=["._23if","._23ig","._452w","._2i7a"],n=o.channelVideoElements||[];this.state.channelVideoElements.forEach(function(e){if(n.indexOf(e)===-1){i.forEach(function(o){var i=t("DOM").scry(e,o),n=i[0];n&&t("CSS").hide(n)});var o=t("DOM").scry(e,"._3pay"),r=o[0];r&&(t("CSS").removeClass(r,"_3pay"),t("CSS").addClass(r,"_2337"))}})}},d.prototype.componentDidMount=function(){this.resizeListener=t("Event").listen(window,"resize",t("throttle")(function(){var e=this.$VideoWatchAndScrollContainer3(),t=this.$VideoWatchAndScrollContainer4({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},e);this.setState({containerBoundingBox:e,height:t.height,left:t.left,top:t.top,width:t.width})}.bind(this),100))},d.prototype.componentWillUnmount=function(){this.documentSubscriptions&&this.documentSubscriptions.release(),this.resizeListener&&this.resizeListener.remove(),this.$VideoWatchAndScrollContainer1&&clearTimeout(this.$VideoWatchAndScrollContainer1)},d.prototype.getFadeOutStatus=function(){return this.state.fadeOut},d.prototype.getChannelVideoElements=function(){return this.state.channelVideoElements},d.prototype.$VideoWatchAndScrollContainer7=function(e,t){this.$VideoWatchAndScrollContainer8(t,e)},d.prototype.$VideoWatchAndScrollContainer9=function(e){t("Parent").bySelector(e.target,"._3t-6")&&this.$VideoWatchAndScrollContainer8(e,null)},d.prototype.$VideoWatchAndScrollContainer10=function(e){return 0!==e.button||t("Parent").bySelector(e.target,"._3t-6")||t("Parent").bySelector(e.target,"._2se8")},d.prototype.$VideoWatchAndScrollContainer11=function(e){this.$VideoWatchAndScrollContainer10(e)||this.props.onClick&&this.props.onClick()},d.prototype.$VideoWatchAndScrollContainer12=function(e){this.$VideoWatchAndScrollContainer10(e)||this.props.onDoubleClick&&this.props.onDoubleClick()},d.prototype.$VideoWatchAndScrollContainer8=function(e,o){0===e.button&&(t("Parent").bySelector(e.target,"._360f")||(this.props.onGrab(),this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer3(),dragging:!0,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:e.screenX,draggingStartMousePositionY:e.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:o}),e.preventDefault()))},d.prototype.$VideoWatchAndScrollContainer3=function(){var e=0,o=t("DOM").scry(document.body,".fbChatSidebar");1===o.length&&(e=t("DOMDimensions").getElementDimensions(o[0]).width);var i=t("getViewportDimensions").withoutScrollbars(),n=new(t("Rect"))(43+u,i.width-e-u,i.height-u,u);return n},d.prototype.$VideoWatchAndScrollContainer4=function(e,o){var i=new(t("Rect"))(e.top,e.left+e.width,e.top+e.height,e.left);return i=i.boundWithin(o),{height:i.h(),left:i.getLeft(),top:i.getTop(),width:i.w()}},d.prototype.$VideoWatchAndScrollContainer13=function(e,t,o){var i=e.top,n=t.getTop(),r=n-i;r>0&&(o!==S.NE&&o!==S.NW||(e.height-=r),e.top=n);var s=e.left,l=t.getLeft(),d=l-s;d>0&&(o!==S.NW&&o!==S.SW||(e.width-=d),e.left=l);var a=e.top+e.height,h=t.getTop()+t.h(),c=a-h;c>0&&(e.height=h-e.top);var u=e.left+e.width,p=t.getLeft()+t.w(),V=u-p;V>0&&(e.width=p-e.left)},d.prototype.$VideoWatchAndScrollContainer14=function(e,t,o){e.width<p&&(o!==S.NW&&o!==S.SW||(e.left-=p-e.width),e.width=p),e.height<p&&(o!==S.NE&&o!==S.NW||(e.top-=p-e.height),e.height=p)},d.prototype.$VideoWatchAndScrollContainer15=function(e,t,o){e.width>V&&(o!==S.NW&&o!==S.SW||(e.left+=e.width-V),e.width=V),e.height>V&&(o!==S.NE&&o!==S.NW||(e.top+=e.height-V),e.height=V)},d.prototype.$VideoWatchAndScrollContainer16=function(e,t,o){var i=e.width/e.height,n=t.width/t.height;if(i>n){var r=e.height*n,s=e.height;r<p&&(s*=p/r,r=p,o!==S.NE&&o!==S.NW||(e.top+=e.height-s)),o!==S.NW&&o!==S.SW||(e.left+=e.width-r),e.width=r,e.height=s}else if(i<n){var l=e.width/n;o!==S.NE&&o!==S.NW||(e.top+=e.height-l),e.height=l}},d.prototype.$VideoWatchAndScrollContainer17=function(e,t,o,i){return this.$VideoWatchAndScrollContainer13(e,o,i),this.$VideoWatchAndScrollContainer14(e,t,i),this.$VideoWatchAndScrollContainer15(e,t,i),this.$VideoWatchAndScrollContainer16(e,t,i),{height:e.height,left:e.left,top:e.top,width:e.width
}},d.prototype.$VideoWatchAndScrollContainer5=function(e){t("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.dragUpdateRequestAnimationFrameID=t("requestAnimationFrame")(this.$VideoWatchAndScrollContainer18.bind(this,e))},d.prototype.$VideoWatchAndScrollContainer19=function(e){e.height===this.state.height&&e.width===this.state.width||this.props.onInitialPositionUpdate(e)},d.prototype.$VideoWatchAndScrollContainer18=function(e){if(this.state.dragging){var t=e.screenX-this.state.draggingStartMousePositionX,o=e.screenY-this.state.draggingStartMousePositionY,i=this.state.resizeDirection,n=void 0;if(i){var r=this.state.draggingStartHeight,s=this.state.draggingStartLeft,l=this.state.draggingStartTop,d=this.state.draggingStartWidth;i!==S.NE&&i!==S.SE||(d+=t),i!==S.NW&&i!==S.SW||(s+=t,d-=t),i!==S.SE&&i!==S.SW||(r+=o),i!==S.NE&&i!==S.NW||(l+=o,r-=o),n=this.$VideoWatchAndScrollContainer17({height:r,left:s,top:l,width:d},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,i),this.$VideoWatchAndScrollContainer19(n),this.setState({height:n.height,left:n.left,top:n.top,width:n.width})}else n=this.$VideoWatchAndScrollContainer4({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+t,top:this.state.draggingStartTop+o,width:this.state.draggingStartWidth},this.state.containerBoundingBox),this.$VideoWatchAndScrollContainer19(n),this.setState({height:n.height,left:n.left,top:n.top,width:n.width});e.preventDefault()}},d.prototype.$VideoWatchAndScrollContainer6=function(e){t("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.props.onDrop(),this.setState({dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null}),e.preventDefault()},d.prototype.$VideoWatchAndScrollContainer20=function(e,o){if(e>this.state.channelVideoElements.length)return null;var i=this.state.channelVideoElements[e];return i?t("React").createElement("div",{className:"_2yq3"+("left"===o?" _2yq4":"")+("center"===o?" _2yq5":"")+("right"===o?" _2yq6":""),key:i.id},t("React").createElement(t("DOMContainer.react"),null,i)):null},d.prototype.getWidth=function(){return this.state.width},d.prototype.render=function(){var e={height:Math.round(this.state.height)+"px",left:this.state.left+"px",top:this.state.top+"px",width:Math.round(this.state.width)+"px"},o=this.state.channelVideoElements,i=o[this.state.videoIndex];i&&(t("CSS").addClass(i,"_1kfp"),t("CSS").conditionClass(i,"_1blk",this.state.width<C));var n=null;this.state.endScreenShown&&(n=t("React").createElement(t("VideoWatchAndScrollEndScreen.react"),{endScreenDuration:m/1e3,fadeOut:this.state.endScreenFadeOut,makeProgress:this.state.videoIndex<o.length-1,onReplay:this.props.onReplay,onClose:function(){clearTimeout(this.$VideoWatchAndScrollContainer1),this.$VideoWatchAndScrollContainer1=null,this.props.onClose()}.bind(this)}));var r=null;return r=this.state.fadeOutPlaceholder?t("React").createElement(t("DOMContainer.react"),null,this.state.fadeOutPlaceholder):t("React").createElement("ul",{className:"_2yq7"},o.map(function(e,o){return(o>this.state.videoIndex+1||o<this.state.videoIndex-1)&&t("CSS").removeClass(e,"_1kfp"),o<=this.state.videoIndex+1?null:t("React").createElement("li",{key:e.id},t("React").createElement(t("DOMContainer.react"),null,e))}.bind(this))),t("React").createElement(t("ReactCSSTransitionGroup"),{transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionName:{appear:"_tie",appearActive:"_tik"}},t("React").createElement("div",{className:"_360g"+(this.state.fadeOut?" _473b":""),style:e},n,t("React").createElement("div",{className:"_52u8",onClick:this.$VideoWatchAndScrollContainer11.bind(this),onDoubleClick:this.$VideoWatchAndScrollContainer12.bind(this),onMouseDown:this.$VideoWatchAndScrollContainer9.bind(this),role:"presentation"},this.$VideoWatchAndScrollContainer20(this.state.videoIndex-1,"left"),this.$VideoWatchAndScrollContainer20(this.state.videoIndex,"center"),this.$VideoWatchAndScrollContainer20(this.state.videoIndex+1,"right")),t("React").createElement("div",{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,S.NW)}),t("React").createElement("div",{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,S.NE)}),t("React").createElement("div",{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,S.SE)}),t("React").createElement("div",{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,S.SW)}),r))},d.propTypes={initialPosition:c.object.isRequired,initialVideoElement:c.instanceOf(HTMLElement).isRequired,onChannelNavigation:c.func.isRequired,onClick:c.func.isRequired,onClose:c.func.isRequired,onDoubleClick:c.func.isRequired,onDrop:c.func.isRequired,onGrab:c.func.isRequired,onInitialPositionUpdate:c.func.isRequired,onReplay:c.func.isRequired},n.exports=d},null),__d("XVideoWNSSurveyController",["XController"],function(e,t,o,i,n,r){n.exports=t("XController").create("/video/wns_survey/",{__asyncDialog:{type:"Int"}})},null),__d("VideoWatchAndScrollController",["csx","cx","invariant","Arbiter","AsyncRequest","Bootloader","CSS","DOM","DOMDimensions","EventListener","React","ReactDOM","SubscriptionsHandler","VideoAutoplayControllerX","VideoChainingCaller","VideoChannelLogger","VideoChannelStoryFetcher","VideoFrameBuffer","VideoPlayerExperiments","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerVolumeSettings","VideoWatchAndScrollContainer.react","VideoWatchAndScrollVariables","XVideoWNSSurveyController","cancelAnimationFrame","destroyOnUnload","ge","getViewportDimensions","throttle"],function(e,t,o,i,n,r,s,l,d){function a(e,o,i,n){var r;this.$VideoWatchAndScrollController30=new(t("SubscriptionsHandler")),this.$VideoWatchAndScrollController31=new(t("SubscriptionsHandler")),this.$VideoWatchAndScrollController1=!1,this.$VideoWatchAndScrollController2=null,this.$VideoWatchAndScrollController3=null,this.$VideoWatchAndScrollController4=!1,this.$VideoWatchAndScrollController34=i,this.$VideoWatchAndScrollController37=!1,this.$VideoWatchAndScrollController29=!1,this.$VideoWatchAndScrollController47=n,this.$VideoWatchAndScrollController48=n,this.$VideoWatchAndScrollController33=new(t("VideoChannelStoryFetcher"))(o,e,this.$VideoWatchAndScrollController34,null),this.$VideoWatchAndScrollController35=[],this.$VideoWatchAndScrollController36=0,this.$VideoWatchAndScrollController38=[],this.$VideoWatchAndScrollController39=[],this.$VideoWatchAndScrollController49=[],this.$VideoWatchAndScrollController50={},this.$VideoWatchAndScrollController5=h,this.$VideoWatchAndScrollController6=c,this.$VideoWatchAndScrollController10=window.document.getElementById("leftCol"),this.$VideoWatchAndScrollController11=window.document.getElementById("rightCol"),this.$VideoWatchAndScrollController12=window.document.getElementById("pagelet_bluebar"),this.$VideoWatchAndScrollController43={},this.$VideoWatchAndScrollController46=null,this.$VideoWatchAndScrollController51(),(r=this.$VideoWatchAndScrollController30).addSubscriptions.apply(r,this.$VideoWatchAndScrollController52()),t("VideoPlayerExperiments").persistentWNSEnabled||t("destroyOnUnload")(function(){this.$VideoWatchAndScrollController53(),this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController54(!0),this.$VideoWatchAndScrollController30&&this.$VideoWatchAndScrollController30.release(),this===y&&(y=null)}.bind(this))}var h=158,c=280,u=10,p=42,V=p+u,C=476,m=230,S=[t("VideoPlayerReason").AUTOPLAY,t("VideoPlayerReason").PAGE_VISIBILITY],b=750,y=null;a.prototype.$VideoWatchAndScrollController52=function(){"use strict";var e=[t("Arbiter").subscribe("VideoChannelView/opened",function(e,t){!this.$VideoWatchAndScrollController4||t.controller&&this.$VideoWatchAndScrollController16===t.controller||this.$VideoWatchAndScrollController54(!0)}.bind(this))];return t("VideoPlayerExperiments").videoEnqueuingWNSEnabled&&e.push(t("Arbiter").subscribe("EmbeddedVideoControls/enqueueVideo",function(e,t){this.$VideoWatchAndScrollController55(t.controller,t.thumbnail)}.bind(this))),e},a.prototype.$VideoWatchAndScrollController56=function(e,o,i){"use strict";e||d(0),o.length||d(0),this.$VideoWatchAndScrollController47=!0,this.$VideoWatchAndScrollController37=!1,this.$VideoWatchAndScrollController31=new(t("SubscriptionsHandler")),this.$VideoWatchAndScrollController36=i,this.$VideoWatchAndScrollController33=e,this.$VideoWatchAndScrollController38=e.getPreloadedData().thumbnails||[],this.$VideoWatchAndScrollController39=[],this.$VideoWatchAndScrollController35=o.slice(0),this.$VideoWatchAndScrollController35.forEach(function(e){this.$VideoWatchAndScrollController57(e),this.$VideoWatchAndScrollController58(e),e.updateSource(t("VideoPlayerLoggerSource").WATCH_SCROLL)}.bind(this));var n=this.$VideoWatchAndScrollController35.shift();this.$VideoWatchAndScrollController59(n,t("VideoPlayerReason").USER)},a.prototype.$VideoWatchAndScrollController60=function(e,t,o,i,n){"use strict";this.$VideoWatchAndScrollController9=n,this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController61(n.videoRootNode),this.$VideoWatchAndScrollController56(e,t,o),this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({channelVideoElements:i},function(){this.$VideoWatchAndScrollController62()}.bind(this)),this.$VideoWatchAndScrollController9=null},a.registerVideoController=function(e,o,i,n){"use strict";if(null==y&&(y=new a(e.getVideoChannelID(),e.getVideoID(),o,n)),y.$VideoWatchAndScrollController30.addSubscriptions(e.addListener("enterWatchAndScroll",function(){y&&y.$VideoWatchAndScrollController63(e)}),e.addListener("exitWatchAndScroll",function(){y&&y.$VideoWatchAndScrollController4&&y.$VideoWatchAndScrollController54(!0)}),e.addListener("VideoChannelController/enterChannel",function(){y&&(y.$VideoWatchAndScrollController37=!0)}),e.addListener("VideoChannelController/exitChannel",function(){y&&(y.$VideoWatchAndScrollController37=!1)}),e.addListener("WatchAndScroll/close",function(){if(y){y.$VideoWatchAndScrollController64();var e=t("XVideoWNSSurveyController").getURIBuilder().getURI(),o=(new(t("AsyncRequest"))).setURI(e);o.send()}})),i){var r=["beginPlayback","changeVolume","muteVideo","toggleFullscreen","unmuteVideo","VideoChannelController/enterChannel"];r.forEach(function(t){y&&y.$VideoWatchAndScrollController30.addSubscriptions(e.addListener(t,function(o){y&&y.$VideoWatchAndScrollController65(e,t,o)}))})}},a.isActive=function(){"use strict";return!!y&&(y.$VideoWatchAndScrollController4&&!y.$VideoWatchAndScrollController37)},a.updateSlidingCalculations=function(){"use strict";y&&y.$VideoWatchAndScrollController19&&y.$VideoWatchAndScrollController66(y.$VideoWatchAndScrollController19)},a.registerChannelVideoController=function(e){"use strict";y&&(e.updateSource(t("VideoPlayerLoggerSource").WATCH_SCROLL),y.$VideoWatchAndScrollController57(e),y.$VideoWatchAndScrollController58(e),y.$VideoWatchAndScrollController35.push(e))},a.getStoryFetcherData=function(){"use strict";return y&&y.$VideoWatchAndScrollController67()},a.prototype.$VideoWatchAndScrollController67=function(){"use strict";return{storyFetcher:this.$VideoWatchAndScrollController33,videoPlayerControllers:this.$VideoWatchAndScrollController35,channelVideoIndex:this.$VideoWatchAndScrollController36,rootVideoPlayerController:this.$VideoWatchAndScrollController17,channelInteractionsToRegister:this.$VideoWatchAndScrollController39,isFromWNS:!0}},a.getVideoPlaceholder=function(){"use strict";return y?y.$VideoWatchAndScrollController18:null},a.getReactContainer=function(){"use strict";return y?y.$VideoWatchAndScrollController14:null},a.registerChannelInteraction=function(e){"use strict";y&&y.$VideoWatchAndScrollController39.push(e)},a.onEnterChannel=function(){"use strict";y&&y.$VideoWatchAndScrollController68()},a.prototype.$VideoWatchAndScrollController68=function(){"use strict";this.$VideoWatchAndScrollController37=!0,this.$VideoWatchAndScrollController33.abandonRequest();var e=this.$VideoWatchAndScrollController14;if(e){var o=["._23if","._23ig","._452w","._2i7a"];e.getChannelVideoElements().forEach(function(e){o.forEach(function(o){var i=t("DOM").scry(e,o),n=i[0];n&&t("CSS").show(n)});var i=t("DOM").scry(e,"._2337"),n=i[0];n&&(t("CSS").removeClass(n,"_2337"),t("CSS").addClass(n,"_3pay"))})}},a.resetFromChannelView=function(e,t,o){"use strict";y&&y.$VideoWatchAndScrollController56(e,t,o)},a.startFromChannelView=function(e,t,o,i,n){"use strict";y&&y.$VideoWatchAndScrollController60(e,t,o,i,n)},a.prototype.$VideoWatchAndScrollController65=function(e,o,i){"use strict";if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController16===e)return;if(i&&S.includes(i.reason))return;if(!e.isIntentionallyViewing())return;var n=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");n?this.$VideoWatchAndScrollController16.mute():this.$VideoWatchAndScrollController16.pause(t("VideoPlayerReason").USER)}if("toggleFullscreen"===o&&e.isFullscreen()||"VideoChannelController/enterChannel"===o)this.$VideoWatchAndScrollController19&&this.$VideoWatchAndScrollController53();else if(("beginPlayback"!==o||i&&i.reason===t("VideoPlayerReason").USER||e.getSource()===t("VideoPlayerLoggerSource").PERMALINK)&&e.isIntentionallyViewing()&&!e.isFullscreen()&&!e.getIsInChannel()){var r=this.$VideoWatchAndScrollController69(e.getVideoNode()),s=r.top;(s>window.scrollY||"beginPlayback"===o&&i&&i.reason===t("VideoPlayerReason").AUTOPLAY)&&this.$VideoWatchAndScrollController66(e)}},a.prototype.$VideoWatchAndScrollController70=function(e){"use strict";if(t("VideoPlayerExperiments").videoEnqueuingWNSEnabled)for(;0!==this.$VideoWatchAndScrollController49.length;){var o=this.$VideoWatchAndScrollController49.shift(),i=o[0],n=o[1];if(i!==e){i.seek(0),e.isMuted()?i.mute():i.unmute(),this.$VideoWatchAndScrollController71(i,n);break}}this.$VideoWatchAndScrollController37||e!==this.$VideoWatchAndScrollController16||this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({endScreenShown:!0})},a.prototype.$VideoWatchAndScrollController72=function(e){"use strict";return e.addListener("finishPlayback",function(){return this.$VideoWatchAndScrollController70(e)}.bind(this))},a.prototype.$VideoWatchAndScrollController66=function(e){"use strict";var o=e.getVideoNode();o.offsetParent&&(this.$VideoWatchAndScrollController19=e,this.$VideoWatchAndScrollController25=t("throttle")(this.$VideoWatchAndScrollController73.bind(this),100),window.addEventListener("resize",this.$VideoWatchAndScrollController25),this.$VideoWatchAndScrollController74(o),this.$VideoWatchAndScrollController75())},a.prototype.$VideoWatchAndScrollController73=function(){"use strict";this.$VideoWatchAndScrollController19&&(this.$VideoWatchAndScrollController74(this.$VideoWatchAndScrollController18||this.$VideoWatchAndScrollController19.getVideoNode()),this.$VideoWatchAndScrollController26&&this.$VideoWatchAndScrollController26())},a.prototype.$VideoWatchAndScrollController76=function(e){"use strict";var t=this.$VideoWatchAndScrollController69(e),o=e.scrollWidth,i=e.scrollHeight,n=m,r=C;o<i&&(n*=o/i,r*=o/i);var s=n;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var l=this.$VideoWatchAndScrollController69(this.$VideoWatchAndScrollController10);if(l.left<=t.left)s=Math.min(l.left-2*u,r);else if(this.$VideoWatchAndScrollController11&&this.$VideoWatchAndScrollController11.children.length){var d=this.$VideoWatchAndScrollController69(this.$VideoWatchAndScrollController11);s=Math.min(d.left-2*u,r)}}else{var a=document.getElementById("timeline_tab_content");if(a){var h=this.$VideoWatchAndScrollController69(a).left;s=Math.min(h-2*u,r)}}return Math.max(s,n)},a.prototype.$VideoWatchAndScrollController69=function(e){"use strict";var t={left:0,top:0};do t.top+=e.offsetTop,t.left+=e.offsetLeft;while(e=e.offsetParent);return t},a.prototype.$VideoWatchAndScrollController77=function(){"use strict";var e=0;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var o=this.$VideoWatchAndScrollController69(this.$VideoWatchAndScrollController10),i=window.getComputedStyle(this.$VideoWatchAndScrollController10),n=parseInt(i.width,10);t("VideoPlayerExperiments").persistentWNSEnabled&&(n=n||c),e=n+o.left-u}else{var r=document.getElementById("timeline_tab_content");if(!r){var s=document.getElementById("pagelet_timeline_main_column");r=s?s.parentNode:document.getElementById("contentArea")}if(r){var l=this.$VideoWatchAndScrollController69(r).left;e=l-2*u}}return e},a.prototype.$VideoWatchAndScrollController61=function(e){"use strict";var t=!e&&this.$VideoWatchAndScrollController9,o={left:0},i=16,n=9;if(!t){o=this.$VideoWatchAndScrollController69(e),n=1,i=parseFloat(e.getAttribute("data-original-aspect-ratio"));var r=e.parentElement;i&&0!==n||!r||(o=this.$VideoWatchAndScrollController69(r),i=r.scrollWidth,n=r.scrollHeight)}var s=m,l=C;i<n&&(s*=i/n,l*=i/n);var d=this.$VideoWatchAndScrollController77(),a=u;this.$VideoWatchAndScrollController12&&(a+=this.$VideoWatchAndScrollController12.scrollHeight),a=Math.max(a,V);var h=d>l?d-l+u:u;h=Math.max(h,u);var c=Math.min(d,l);c=Math.max(c,m);var p=c*n/i;return{hasEnoughSpace:!!t||d>=s,height:p,left:h,top:a,width:c}},a.hasEnoughSpaceToEnter=function(e){"use strict";if(!y||!e||!e.getVideoNode())return!1;var t=e.getVideoNode(),o=1,i=parseFloat(t.getAttribute("data-original-aspect-ratio")),n=t.parentElement;i&&0!==o||!n||(i=n.scrollWidth,o=n.scrollHeight);var r=m;return i<o&&(r*=i/o),y.$VideoWatchAndScrollController77()>r},a.prototype.$VideoWatchAndScrollController74=function(e){"use strict";this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController69(e),this.$VideoWatchAndScrollController27=e.scrollWidth,this.$VideoWatchAndScrollController28=e.scrollHeight;var t=Math.max(this.$VideoWatchAndScrollController27,this.$VideoWatchAndScrollController28);if(t<m){var o=m/t;this.$VideoWatchAndScrollController27*=o,this.$VideoWatchAndScrollController28*=o}this.$VideoWatchAndScrollController20=this.$VideoWatchAndScrollController21.top+.75*this.$VideoWatchAndScrollController28-p,this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController61(e),this.$VideoWatchAndScrollController29=!this.$VideoWatchAndScrollController46.hasEnoughSpace},a.prototype.$VideoWatchAndScrollController75=function(){"use strict";this.$VideoWatchAndScrollController19.isIntentionallyViewing()?(this.$VideoWatchAndScrollController78(this.$VideoWatchAndScrollController79.bind(this)),this.$VideoWatchAndScrollController79()):this.$VideoWatchAndScrollController53()},a.isVideoAlmostFinished=function(e){"use strict";var o=e.getPlaybackDuration(),i=e.getCurrentTimePosition(),n=t("VideoWatchAndScrollVariables").noWNSRemainingTime;return.2*o<n?i/o>.8:o-i<n},a.isSlidingEnabled=function(e){"use strict";var t=y;if(null==t)return!1;var o=t.$VideoWatchAndScrollController19;return null!=o&&o===e&&(!(t.$VideoWatchAndScrollController29||!e.isIntentionallyViewing()||!e.getVideoNode().offsetParent||a.isVideoAlmostFinished(e)||e.hasLooped())||(t.$VideoWatchAndScrollController53(),!1))},a.prototype.$VideoWatchAndScrollController79=function(){"use strict";var e=this.$VideoWatchAndScrollController19;if(null!=e)return e.isIntentionallyViewing()&&e.getVideoNode().offsetParent?void(window.scrollY>this.$VideoWatchAndScrollController20&&a.isSlidingEnabled(e)&&(this.$VideoWatchAndScrollController80(),this.$VideoWatchAndScrollController59(e,t("VideoPlayerReason").AUTOPLAY,!1,!0),this.$VideoWatchAndScrollController53())):void this.$VideoWatchAndScrollController53()},a.prototype.$VideoWatchAndScrollController80=function(){"use strict";this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController48},a.prototype.$VideoWatchAndScrollController78=function(e){"use strict";window.removeEventListener("scroll",this.$VideoWatchAndScrollController26),this.$VideoWatchAndScrollController26=e||null,window.addEventListener("scroll",this.$VideoWatchAndScrollController26),t("cancelAnimationFrame")(this.$VideoWatchAndScrollController32),delete this.$VideoWatchAndScrollController32},a.prototype.$VideoWatchAndScrollController53=function(){"use strict";window.removeEventListener("resize",this.$VideoWatchAndScrollController25),this.$VideoWatchAndScrollController78(),delete this.$VideoWatchAndScrollController19,this.$VideoWatchAndScrollController29=!1},a.prototype.$VideoWatchAndScrollController63=function(e){"use strict";this.$VideoWatchAndScrollController53(),this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController16!==e?(this.$VideoWatchAndScrollController22=e,this.$VideoWatchAndScrollController81()):(this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController61(e.getVideoNode()),this.$VideoWatchAndScrollController80(),this.$VideoWatchAndScrollController59(e,t("VideoPlayerReason").USER))},a.prototype.$VideoWatchAndScrollController59=function(e,o,i,n){"use strict";var r=!!this.$VideoWatchAndScrollController45;this.$VideoWatchAndScrollController45&&(clearTimeout(this.$VideoWatchAndScrollController45),this.$VideoWatchAndScrollController45=null,t("ReactDOM").unmountComponentAtNode(this.$VideoWatchAndScrollController82()),this.$VideoWatchAndScrollController54());var s=this.$VideoWatchAndScrollController1&&(i||n)&&!!this.$VideoWatchAndScrollController17;s&&(this.$VideoWatchAndScrollController36=0,this.$VideoWatchAndScrollController35=[],this.$VideoWatchAndScrollController38=[],this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController43=babelHelpers["extends"]({},this.$VideoWatchAndScrollController8),this.$VideoWatchAndScrollController44=this.$VideoWatchAndScrollController18,this.$VideoWatchAndScrollController40=this.$VideoWatchAndScrollController14,this.$VideoWatchAndScrollController42=this.$VideoWatchAndScrollController2,this.$VideoWatchAndScrollController2=null,this.$VideoWatchAndScrollController13&&this.$VideoWatchAndScrollController13.remove(),this.$VideoWatchAndScrollController31.release(),this.$VideoWatchAndScrollController31=new(t("SubscriptionsHandler"))),this.$VideoWatchAndScrollController17=e,this.$VideoWatchAndScrollController16=this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController36>0?this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController36):e,this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController35.length>this.$VideoWatchAndScrollController36&&this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController36+1).preload(),this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var l=!this.$VideoWatchAndScrollController1||!this.$VideoWatchAndScrollController16.isMuted(),d=!this.$VideoWatchAndScrollController1||this.$VideoWatchAndScrollController16.isState("playing"),a=this.$VideoWatchAndScrollController1&&this.$VideoWatchAndScrollController16.isState("finished");if(!this.$VideoWatchAndScrollController1||s){if(this.$VideoWatchAndScrollController9||t("VideoChannelLogger").startSession(this.$VideoWatchAndScrollController17.getVideoID(),this.$VideoWatchAndScrollController17.getVideoChannelID(),this.$VideoWatchAndScrollController34),i&&!r||(r&&(this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController61(this.$VideoWatchAndScrollController15)),this.$VideoWatchAndScrollController51(this.$VideoWatchAndScrollController15)),this.$VideoWatchAndScrollController9){if(this.$VideoWatchAndScrollController8=this.$VideoWatchAndScrollController9,this.$VideoWatchAndScrollController8.videoRootNode){this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController17.getVideoNode()),t("DOM").appendContent(this.$VideoWatchAndScrollController8.videoRootNode,this.$VideoWatchAndScrollController18);var h=t("DOM").scry(this.$VideoWatchAndScrollController8.videoRootNode,"._344x"),c=h[0];c&&t("DOM").remove(c)}}else this.$VideoWatchAndScrollController8={videoRootNode:this.$VideoWatchAndScrollController15.parentNode,dimensions:t("DOMDimensions").getElementDimensions(this.$VideoWatchAndScrollController15),source:this.$VideoWatchAndScrollController16.getSource()},this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController16.getVideoNode()),t("DOM").insertAfter(this.$VideoWatchAndScrollController15,this.$VideoWatchAndScrollController18);var u=null;this.$VideoWatchAndScrollController9&&(u=this.$VideoWatchAndScrollController9.videoRootNode),!u&&this.$VideoWatchAndScrollController15&&(u=this.$VideoWatchAndScrollController15.parentNode),u&&(this.$VideoWatchAndScrollController13=t("EventListener").listen(u,"click",function(){this.$VideoWatchAndScrollController64(),e.play(t("VideoPlayerReason").USER),setTimeout(function(){this.$VideoWatchAndScrollController65(e,"beginPlayback",{reason:t("VideoPlayerReason").USER})}.bind(this),b)}.bind(this))),this.$VideoWatchAndScrollController16.pause(t("VideoPlayerReason").USER),this.$VideoWatchAndScrollController16.isPlayerVersion("silvercity")&&this.$VideoWatchAndScrollController16.detachRootNode();var p=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.width:this.$VideoWatchAndScrollController6,V=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.height:this.$VideoWatchAndScrollController5;this.$VideoWatchAndScrollController16.setDimensions(p,V),this.$VideoWatchAndScrollController4=!0,s&&this.$VideoWatchAndScrollController85(),this.$VideoWatchAndScrollController14=this.$VideoWatchAndScrollController86()}else this.$VideoWatchAndScrollController16.pause(t("VideoPlayerReason").USER),this.$VideoWatchAndScrollController62();if(d&&this.$VideoWatchAndScrollController16.play(o),l&&(this.$VideoWatchAndScrollController16.unmute(),0===this.$VideoWatchAndScrollController16.getVolume())){var C=t("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()||1;this.$VideoWatchAndScrollController16.setVolume(C),this.$VideoWatchAndScrollController16.emit("unmuteVideo")}a&&this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController16),this.$VideoWatchAndScrollController16.updateSource(t("VideoPlayerLoggerSource").WATCH_SCROLL);var m=this.$VideoWatchAndScrollController33;this.$VideoWatchAndScrollController1&&!s||!m||(m.abandonRequest(),this.$VideoWatchAndScrollController9||m.reset(e.getVideoID(),e.getVideoChannelID()),this.$VideoWatchAndScrollController87(),this.$VideoWatchAndScrollController57(e),this.$VideoWatchAndScrollController58(e)),this.$VideoWatchAndScrollController1=!0},a.prototype.$VideoWatchAndScrollController57=function(e){"use strict";e.hasOption("WatchAndScroll","isActive")||e.registerOption("WatchAndScroll","isActive",a.isActive)},a.prototype.$VideoWatchAndScrollController58=function(e){"use strict";this.$VideoWatchAndScrollController31.addSubscriptions(this.$VideoWatchAndScrollController72(e),e.addListener("VideoChannelController/enterChannel",function(){this.$VideoWatchAndScrollController31.release()}.bind(this)),e.addListener("WatchAndScroll/close",function(){this.$VideoWatchAndScrollController64();var e=t("XVideoWNSSurveyController").getURIBuilder().getURI(),o=(new(t("AsyncRequest"))).setURI(e);o.send()}.bind(this)))},a.prototype.$VideoWatchAndScrollController88=function(){"use strict";this.$VideoWatchAndScrollController14&&(this.$VideoWatchAndScrollController14.setState({endScreenShown:!1}),this.$VideoWatchAndScrollController16&&this.$VideoWatchAndScrollController16.play(t("VideoPlayerReason").USER))},a.prototype.$VideoWatchAndScrollController55=function(e,o){"use strict";t("VideoPlayerExperiments").videoEnqueuingWNSEnabled&&(this.$VideoWatchAndScrollController49.some(function(t){var o=t[0];return o===e})||this.$VideoWatchAndScrollController49.push([e,o]))},a.prototype.$VideoWatchAndScrollController71=function(e,t){"use strict";var o=this.$VideoWatchAndScrollController14;if(o){a.registerChannelVideoController(e),this.$VideoWatchAndScrollController89(e),this.$VideoWatchAndScrollController90(e);var i=o.getChannelVideoElements(),n=1+this.$VideoWatchAndScrollController36;o.setState({channelVideoElements:[].concat(i.slice(0,n),e.getRootNode(),i.slice(n))}),this.$VideoWatchAndScrollController38=[].concat(this.$VideoWatchAndScrollController38.slice(0,n),t,this.$VideoWatchAndScrollController38.slice(n))}},a.prototype.$VideoWatchAndScrollController89=function(e){"use strict";var t=e.getRootNode();this.$VideoWatchAndScrollController50[t.id]=t.parentElement.id},a.prototype.$VideoWatchAndScrollController91=function(){"use strict";var e=this.$VideoWatchAndScrollController14;if(e){var o=Object.keys(this.$VideoWatchAndScrollController50);e.getChannelVideoElements().forEach(function(e,i){if(o.includes(e.id)){var n=this.$VideoWatchAndScrollController50[e.id],r=t("ge")(n),s=this.$VideoWatchAndScrollController92(r);if(s){var l=t("DOMDimensions").getElementDimensions(s),d=l.width,a=l.height;t("DOM").insertBefore(s,e),t("DOM").remove(s),this.$VideoWatchAndScrollController83(i).setDimensions(d,a),delete this.$VideoWatchAndScrollController50[e.id]}}}.bind(this))}},a.prototype.$VideoWatchAndScrollController92=function(e){"use strict";var o="._57n6",i=t("DOM").scry(e,o),n=i[0].parentNode;return n},a.prototype.$VideoWatchAndScrollController90=function(e){"use strict";var o=e.getRootNode(),i=t("DOMDimensions").getElementDimensions(o),n=this.$VideoWatchAndScrollController84(i,o);t("DOM").insertAfter(o,n),t("DOM").remove(o),this.$VideoWatchAndScrollController13=t("EventListener").listen(n,"click",function(){this.$VideoWatchAndScrollController64(),e.play(t("VideoPlayerReason").USER),setTimeout(function(){this.$VideoWatchAndScrollController65(e,"beginPlayback",{reason:t("VideoPlayerReason").USER})}.bind(this),b)}.bind(this))},a.prototype.$VideoWatchAndScrollController87=function(){"use strict";this.$VideoWatchAndScrollController47&&this.$VideoWatchAndScrollController33.fetchStories(!0,function(e,t){var o=this.$VideoWatchAndScrollController14;if(e&&e.length&&o){var i=o.getChannelVideoElements().concat(e);o.setState({channelVideoElements:i},function(){setTimeout(function(){this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController36+1).preload()}.bind(this))}.bind(this)),this.$VideoWatchAndScrollController38=this.$VideoWatchAndScrollController38.concat(t)}}.bind(this))},a.prototype.$VideoWatchAndScrollController83=function(e){"use strict";var t=this.$VideoWatchAndScrollController14?this.$VideoWatchAndScrollController14.getChannelVideoElements():[],o=[this.$VideoWatchAndScrollController17].concat(this.$VideoWatchAndScrollController35),i=null;return o.forEach(function(o){t[e].contains(o.getRootNode())&&(i=o)}),i||d(0),i},a.prototype.$VideoWatchAndScrollController62=function(){"use strict";var e=this.$VideoWatchAndScrollController16.isMuted();this.$VideoWatchAndScrollController16.pause(t("VideoPlayerReason").USER),this.$VideoWatchAndScrollController16!==this.$VideoWatchAndScrollController17&&this.$VideoWatchAndScrollController16.abortLoading(),this.$VideoWatchAndScrollController16=this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController36),this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var o=this.$VideoWatchAndScrollController16.getVideoNode(),i=parseFloat(o.getAttribute("data-original-aspect-ratio"));i||(i=16/9);var n=this.$VideoWatchAndScrollController46;n||(n=this.$VideoWatchAndScrollController61(o)),this.$VideoWatchAndScrollController14&&(n.width=this.$VideoWatchAndScrollController14.getWidth()),n.height=n.width/i,n.height>C&&(n.height=C,n.width=n.height*i),
this.$VideoWatchAndScrollController16.setDimensions(n.width,n.height),this.$VideoWatchAndScrollController51(o),this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({videoIndex:this.$VideoWatchAndScrollController36,width:n.width,height:n.height}),this.$VideoWatchAndScrollController46=n,this.$VideoWatchAndScrollController16.play(t("VideoPlayerReason").AUTOPLAY),e&&this.$VideoWatchAndScrollController16.mute(),this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36?this.$VideoWatchAndScrollController87():this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController36+1).preload()},a.prototype.$VideoWatchAndScrollController93=function(){"use strict";var e=u;return this.$VideoWatchAndScrollController12&&(e+=this.$VideoWatchAndScrollController12.scrollHeight),Math.max(e,V)},a.prototype.$VideoWatchAndScrollController51=function(e){"use strict";if(this.$VideoWatchAndScrollController46)return void(this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController46.height,left:this.$VideoWatchAndScrollController46.left,top:this.$VideoWatchAndScrollController46.top,width:this.$VideoWatchAndScrollController46.width});if(e){var t=e.scrollWidth,o=e.scrollHeight,i=this.$VideoWatchAndScrollController76(e),n=i*o/t;this.$VideoWatchAndScrollController7.height=n,this.$VideoWatchAndScrollController7.width=i}else this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController5,left:u,top:this.$VideoWatchAndScrollController93(),width:this.$VideoWatchAndScrollController6}},a.prototype.$VideoWatchAndScrollController84=function(e,o){"use strict";var i=t("DOM").create("canvas",{className:"_57n6"});if(i.height=e.height,i.width=e.width,i.getContext&&i.getContext("2d"))if(0===o.scrollHeight){var n=t("DOM").scry(o.parentNode,"._3t5i"),r=n[0];if(r){var s=i.getContext("2d");s.drawImage(r,0,0)}}else if(o instanceof window.HTMLVideoElement){var l=new(t("VideoFrameBuffer"))(i,o);l.updateFrameBuffer()}var d=t("DOM").create("div");d.appendChild(i);var a=t("DOM").create("i",{className:"_1jto _bsl _3htz"});return d.appendChild(a),d},a.prototype.$VideoWatchAndScrollController64=function(){"use strict";this.$VideoWatchAndScrollController19&&this.$VideoWatchAndScrollController53(),t("VideoPlayerExperiments").videoEnqueuingWNSEnabled&&this.$VideoWatchAndScrollController91(),this.$VideoWatchAndScrollController81()},a.prototype.$VideoWatchAndScrollController94=function(){"use strict";var e=this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController7,this.$VideoWatchAndScrollController16.getVideoNode(),!0);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({fadeOut:!0,fadeOutPlaceholder:e}),this.$VideoWatchAndScrollController95(this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController8),this.$VideoWatchAndScrollController18&&(t("DOM").remove(this.$VideoWatchAndScrollController18),this.$VideoWatchAndScrollController18=null),this.$VideoWatchAndScrollController13&&(this.$VideoWatchAndScrollController13.remove(),this.$VideoWatchAndScrollController13=null)},a.prototype.$VideoWatchAndScrollController95=function(e,o,i){"use strict";e.getOption("VideoWithLiveBroadcast","isLive");e.pause(t("VideoPlayerReason").USER),e.isPlayerVersion("silvercity")&&e.detachRootNode(),i&&t("ReactDOM").unmountComponentAtNode(i),o.dimensions&&o.dimensions.width&&o.dimensions.height&&e.setDimensions(o.dimensions.width,o.dimensions.height),o.videoRootNode&&t("DOM").prependContent(o.videoRootNode,e.getRootNode()),e.emit("WatchAndScroll/positionUpdated"),e.updateSource(o.source||t("VideoPlayerLoggerSource").INLINE);var n=this.$VideoWatchAndScrollController69(e.getVideoNode()),r=n.top,s=t("getViewportDimensions")().height;e.getSource()!==t("VideoPlayerLoggerSource").PERMALINK&&e.mute(),r<window.scrollY||r>window.scrollY+s?(e.pause(t("VideoPlayerReason").AUTOPLAY),e.emit("resumeAutoplay")):e.play(t("VideoPlayerReason").USER)},a.prototype.$VideoWatchAndScrollController85=function(){"use strict";this.$VideoWatchAndScrollController4||d(0),this.$VideoWatchAndScrollController40||d(0),this.$VideoWatchAndScrollController40.setState({fadeOut:!0}),this.$VideoWatchAndScrollController45=setTimeout(function(){this.$VideoWatchAndScrollController41||d(0),this.$VideoWatchAndScrollController42||d(0),this.$VideoWatchAndScrollController95(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42),this.$VideoWatchAndScrollController44&&(t("DOM").remove(this.$VideoWatchAndScrollController44),this.$VideoWatchAndScrollController44=null),this.$VideoWatchAndScrollController45=null}.bind(this),b)},a.prototype.$VideoWatchAndScrollController54=function(e){"use strict";return this.$VideoWatchAndScrollController4||d(0),e?(this.$VideoWatchAndScrollController14||d(0),this.$VideoWatchAndScrollController35.forEach(function(e){return e.abortLoading()}),this.$VideoWatchAndScrollController94(),void(this.$VideoWatchAndScrollController45=setTimeout(function(){t("ReactDOM").unmountComponentAtNode(this.$VideoWatchAndScrollController82()),this.$VideoWatchAndScrollController54()}.bind(this),b))):(this.$VideoWatchAndScrollController33&&this.$VideoWatchAndScrollController33.abandonRequest(),this.$VideoWatchAndScrollController36=0,this.$VideoWatchAndScrollController1=!1,this.$VideoWatchAndScrollController31.release(),this.$VideoWatchAndScrollController31=new(t("SubscriptionsHandler")),this.$VideoWatchAndScrollController8={},this.$VideoWatchAndScrollController16=null,this.$VideoWatchAndScrollController17=null,this.$VideoWatchAndScrollController4=!1,this.$VideoWatchAndScrollController35=[],this.$VideoWatchAndScrollController38=[],this.$VideoWatchAndScrollController14=null,clearTimeout(this.$VideoWatchAndScrollController45),this.$VideoWatchAndScrollController45=null,this.$VideoWatchAndScrollController41&&this.$VideoWatchAndScrollController42&&this.$VideoWatchAndScrollController43&&this.$VideoWatchAndScrollController95(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42),this.$VideoWatchAndScrollController41=null,this.$VideoWatchAndScrollController43={},this.$VideoWatchAndScrollController44&&(t("DOM").remove(this.$VideoWatchAndScrollController44),this.$VideoWatchAndScrollController44=null),t("VideoAutoplayControllerX").setShouldAutoplay(!0),this.$VideoWatchAndScrollController2=null,this.$VideoWatchAndScrollController22&&(this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController61(this.$VideoWatchAndScrollController22.getVideoNode()),this.$VideoWatchAndScrollController80(),this.$VideoWatchAndScrollController59(this.$VideoWatchAndScrollController22,t("VideoPlayerReason").USER),this.$VideoWatchAndScrollController22=null),this.$VideoWatchAndScrollController29=!1,this.$VideoWatchAndScrollController46=null,void t("VideoChannelLogger").endSession())},a.prototype.$VideoWatchAndScrollController86=function(){"use strict";return t("ReactDOM").render(t("React").createElement(t("VideoWatchAndScrollContainer.react"),{initialPosition:this.$VideoWatchAndScrollController7,initialVideoElement:this.$VideoWatchAndScrollController15,onChannelNavigation:this.$VideoWatchAndScrollController96.bind(this),onClick:this.$VideoWatchAndScrollController97.bind(this),onClose:this.$VideoWatchAndScrollController64.bind(this),onDoubleClick:this.$VideoWatchAndScrollController98.bind(this),onDrop:this.$VideoWatchAndScrollController99.bind(this),onGrab:this.$VideoWatchAndScrollController100.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController101.bind(this),onReplay:this.$VideoWatchAndScrollController88.bind(this)}),this.$VideoWatchAndScrollController82())},a.prototype.$VideoWatchAndScrollController81=function(){"use strict";this.$VideoWatchAndScrollController17&&this.$VideoWatchAndScrollController17.emit("exitWatchAndScroll")},a.prototype.$VideoWatchAndScrollController96=function(e){"use strict";return e>0&&this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36?void this.$VideoWatchAndScrollController64():(this.$VideoWatchAndScrollController36+=e,void this.$VideoWatchAndScrollController62())},a.prototype.$VideoWatchAndScrollController100=function(){"use strict";this.$VideoWatchAndScrollController19&&this.$VideoWatchAndScrollController53();var e=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");e||(this.$VideoWatchAndScrollController23=this.$VideoWatchAndScrollController16.isState("playing"),this.$VideoWatchAndScrollController16.pause(t("VideoPlayerReason").USER))},a.prototype.$VideoWatchAndScrollController99=function(){"use strict";var e=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");e||(this.$VideoWatchAndScrollController23&&this.$VideoWatchAndScrollController16.play(t("VideoPlayerReason").USER),this.$VideoWatchAndScrollController23=null)},a.prototype.$VideoWatchAndScrollController97=function(){"use strict";var e=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");this.$VideoWatchAndScrollController19||e||(this.$VideoWatchAndScrollController16.isState("playing")?this.$VideoWatchAndScrollController16.pause(t("VideoPlayerReason").USER):(this.$VideoWatchAndScrollController16.isState("paused")||this.$VideoWatchAndScrollController16.isState("finished")||this.$VideoWatchAndScrollController16.isState("ready"))&&this.$VideoWatchAndScrollController16.play(t("VideoPlayerReason").USER))},a.prototype.$VideoWatchAndScrollController98=function(){"use strict";if(!this.$VideoWatchAndScrollController19){var e=this.$VideoWatchAndScrollController16.getOption("VideoWithClickToChannelView","isChannelEligible"),o=this.$VideoWatchAndScrollController16.getVideoID()===this.$VideoWatchAndScrollController17.getVideoID();o&&!e||t("Bootloader").loadModules(["VideoChannelController"],function(e){this.$VideoWatchAndScrollController68(),e.openFromVideoPlayer(this.$VideoWatchAndScrollController16,this.$VideoWatchAndScrollController16.getVideoChannelID(),this.$VideoWatchAndScrollController34,this.$VideoWatchAndScrollController67())}.bind(this),"VideoWatchAndScrollController")}},a.prototype.$VideoWatchAndScrollController101=function(e){"use strict";this.$VideoWatchAndScrollController7=e,this.$VideoWatchAndScrollController14&&!this.$VideoWatchAndScrollController14.getFadeOutStatus()&&(this.$VideoWatchAndScrollController16.setDimensions(e.width,e.height),this.$VideoWatchAndScrollController16.emit("WatchAndScroll/positionUpdated"))},a.prototype.$VideoWatchAndScrollController102=function(){"use strict";var e=t("DOM").create("div");return t("DOM").appendContent(document.body,e),e},a.prototype.$VideoWatchAndScrollController82=function(){"use strict";return this.$VideoWatchAndScrollController2||(this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController102()),this.$VideoWatchAndScrollController2},n.exports=a},null),__d("EmbeddedVideoControls",["csx","Arbiter","DeferredComponent.react","EventListener","FullScreen","Map","Parent","React","ReactDOM","VideoChannelViewVariables","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerUIComponentDrawer","VideoPlayerVersions","VideoWatchAndScrollController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","logVideosClickTracking","requestAnimationFrame","throttle"],function(e,t,o,i,n,r,s){function l(e,o,i){"use strict";this.$EmbeddedVideoControls7=e,this.$EmbeddedVideoControls40=o,this.$EmbeddedVideoControls6=0,this.$EmbeddedVideoControls35=0,this.$EmbeddedVideoControls34=0,this.$EmbeddedVideoControls10=0,this.$EmbeddedVideoControls47=!1,this.$EmbeddedVideoControls20=i.hideOnEvents.autoplay,this.$EmbeddedVideoControls21=i.hideOnEvents.finish,this.$EmbeddedVideoControls16=i.hideOnEvents.pause,this.$EmbeddedVideoControls17=i.hidePlaybackControl,this.$EmbeddedVideoControls18=i.hideRemainingTime,this.$EmbeddedVideoControls19=i.hideSettings,this.$EmbeddedVideoControls45=i.useTwoRows,this.$EmbeddedVideoControls23=i.isCommentAttachment,this.$EmbeddedVideoControls63=i.pointsOfInterestConfig||{},this.$EmbeddedVideoControls64=i.displayElapsedTime||!1,this.$EmbeddedVideoControls65=i.adBreaksTimeOffset,this.$EmbeddedVideoControls66=i.showSpatialAudioNUX,this.$EmbeddedVideoControls30=!1;var n=e.isPlayerVersion(t("VideoPlayerVersions").PLEASANTVILLE);this.$EmbeddedVideoControls14=i.showButtons.watchandscroll&&n,this.$EmbeddedVideoControls1=i.showButtons.casting,this.$EmbeddedVideoControls2=i.showButtons.fullscreen&&!!t("FullScreen").isSupported(),this.$EmbeddedVideoControls3=i.showButtons.enqueue,this.$EmbeddedVideoControls33=i.permalinkURL,this.$EmbeddedVideoControls27=i.isLive,this.$EmbeddedVideoControls38=t("VideoPlayerExperiments").redesign,this.$EmbeddedVideoControls15=!1,this.$EmbeddedVideoControls60=i.showQualitySelector,this.$EmbeddedVideoControls61=i.qualitySelectorMinStreams,this.$EmbeddedVideoControls49=this.enterWatchAndScroll.bind(this),this.$EmbeddedVideoControls51=this.play.bind(this),this.$EmbeddedVideoControls50=this.pause.bind(this),this.$EmbeddedVideoControls52=this.scrubBegin.bind(this),this.$EmbeddedVideoControls53=this.scrubEnd.bind(this),this.$EmbeddedVideoControls42=this.startCasting.bind(this),this.$EmbeddedVideoControls43=this.enqueueVideo.bind(this),this.$EmbeddedVideoControls44=this.stopCasting.bind(this),this.$EmbeddedVideoControls54=this.toggleFullscreen.bind(this),this.$EmbeddedVideoControls55=this.toggleHD.bind(this),this.$EmbeddedVideoControls56=this.toggleHLS.bind(this),this.$EmbeddedVideoControls57=this.toggleMuted.bind(this),this.$EmbeddedVideoControls58=this.toggleSubtitles.bind(this),this.$EmbeddedVideoControls48=this.changeVolume.bind(this),this.$EmbeddedVideoControls59=this.setPreferredVideoQuality.bind(this),this.$EmbeddedVideoControls62=this.$EmbeddedVideoControls7.registerDrawer(t("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,36),this.$EmbeddedVideoControls32=i.needsInitialVideoInfoUpdate,t("destroyOnUnload")(function(){return t("ReactDOM").unmountComponentAtNode(o)});var r=this.$EmbeddedVideoControls7.getRootNode();t("EventListener").listen(this.$EmbeddedVideoControls40,"focusin",function(){this.$EmbeddedVideoControls9=!0,this.scheduleRenderReactComponent()}.bind(this)),t("EventListener").listen(this.$EmbeddedVideoControls40,"focusout",function(){t("containsNode")(this.$EmbeddedVideoControls40,t("getActiveElement")())||(this.$EmbeddedVideoControls9=!1,this.scheduleRenderReactComponent())}.bind(this)),t("EventListener").listen(r,"click",function(e){this.$EmbeddedVideoControls9&&e.detail&&t("getActiveElement")().blur()}.bind(this)),t("EventListener").listen(r,"mouseleave",function(){this.$EmbeddedVideoControls31=!1,this.scheduleRenderReactComponent()}.bind(this)),t("EventListener").listen(r,"mouseenter",function(){this.$EmbeddedVideoControls31=!0,this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.registerOption("VideoControls","acquireForceHideLock",function(){return this.$EmbeddedVideoControls10++,{release:function(){this.$EmbeddedVideoControls10--,this.scheduleRenderReactComponent()}.bind(this)}}.bind(this)),this.$EmbeddedVideoControls7.registerOption("VideoControls","hideOnFinish",function(){return this.$EmbeddedVideoControls21}.bind(this),function(e){this.$EmbeddedVideoControls21=e}.bind(this)),this.$EmbeddedVideoControls7.registerOption("VideoControls","hideOnPause",function(){return this.$EmbeddedVideoControls16}.bind(this),function(e){this.$EmbeddedVideoControls16=e}.bind(this)),this.$EmbeddedVideoControls7.registerOption("VideoControls","available",function(){return!0}),this.$EmbeddedVideoControls7.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this)),["mousemove","mousedown","keydown"].forEach(function(e){t("EventListener").listen(this.$EmbeddedVideoControls7.getRootNode(),e,t("throttle")(this.flashControls.bind(this),200))}.bind(this)),this.scheduleRenderReactComponent();var s=["changeVolume","loadedSubtitles","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];s.forEach(function(e){return this.$EmbeddedVideoControls7.addListener(e,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this))}.bind(this)),this.$EmbeddedVideoControls7.addListener("beginPlayback",function(){return this.$EmbeddedVideoControls67()}.bind(this)),this.$EmbeddedVideoControls7.addListener("updateStatus",function(e){this.$EmbeddedVideoControls35=e.position,this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("casting/updateStatus",function(e){this.$EmbeddedVideoControls35=e.position,this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("updateBuffer",function(e){this.$EmbeddedVideoControls6=e.duration+e.offset,this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("optionsChange",function(e){this.$EmbeddedVideoControls68()}.bind(this)),this.$EmbeddedVideoControls7.addListener("resumeAutoplay",function(e){this.$EmbeddedVideoControls69(),this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)),this.$EmbeddedVideoControls7.addListener("turnOffAutoplay",function(e){this.$EmbeddedVideoControls22=!1}.bind(this)),this.$EmbeddedVideoControls7.addListener("finishPlayback",function(){this.scheduleRenderReactComponent(!0)}.bind(this)),this.$EmbeddedVideoControls69(),this.$EmbeddedVideoControls70()}var d=t("VideoChannelViewVariables").channelRedesign;l.prototype.enqueueVideo=function(){"use strict";t("Arbiter").inform("EmbeddedVideoControls/enqueueVideo",{controller:this.$EmbeddedVideoControls7,thumbnail:document.createElement("div")})},l.prototype.$EmbeddedVideoControls71=function(){"use strict";return this.$EmbeddedVideoControls7.isState("playing")&&this.$EmbeddedVideoControls7.getOption("FeedAutoplay","isAutoplaying")},l.prototype.$EmbeddedVideoControls70=function(){"use strict";this.$EmbeddedVideoControls41=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$EmbeddedVideoControls12=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$EmbeddedVideoControls36=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")},l.prototype.$EmbeddedVideoControls69=function(){"use strict";this.$EmbeddedVideoControls22=this.$EmbeddedVideoControls7.getOption("FeedAutoplay","isAutoplaying")},l.prototype.$EmbeddedVideoControls68=function(){"use strict";this.$EmbeddedVideoControls69(),this.$EmbeddedVideoControls70()},l.prototype.$EmbeddedVideoControls67=function(){"use strict";this.flashControls(),this.$EmbeddedVideoControls29=!0,this.scheduleRenderReactComponentWithVideoInfoUpdate()},l.prototype.updateConfig_DEPRECATED=function(e,t){"use strict";this.$EmbeddedVideoControls33=e.permalinkURL||null,this.$EmbeddedVideoControls1=!!e.showButtons&&e.showButtons.casting,this.$EmbeddedVideoControls27=!!e.isLive,this.scheduleRenderReactComponent()},l.prototype.flashControls=function(){"use strict";this.$EmbeddedVideoControls37||(this.$EmbeddedVideoControls37=!0,this.scheduleRenderReactComponent()),clearTimeout(this.$EmbeddedVideoControls8),this.$EmbeddedVideoControls8=setTimeout(function(){this.$EmbeddedVideoControls37=!1,this.scheduleRenderReactComponent()}.bind(this),3e3)},l.prototype.areControlsVisible=function(){"use strict";return!!this.areControlsEnabled()&&(this.$EmbeddedVideoControls7.isState("playing")?!!this.$EmbeddedVideoControls72||(!this.$EmbeddedVideoControls20||!this.$EmbeddedVideoControls22)&&(this.$EmbeddedVideoControls9||this.$EmbeddedVideoControls31&&this.$EmbeddedVideoControls37):this.$EmbeddedVideoControls7.isState("finished")?this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls21:!!this.$EmbeddedVideoControls7.isState("paused")&&(this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls16))},l.prototype.areControlsEnabled=function(){"use strict";return!(this.$EmbeddedVideoControls10>0||this.$EmbeddedVideoControls7.isState("loading")||this.$EmbeddedVideoControls7.isState("fallback")||this.$EmbeddedVideoControls7.isState("finished")&&this.$EmbeddedVideoControls21&&!this.$EmbeddedVideoControls7.isFullscreen())},l.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){"use strict";this.$EmbeddedVideoControls32=!0,this.scheduleRenderReactComponent(!0)},l.prototype.shouldRenderComponent=function(){"use strict";return!this.$EmbeddedVideoControls7.isState("loading")&&!this.$EmbeddedVideoControls7.isState("fallback")&&(this.areControlsVisible()?(this.$EmbeddedVideoControls15=!1,!0):!this.$EmbeddedVideoControls15&&(this.$EmbeddedVideoControls15=!0,!0))},l.prototype.scheduleRenderReactComponent=function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];(e||this.shouldRenderComponent())&&(t("cancelAnimationFrame")(this.$EmbeddedVideoControls39),this.$EmbeddedVideoControls39=t("requestAnimationFrame")(this.renderReactComponent.bind(this)))},l.prototype.renderReactComponent=function(){"use strict";this.$EmbeddedVideoControls32&&this.$EmbeddedVideoControls73();var e=this.areControlsVisible();this.$EmbeddedVideoControls47!==e&&(this.$EmbeddedVideoControls7.emit("VideoControls/visibilityUpdate",{areControlsVisible:e}),e?this.$EmbeddedVideoControls62.reserve():this.$EmbeddedVideoControls62.release()),this.$EmbeddedVideoControls47=e;var o=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),n=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),r=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),s=this.$EmbeddedVideoControls7.getStreamingFormat(),l=null;this.$EmbeddedVideoControls7.hasOption("LiveHeatmap","interestLevels")&&(l=this.$EmbeddedVideoControls7.getOption("LiveHeatmap","interestLevels"));var a=this.$EmbeddedVideoControls30;this.$EmbeddedVideoControls30=t("VideoPlayerExperiments").slidingWNSv3&&this.$EmbeddedVideoControls14&&t("VideoWatchAndScrollController").isSlidingEnabled(this.$EmbeddedVideoControls7),a!==this.$EmbeddedVideoControls30&&this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls30?t("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_HIGHLIGHTED:t("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED),t("ReactDOM").render(t("React").createElement(t("DeferredComponent.react"),{deferredPlaceholder:t("React").createElement("span",null),deferredComponent:function(e){return i(["EmbeddedVideoControls.react"],e)},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,allowEnqueuing:this.$EmbeddedVideoControls3,areSubtitlesActive:this.$EmbeddedVideoControls4,areHLSActive:this.$EmbeddedVideoControls5,bufferedPosition:this.$EmbeddedVideoControls6,finishedPlaying:this.$EmbeddedVideoControls7.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls11,hasSubtitles:this.$EmbeddedVideoControls13,hasWatchAndScroll:this.$EmbeddedVideoControls14&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls23,isFullscreen:this.$EmbeddedVideoControls24,isHD:this.$EmbeddedVideoControls25,isInline:this.$EmbeddedVideoControls26,isLive:this.$EmbeddedVideoControls27,isMuted:this.$EmbeddedVideoControls28,isPlaying:this.$EmbeddedVideoControls29,isSidePaneOpen:this.getIsInChannel()&&!!t("Parent").bySelector(this.$EmbeddedVideoControls40,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls30,interestLevels:l,drawer:this.$EmbeddedVideoControls62,onEnterWatchAndScroll:this.$EmbeddedVideoControls49,onEnqueueVideo:this.$EmbeddedVideoControls43,onPause:this.$EmbeddedVideoControls50,onPlay:this.$EmbeddedVideoControls51,onScrubBegin:this.$EmbeddedVideoControls52,onScrubEnd:this.$EmbeddedVideoControls53,onSidePaneToggle:function(){t("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$EmbeddedVideoControls42,onStopCast:this.$EmbeddedVideoControls44,onToggleFullscreen:this.$EmbeddedVideoControls54,onToggleHD:this.$EmbeddedVideoControls55,onToggleHLS:this.$EmbeddedVideoControls56,onToggleMuted:this.$EmbeddedVideoControls57,onToggleSubtitles:this.$EmbeddedVideoControls58,onVolumeChange:this.$EmbeddedVideoControls48,permalinkURL:this.$EmbeddedVideoControls33,playbackDuration:this.$EmbeddedVideoControls34,playbackPosition:this.$EmbeddedVideoControls35,transparent:!e,redesign:this.$EmbeddedVideoControls38,hidePlaybackControl:this.$EmbeddedVideoControls17,hideRemainingTime:this.$EmbeddedVideoControls18,hideSettings:this.$EmbeddedVideoControls19,useTwoRows:this.$EmbeddedVideoControls45,volume:this.$EmbeddedVideoControls46,scrubberPreviewSprites:this.$EmbeddedVideoControls41,hasScrubberPreview:this.$EmbeddedVideoControls12,previewThumbnailInformation:this.$EmbeddedVideoControls36,availableQualities:o,selectedQuality:n,canAutoSelectVideoQuality:r,onSelectQuality:this.$EmbeddedVideoControls59,showQualitySelector:this.$EmbeddedVideoControls60,qualitySelectorMinStreams:this.$EmbeddedVideoControls61,streamingFormat:s,showSpatialAudioNUX:this.$EmbeddedVideoControls66,onPointOfInterestSelect:this.$EmbeddedVideoControls63.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls63.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls63.pointsOfInterest,displayElapsedTime:this.$EmbeddedVideoControls64,adBreaksTimeOffset:this.$EmbeddedVideoControls65,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls24&&d}),this.$EmbeddedVideoControls40)},l.prototype.$EmbeddedVideoControls73=function(){"use strict";var e=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(e){this.$EmbeddedVideoControls4=e.areSubtitlesActive,this.$EmbeddedVideoControls13=e.hasSubtitles,this.$EmbeddedVideoControls11=e.hasHD,this.$EmbeddedVideoControls25=e.isHD,this.$EmbeddedVideoControls28=e.isMuted,this.$EmbeddedVideoControls29=e.isPlaying||this.isCastPlaying(),this.$EmbeddedVideoControls34=e.playbackDuration,this.$EmbeddedVideoControls46=e.volume;var o=this.$EmbeddedVideoControls7.getOption("CommercialBreakVideoAdOverlay","videoController");o?this.$EmbeddedVideoControls24=o.isFullscreen():this.$EmbeddedVideoControls24=this.$EmbeddedVideoControls7.isFullscreen(),this.$EmbeddedVideoControls26=this.$EmbeddedVideoControls7.getSource()===t("VideoPlayerLoggerSource").INLINE||this.$EmbeddedVideoControls7.getSource()===t("VideoPlayerLoggerSource").CONTINUE_WATCHING_RECOMMENDATION,this.$EmbeddedVideoControls27=e.isLiveStream,this.$EmbeddedVideoControls5=e.areHLSActive,this.$EmbeddedVideoControls32=!1}},l.prototype.toggleHD=function(){"use strict";this.$EmbeddedVideoControls7.toggleHD()},l.prototype.setPreferredVideoQuality=function(e){"use strict";e?this.$EmbeddedVideoControls7.setPreferredVideoQuality(e):this.$EmbeddedVideoControls7.unsetPreferredVideoQuality()},l.prototype.toggleHLS=function(){"use strict";this.$EmbeddedVideoControls7.switchToStreamType("hls")},l.prototype.enterWatchAndScroll=function(){"use strict";this.$EmbeddedVideoControls7.emit("enterWatchAndScroll")},l.prototype.scrubBegin=function(){"use strict";this.isCasting()||this.$EmbeddedVideoControls7.pause(t("VideoPlayerReason").SEEK)},l.prototype.scrubEnd=function(e){"use strict";this.$EmbeddedVideoControls7.seek(e),this.$EmbeddedVideoControls35=e,!this.isCasting()&&this.$EmbeddedVideoControls29&&this.$EmbeddedVideoControls7.play(t("VideoPlayerReason").SEEK)},l.prototype.toggleMuted=function(){"use strict";this.$EmbeddedVideoControls7.isMuted()?(t("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode()),this.$EmbeddedVideoControls7.unmute()):this.$EmbeddedVideoControls7.mute()},l.prototype.toggleFullscreen=function(){"use strict";this.$EmbeddedVideoControls7.isFullscreen()||t("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode()),this.$EmbeddedVideoControls7.toggleFullscreen()},l.prototype.toggleSubtitles=function(){"use strict";this.$EmbeddedVideoControls7.toggleSubtitles(),this.scheduleRenderReactComponent()},l.prototype.changeVolume=function(e){"use strict";this.$EmbeddedVideoControls7.setVolume(e)},l.prototype.play=function(){"use strict";t("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode()),this.isCasting()?this.$EmbeddedVideoControls7.setOption("casting","isPlaying",!0):this.$EmbeddedVideoControls7.play(t("VideoPlayerReason").USER)},l.prototype.pause=function(){"use strict";this.isCasting()?this.$EmbeddedVideoControls7.setOption("casting","isPlaying",!1):this.$EmbeddedVideoControls7.pause(t("VideoPlayerReason").USER)},l.prototype.startCasting=function(){"use strict";this.$EmbeddedVideoControls7.setOption("casting","isCasting",!0)},l.prototype.stopCasting=function(){"use strict";this.$EmbeddedVideoControls7.setOption("casting","isCasting",!1)},l.prototype.isCastPlaying=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isPlaying")},l.prototype.hasFoundReceiver=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","hasFoundReceiver")},l.prototype.isCasting=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isCasting")},l.prototype.isCastingSupported=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isSupported")},l.prototype.updatePointsOfInterestConfig=function(e){"use strict";Object.assign(this.$EmbeddedVideoControls63,e),this.scheduleRenderReactComponent()},l.prototype.updateDisplayElapsedTime=function(e){"use strict";this.$EmbeddedVideoControls64=e,this.scheduleRenderReactComponent()},l.prototype.getIsInChannel=function(){"use strict";return this.$EmbeddedVideoControls7.getIsInChannel()},n.exports=l},null),__d("EmbeddedVideoPauseOverlay",["cx","fbt","Arbiter","CSS","DOM","DOMDimensions","EventListener","throttle"],function(e,t,o,i,n,r,s,l){function d(e,o,i,n,r,s,d,a,h){"use strict";this.$EmbeddedVideoPauseOverlay1=o,this.$EmbeddedVideoPauseOverlay2=e,this.$EmbeddedVideoPauseOverlay3=i,this.$EmbeddedVideoPauseOverlay4=n,this.$EmbeddedVideoPauseOverlay5=r,this.$EmbeddedVideoPauseOverlay6=s,this.$EmbeddedVideoPauseOverlay7=d,this.$EmbeddedVideoPauseOverlay8=a,this.$EmbeddedVideoPauseOverlay9=0,h?this.$EmbeddedVideoPauseOverlay10=h.showOnlyOnFullscreen:this.$EmbeddedVideoPauseOverlay10=!1,this.$EmbeddedVideoPauseOverlay11=l._("Like"),this.$EmbeddedVideoPauseOverlay12=l._("Unlike"),this.$EmbeddedVideoPauseOverlay13=l._("Share"),this.$EmbeddedVideoPauseOverlay14(),this.$EmbeddedVideoPauseOverlay2.addListener("beginPlayback",this.$EmbeddedVideoPauseOverlay15.bind(this)),this.$EmbeddedVideoPauseOverlay2.addListener("pausePlayback",this.$EmbeddedVideoPauseOverlay16.bind(this)),this.$EmbeddedVideoPauseOverlay2.addListener("finishPlayback",this.$EmbeddedVideoPauseOverlay16.bind(this)),this.$EmbeddedVideoPauseOverlay2.addListener("toggleFullscreen",this.$EmbeddedVideoPauseOverlay17.bind(this)),t("EventListener").listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),"mousemove",t("throttle")(this.$EmbeddedVideoPauseOverlay18.bind(this),200)),t("EventListener").listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),"mouseenter",function(){this.$EmbeddedVideoPauseOverlay19=!0}.bind(this)),t("EventListener").listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),"mouseleave",function(){this.$EmbeddedVideoPauseOverlay2.isState("playing")&&(this.$EmbeddedVideoPauseOverlay19=!1,this.$EmbeddedVideoPauseOverlay20())}.bind(this)),t("Arbiter").subscribe("embeddedUfiToggle",function(){this.$EmbeddedVideoPauseOverlay21(),this.$EmbeddedVideoPauseOverlay22()}.bind(this)),t("EventListener").listen(window,"resize",t("throttle")(function(){this.$EmbeddedVideoPauseOverlay22()}.bind(this),100))}var a="_3bw";
d.prototype.$EmbeddedVideoPauseOverlay15=function(){"use strict";this.$EmbeddedVideoPauseOverlay21(),this.$EmbeddedVideoPauseOverlay22(),this.$EmbeddedVideoPauseOverlay18()},d.prototype.$EmbeddedVideoPauseOverlay21=function(){"use strict";var e;e=this.$EmbeddedVideoPauseOverlay2.isFullscreen()?64:32,this.$EmbeddedVideoPauseOverlay14(),this.$EmbeddedVideoPauseOverlay9=t("DOMDimensions").getElementDimensions(this.$EmbeddedVideoPauseOverlay3).width+t("DOMDimensions").getElementDimensions(this.$EmbeddedVideoPauseOverlay4).width+e},d.prototype.$EmbeddedVideoPauseOverlay22=function(){"use strict";var e=t("DOMDimensions").getElementDimensions(this.$EmbeddedVideoPauseOverlay2.getRootNode()).width,o=e<this.$EmbeddedVideoPauseOverlay9;o?this.$EmbeddedVideoPauseOverlay23():this.$EmbeddedVideoPauseOverlay14()},d.prototype.$EmbeddedVideoPauseOverlay14=function(){"use strict";this.$EmbeddedVideoPauseOverlay6&&t("DOM").setContent(this.$EmbeddedVideoPauseOverlay6,this.$EmbeddedVideoPauseOverlay13),this.$EmbeddedVideoPauseOverlay7&&t("DOM").setContent(this.$EmbeddedVideoPauseOverlay7,this.$EmbeddedVideoPauseOverlay11),this.$EmbeddedVideoPauseOverlay8&&t("DOM").setContent(this.$EmbeddedVideoPauseOverlay8,this.$EmbeddedVideoPauseOverlay12),this.$EmbeddedVideoPauseOverlay5&&this.$EmbeddedVideoPauseOverlay5.showText()},d.prototype.$EmbeddedVideoPauseOverlay23=function(){"use strict";this.$EmbeddedVideoPauseOverlay6&&t("DOM").setContent(this.$EmbeddedVideoPauseOverlay6,null),this.$EmbeddedVideoPauseOverlay7&&t("DOM").setContent(this.$EmbeddedVideoPauseOverlay7,null),this.$EmbeddedVideoPauseOverlay8&&t("DOM").setContent(this.$EmbeddedVideoPauseOverlay8,null),this.$EmbeddedVideoPauseOverlay5&&this.$EmbeddedVideoPauseOverlay5.hideText()},d.prototype.$EmbeddedVideoPauseOverlay24=function(){"use strict";return!(this.$EmbeddedVideoPauseOverlay10&&!this.$EmbeddedVideoPauseOverlay2.isFullscreen())&&(this.$EmbeddedVideoPauseOverlay2.isState("playing")&&this.$EmbeddedVideoPauseOverlay19||this.$EmbeddedVideoPauseOverlay2.isState("paused")||this.$EmbeddedVideoPauseOverlay2.isState("finished"))},d.prototype.$EmbeddedVideoPauseOverlay18=function(){"use strict";this.$EmbeddedVideoPauseOverlay24()&&(this.$EmbeddedVideoPauseOverlay25(),clearTimeout(this.$EmbeddedVideoPauseOverlay26),this.$EmbeddedVideoPauseOverlay26=setTimeout(function(){this.$EmbeddedVideoPauseOverlay2.isState("playing")&&this.$EmbeddedVideoPauseOverlay20()}.bind(this),3e3))},d.prototype.$EmbeddedVideoPauseOverlay17=function(){"use strict";this.$EmbeddedVideoPauseOverlay24()?this.$EmbeddedVideoPauseOverlay25():this.$EmbeddedVideoPauseOverlay20()},d.prototype.$EmbeddedVideoPauseOverlay16=function(){"use strict";this.$EmbeddedVideoPauseOverlay24()&&this.$EmbeddedVideoPauseOverlay25()},d.prototype.$EmbeddedVideoPauseOverlay25=function(){"use strict";t("CSS").removeClass(this.$EmbeddedVideoPauseOverlay1,a)},d.prototype.$EmbeddedVideoPauseOverlay20=function(){"use strict";t("CSS").addClass(this.$EmbeddedVideoPauseOverlay1,a)},n.exports=d},null);
//# sourceMappingURL=maps/VBzZqERpva2.js.map
