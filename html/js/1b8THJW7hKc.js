self.CavalryLogger&&CavalryLogger.start_js(["GtNWn"]),__d("EmbeddedPostPluginActions",[],function(e,t,n,i,o,s){o.exports={EMBEDDED_POSTS_COMMENT:"embedded_post_comment",EMBEDDED_POSTS_LIKE:"embedded_post_like",EMBEDDED_POSTS_SHARE:"embedded_post_share",EMBEDDED_POSTS_UNLIKE:"embedded_post_unlike"}},null),__d("EmbeddedPostPluginActionTypes",[],function(e,t,n,i,o,s){o.exports={CLICK:"click"}},null),__d("AsyncFormRequestUtils",["Arbiter"],function(e,t,n,i,o,s){var r={subscribe:function(e,n,i){t("Arbiter").subscribe("AsyncRequest/"+n,function(t,n){var o=n.request.relativeTo;o&&o===e&&i(n)})}};o.exports=r},null),__d("PluginTabLoadMore",["CSS","Event"],function(e,t,n,i,o,s){"use strict";var r={noMoreContent:function(){t("Event").fire(this.root,"noMoreContent"),t("CSS").hide(this.spinner)},setCursor:function(e){t("Event").fire(this.root,"setCursor",e)},init:function(e,t){this.root=e,this.spinner=t}};o.exports=r},null),__d("XPostPluginLoggingController",["XController"],function(e,t,n,i,o,s){o.exports=t("XController").create("/platform/plugin/post/logging/",{})},null),__d("PluginFeedFooterActionLogger",["AsyncRequest","DOM","EmbeddedPostPluginActions","EmbeddedPostPluginActionTypes","Event","XPostPluginLoggingController"],function(e,t,n,i,o,s){var r={initializeClickLoggers:function(e,n,i,o,s,r,d,u,l){var c=function(n,i){try{var o=t("DOM").find(e,"."+n);t("Event").listen(o,"click",function(e){(new(t("AsyncRequest"))).setURI(t("XPostPluginLoggingController").getURIBuilder().getURI()).setData({action:i,action_type:t("EmbeddedPostPluginActionTypes").CLICK,source:r,story_token:d,referer_url:u,is_sdk:l}).send()})}catch(s){}};c(n,t("EmbeddedPostPluginActions").EMBEDDED_POSTS_LIKE),c(i,t("EmbeddedPostPluginActions").EMBEDDED_POSTS_UNLIKE),c(o,t("EmbeddedPostPluginActions").EMBEDDED_POSTS_COMMENT),c(s,t("EmbeddedPostPluginActions").EMBEDDED_POSTS_SHARE)}};o.exports=r},null),__d("PluginFeedLikeButton",["Arbiter","AsyncFormRequestUtils","ClientIDs","CSS","DOM","DOMEventListener","FBFeedLocations","FormSubmit","Keys","PluginOptin","URI"],function(e,t,n,i,o,s){window.resetConfirmStoryLike=function(e){t("CSS").show(t("DOM").find(document,"#likeStory_"+e)),t("DOM").remove(t("DOM").find(document,"#confirmStory_"+e))};var r={addClientId:function(e){e.setAttribute("value",t("ClientIDs").getNewClientID())},loggedOutLikeButton:function(e,n,i){var o="";if(n===t("FBFeedLocations").EMBED)o="post";else{if(n!==t("FBFeedLocations").PAGE_PLUGIN)throw new Error("Invalid FBFeedLocation type.");o="page"}var s=new(t("PluginOptin"))(o).addReturnParams({act:"like_"+e});t("DOMEventListener").add(i,"click",s.start.bind(s))},init:function(e,n,i,o,s){var r=function(e){if("keypress"===e.type){if(e.keyCode!==t("Keys").RETURN&&e.keyCode!==t("Keys").SPACE)return;t("FormSubmit").send(s)}t("FormSubmit").send(s)};t("DOMEventListener").add(n,"click",r),t("DOMEventListener").add(i,"click",r),t("DOMEventListener").add(n,"keypress",r),t("DOMEventListener").add(i,"keypress",r);var d="1"===o.getAttribute("value");t("AsyncFormRequestUtils").subscribe(s,"send",function(s){var r="1"===o.getAttribute("value");t("CSS").conditionShow(i,r),t("CSS").conditionShow(n,!r),t("Arbiter").inform("embeddedUfiToggle",{isLike:r,storyToken:e}),o.setAttribute("value",r?"":"1")}),t("AsyncFormRequestUtils").subscribe(s,"response",function(s){var r=s.response.payload;if(r&&!r.success){var d=r.isLike;t("CSS").conditionShow(n,d),t("CSS").conditionShow(i,!d),t("Arbiter").inform("revertLike",{isLike:d,storyToken:e}),o.setAttribute("value",d?"1":"")}});var u=new(t("URI"))(window.location.search).getQueryData();d&&u.act==="like_"+e&&t("FormSubmit").send(s)}};o.exports=r},null);
//# sourceMappingURL=maps/1b8THJW7hKc.js.map
