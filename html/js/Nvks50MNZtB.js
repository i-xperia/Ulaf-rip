self.CavalryLogger&&CavalryLogger.start_js(["M1vW2"]),__d("VideoChainingCaller",[],function(e,t,i,s,n,o){n.exports={INTERNAL:"internal",WWW_FEED_PIVOTS:"www_feed_pivots",WWW_FEED_SNOWLIFT:"www_feed_snowlift",MISC_PHOTO_SET:"misc_photo_set",MOBILE:"mobile",SEARCH:"search",WWW_FEED_RHC:"www_feed_rhc",WWW_PERMALINK:"www_permalink",WWW_PERMALINK_RHC:"www_permalink_rhc",WWW_PERMALINK_RHC_FROM_NOTIFICATION:"www_permalink_rhc_from_notification",MY_VIDEO_CHANNELS_ENT_QUERY:"my_video_channels_ent_query",TOP_FOLLOWED_VIDEO_CHANNELS_ENT_QUERY:"top_followed_video_channels_ent_query",BADGE:"badge",PAGINATION:"pagination",SUBTITLE:"subtitle",CHANNEL_VIEW_FROM_UNKNOWN:"channel_view_from_unknown",CHANNEL_VIEW_FROM_NEWSFEED:"channel_view_from_newsfeed",CHANNEL_VIEW_FROM_EXPLOREFEED:"channel_view_from_explorefeed",LIVE_INDEXER_FROM_EXPLOREFEED:"live_indexer_from_explorefeed",CHANNEL_VIEW_FROM_SEARCH:"channel_view_from_search",CHANNEL_VIEW_FROM_NEWSFEED_PIVOT:"channel_view_from_newsfeed_pivot",NEWSFEED_PIVOT_INLINE:"newsfeed_pivot_inline",CHANNEL_VIEW_FROM_PAGE_CALL_TO_ACTION:"channel_view_from_page_call_to_action",CHANNEL_VIEW_FROM_PAGE_TIMELINE:"channel_view_from_page_timeline",CHANNEL_VIEW_FROM_PAGE_TIMELINE_FEATURED:"channel_view_from_page_timeline_featured",CHANNEL_VIEW_FROM_PAGE_VIDEO_TAB:"channel_view_from_page_video_tab",CHANNEL_VIEW_FROM_USER_TIMELINE:"channel_view_from_user_timeline",CHANNEL_VIEW_FROM_USER_VIDEO_TAB:"channel_view_from_user_video_tab",CHANNEL_VIEW_FROM_GROUP_TIMELINE:"channel_view_from_group_timeline",CHANNEL_VIEW_FROM_GROUP_VIDEO_TAB:"channel_view_from_group_video_tab",CHANNEL_VIEW_FROM_SAVED_STORY:"channel_view_from_saved_story",SAVED_STORY_INLINE:"saved_story_inline",CHANNEL_VIEW_FROM_SHARED_WITH_YOU_STORY:"channel_view_from_shared_with_you_story",SHARED_WITH_YOU_STORY_INLINE:"shared_with_you_story_inline",CHANNEL_VIEW_FROM_LATEST_FROM_YOUR_CHANNELS_STORY:"channel_view_from_latest_from_your_channels_story",LATEST_FROM_YOUR_CHANNELS_STORY_INLINE:"latest_from_your_channels_story_inline",CHANNEL_VIEW_FROM_CHANNEL_PIVOT:"channel_view_from_channel_pivot",CHANNEL_PIVOT_INLINE:"channel_pivot_inine",CHANNEL_VIEW_FROM_CHANNEL_RECOMMENDED_CHANNEL_STORY:"channel_view_from_recommended_channel_story",RECOMMENDED_CHANNEL_STORY_INLINE:"recommended_channel_story_inline",CHANNEL_VIEW_FROM_VIDEO_HOME:"channel_view_from_video_home",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CHANNEL_SEE_ALL:"video_home_channel_see_all",CHANNEL_VIEW_FROM_CASTING:"channel_view_from_casting",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME_FEED:"video_home_feed",FEED_SURVEY_SWIPE:"feed_survey_swipe",FEED_PIVOTS_INLINE:"feed_pivots_inline",CHANNEL_VIEW_FROM_FEED_PIVOTS:"channel_view_from_feed_pivots",VIDEO_SETS_CACHE_REFRESH:"video_sets_cache_refresh",VIDEO_SETS_CACHE_CHECK:"video_sets_cache_check",DUMMY_STORY_RECOMMENDED_VIDEOS:"dummy_story_recommended_videos",DUMMY_STORY_FRIENDS_ENJOYING:"dummy_story_friends_enjoying",LIVE_EVENT_VIDEO_SET:"live_event_video_set",LIVE_VIDEOS_SET:"live_videos_set",SINGLE_CREATOR_VIDEO_SET:"single_creator_video_set",FRT_TOOL:"frt_tool",DUMMY_STORY_FRIENDS_ENJOYING_NOW:"dummy_story_friends_enjoying_now",DUMMY_STORY_DUMMY_ACTION:"dummy_story_dummy_action",OCULUS_VIDEO:"oculus_video",TRENDING_DEMOGRAPHICS_LIVE:"trending_demographics_live",LIVE_MAP:"live_map",UNCONNECTED_LIVE_VIDEO:"unconnected_live_video",PROFILE_VIDEO_GALLERY:"profile_video_gallery",CHANNEL_VIEW_FROM_PLAYLIST:"channel_view_from_playlist",OCULUS_SOCIAL_HUB:"oculus_social_hub",AKIRA:"akira"}},null),__d("VideoPlayerOrigins",[],function(e,t,i,s,n,o){n.exports={NEWSFEED:"newsfeed",USER_TIMELINE:"user_timeline",PAGE_TIMELINE:"page_timeline",PERMALINK:"permalink",GROUP:"group",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME:"video_home",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_REACTION:"video_home_reaction",VIDEO_HOME_MAIN:"video_home_main",VIDEO_HOME_GUIDE:"video_home_guide",VIDEO_TAB:"video_tab",EXTERNAL:"external",INSTANT_ARTICLES:"instant_articles",INTERN:"intern",BACKSTAGE:"backstage",INSTANT_SHOPPING:"instant_shopping",REDSPACE:"redspace",SAVED:"saved",SEARCH:"search",NOTIFICATIONS:"notifications",UNKNOWN:"unknown",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_REDIRECT:"live_redirect",LIVE_EMBED_REDIRECT:"live_embed_redirect",LOCAL_NEWS:"local_news",PAGES_MODULE:"pages_module",PAGES_VIDEO_TAB:"pages_video_tab",BACKGROUND_PLAY:"background_play",QUICK_PROMOTION:"quick_promotion",CULTURAL_MOMENTS:"cultural_moments_share",SPHERIAL_VIDEO_EDITING:"spherial_video_editing",EXPLORE_FEED:"explorefeed",RHC:"rhc",ADS:"ads",CANVAS:"canvas",COMMERCE:"commerce",COMPOSER:"composer",DASH:"dash",FACEWEB:"faceweb",FEEDBACK:"feedback",FRIENDS:"friends",EVENTS:"events",HELP:"help",INFRASTRUCTURE:"infrastructure",LOGIN:"login",MARKETING:"marketing",MESSAGING:"messaging",NAVIGATION:"navigation",PHOTOS:"photos",PRIVACY:"privacy",SETTINGS:"settings",STORY_VIEW:"story_view",WEBVIEW:"webview",TRENDING:"trending",FACECAST_NUX:"facecast_nux",PIXELCLOUD:"pixelcloud",TAROT:"tarot",GAMEROOM:"gameroom",LEARN:"learn",BEEPER:"beeper",FACECAST_BEEPER:"facecast_beeper",JOB_SEARCH:"job_search"}},null),__d("ContextualLayer.react",["ContextualLayer","React","ReactDOM","ReactLayer","Style"],function(e,t,i,s,n,o){var r=t("React").PropTypes,a=t("ReactLayer").createClass({propTypes:{contextRef:r.func,context:function(e,i,s){if(null==e.context==(null==e.contextRef))return new Error("Exactly one of `context` or `contextRef` must be set on `"+(s+"`."));var n=e[i];if(null!=n){if("object"!=typeof n)return new Error("Invalid `"+i+"` supplied to `"+s+"`, expected a React component.");if(t("React").isValidElement(n))return new Error("Invalid `"+i+"` supplied to `"+s+"`, expected a React component instance. You're passing a React descriptor.")}}},immutableProps:{modal:null},createLayer:function(e){var i=this._getContextNode(),s={context:i,contextBounds:this.props.contextBounds,"data-testid":this.props["data-testid"],position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties},n=new(t("ContextualLayer"))(s,e);return this._node=e,this._matchContextSize(this.props),this.props.contextBounds&&n.setContextWithBounds(i,this.props.contextBounds),n.conditionShow(this.props.shown),n},receiveProps:function(e,t){this.updateBehaviors(t.behaviors,e.behaviors);var i=this._getContextNode();e.contextBounds?this.layer.setContextWithBounds(i,e.contextBounds):this.layer.setContext(i),this._matchContextSize(e),this.layer.setPosition(e.position),this.layer.setAlignment(e.alignment),this.layer.setOffsetX(e.offsetX),this.layer.setOffsetY(e.offsetY),this.layer.conditionShow(e.shown)},getDefaultEnabledBehaviors:function(){return t("ContextualLayer").getDefaultBehaviorsAsObject()},_getContextNode:function(){var e;return this.props.context?e=t("ReactDOM").findDOMNode(this.props.context):this.props.contextRef&&(e=t("ReactDOM").findDOMNode(this.props.contextRef())),e},_matchContextSize:function(e){var i=this._node,s=this._getContextNode();e.containerWidthMatchContext&&t("Style").set(i,"width",s.offsetWidth+"px"),e.containerHeightMatchContext&&t("Style").set(i,"height",s.offsetHeight+"px")}});n.exports=a},null),__d("AbstractTextField.react",["cx","React","Keys","joinClasses"],function(e,t,i,s,n,o,r){function a(e){"use strict";h.constructor.call(this,e),u.call(this),this.state={focused:!1,value:this.props.defaultValue||""}}var p,h,l=t("React").Component,c=(t("React").Element,t("React").PropTypes);p=babelHelpers.inherits(a,l),h=p&&p.prototype,a.prototype.getValue=function(){"use strict";return null!=this.props.value?String(this.props.value):this.state.value},a.prototype.cloneElement=function(e){"use strict";return t("React").cloneElement(e,{"aria-activedescendant":this.props["aria-activedescendant"],"aria-autocomplete":this.props["aria-autocomplete"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-expanded":this.props["aria-expanded"],"aria-owns":this.props["aria-owns"],"aria-valuenow":this.props["aria-valuenow"],"aria-valuetext":this.props["aria-valuetext"],"data-testid":this.props["data-testid"],required:this.props.required,role:this.props.role,placeholder:this.props.placeholder,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,onKeyDown:this.onInputKeyDown,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.onInputChange,className:this.props.useLabel?e.props.className:t("joinClasses")(e.props.className,this.props.className),dir:this.props.dir,disabled:this.props.disabled,defaultValue:this.props.defaultValue,name:this.props.name,value:this.getValue(),id:this.props.id,maxLength:this.props.maxLength,min:this.props.min,max:this.props.max,pattern:this.props.pattern,style:this.props.style,title:this.props.title,type:this.props.type||e.props.type})},a.prototype.render=function(){"use strict";var e=t("React").Children.only(this.props.children);if(!this.props.useLabel)return this.cloneElement(e);var i=this.props.className;return this.props.classNames&&(i=t("joinClasses")(i,this.props.classNames.root),this.getValue()||(i=t("joinClasses")(i,this.props.classNames.empty))),t("React").createElement("label",{className:i,style:this.props.styles.label},this.props.leftChild,this.cloneElement(e),this.props.rightChild)},a.defaultProps={useLabel:!0,classNames:{root:"_58ak",empty:"_3ct8"},styles:{label:null}},a.propTypes={useLabel:c.bool,leftChild:c.element,rightChild:c.element,classNames:c.shape({root:c.string.isRequired,empty:c.string.isRequired}),styles:c.shape({label:c.object}),"aria-activedescendant":c.string,"aria-autocomplete":c.string,"aria-label":c.string,"aria-labelledby":c.string,"aria-expanded":c.bool,"aria-owns":c.string,"aria-valuenow":c.number,"aria-valuetext":c.string,"data-testid":c.string,autoComplete:c.string,className:c.string,defaultValue:c.string,dir:c.string,disabled:c.bool,id:c.string,max:c.string,maxLength:c.number,min:c.string,name:c.string,onBackspace:c.func,onBackTab:c.func,onBlur:c.func,onChange:c.func,onComma:c.func,onDownArrow:c.func,onEnter:c.func,onEscape:c.func,onFocus:c.func,onKeyDown:c.func,onKeyPress:c.func,onKeyUp:c.func,onLeftArrow:c.func,onNoShiftEnter:c.func,onPaste:c.func,onRightArrow:c.func,onShiftDownArrow:c.func,onShiftEnter:c.func,onShiftUpArrow:c.func,onSpace:c.func,onTab:c.func,onUpArrow:c.func,pattern:c.string,placeholder:c.string,required:c.bool,role:c.string,style:c.object,title:c.string,type:c.string,value:c.string,autoCapitalize:c.string,autoCorrect:c.string};var u=function(){this.onInputKeyDown=function(e){var i=this.props,s=e.keyCode,n=e.shiftKey;s===t("Keys").BACKSPACE&&!n&&i.onBackspace?i.onBackspace(e):s===t("Keys").TAB&&!n&&i.onTab?i.onTab(e):s===t("Keys").TAB&&n&&i.onBackTab?i.onBackTab(e):s===t("Keys").UP?n?i.onShiftUpArrow&&i.onShiftUpArrow(e):i.onUpArrow&&i.onUpArrow(e):s===t("Keys").DOWN&&i.onDownArrow?n?i.onShiftDownArrow&&i.onShiftDownArrow(e):i.onDownArrow&&i.onDownArrow(e):s===t("Keys").LEFT&&i.onLeftArrow?i.onLeftArrow(e):s===t("Keys").RIGHT&&i.onRightArrow?i.onRightArrow(e):s===t("Keys").RETURN?(i.onEnter&&i.onEnter(e),n?i.onShiftEnter&&i.onShiftEnter(e):i.onNoShiftEnter&&i.onNoShiftEnter(e)):s===t("Keys").ESC&&i.onEscape?i.onEscape(e):s==t("Keys").COMMA&&i.onComma?i.onComma(e):s==t("Keys").SPACE&&i.onSpace&&i.onSpace(e),i.onKeyDown&&i.onKeyDown(e)}.bind(this),this.onInputChange=function(e){this.props.onChange&&this.props.onChange(e),null!==this.props.value&&void 0!==this.props.value||this.setState({value:e.target.value})}.bind(this),this.onInputBlur=function(e){this.props.onBlur&&this.props.onBlur(e),e.isDefaultPrevented()||this.setState({focused:!1})}.bind(this),this.onInputFocus=function(e){this.props.onFocus&&this.props.onFocus(e),e.isDefaultPrevented()||this.setState({focused:!0})}.bind(this)};n.exports=a},null),__d("AbstractTextInput.react",["cx","AbstractTextField.react","React"],function(e,t,i,s,n,o,r){function a(){"use strict";p.apply(this,arguments)}var p,h,l=t("React").Component;p=babelHelpers.inherits(a,l),h=p&&p.prototype,a.prototype.render=function(){"use strict";return t("React").createElement(t("AbstractTextField.react"),this.props,t("React").createElement("input",{className:"_58al",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,size:this.props.size,tabIndex:this.props.tabIndex,type:"text",ref:function(e){return this.$AbstractTextInput1=e}.bind(this)}))},a.prototype.focusInput=function(){"use strict";this.$AbstractTextInput1&&this.$AbstractTextInput1.focus()},a.prototype.blurInput=function(){"use strict";this.$AbstractTextInput1&&this.$AbstractTextInput1.blur()},a.prototype.getTextFieldDOM=function(){"use strict";return this.$AbstractTextInput1},a.prototype.getValue=function(){"use strict";return this.$AbstractTextInput1?this.$AbstractTextInput1.value:""},a.propTypes=t("AbstractTextField.react").propTypes,n.exports=a},null),__d("SearchableTextInput.react",["EventListener","React","AbstractTextInput.react","getActiveElement","areEqual"],function(e,t,i,s,n,o){function r(){for(var e,i,s=arguments.length,n=Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=(e=p.constructor).call.apply(e,[this].concat(n)),this.$SearchableTextInput2=function(){var e=this.props.searchSource.bootstrap(function(){this.props.searchOnFocus&&this.search(this.props.queryString)}.bind(this));e&&e.done&&e.done(),this.props.onFocus&&this.props.onFocus()}.bind(this),this.$SearchableTextInput3=function(e,t,i){this.props.queryString===t&&this.props.onEntriesFound(e,t,i)}.bind(this),this.$SearchableTextInput4=function(e){this.props.onChange&&this.props.onChange(e);var t=e.target.value;setTimeout(function(){return this.search(t)}.bind(this))}.bind(this),this.search=function(e,t){this.props.searchSource.search(e,this.$SearchableTextInput3,t||this.props.searchSourceOptions)}.bind(this),this.focusInput=function(){var e=this.getTextFieldDOM();t("getActiveElement")()===e?this.$SearchableTextInput2():e.offsetHeight&&e.focus()}.bind(this),this.blurInput=function(){var e=this.getTextFieldDOM();e.offsetHeight&&e.blur()}.bind(this),this.getTextFieldDOM=function(){return this.refs.input.getTextFieldDOM()}.bind(this),i}var a,p,h=t("React").PropTypes;a=babelHelpers.inherits(r,t("React").Component),p=a&&a.prototype,r.prototype.componentDidMount=function(){"use strict";this.props.onPaste&&(this.$SearchableTextInput1=t("EventListener").listen(this.refs.input.getTextFieldDOM(),"paste",this.props.onPaste))},r.prototype.componentWillReceiveProps=function(e){"use strict";e.searchSourceOptions&&!t("areEqual")(e.searchSourceOptions,this.props.searchSourceOptions)&&this.search(this.props.queryString,e.searchSourceOptions)},r.prototype.componentDidUpdate=function(e){"use strict";this.props.searchOnUpdate&&e.queryString!==this.props.queryString&&this.search(this.props.queryString)},r.prototype.componentWillUnmount=function(){"use strict";this.$SearchableTextInput1&&(this.$SearchableTextInput1.remove(),this.$SearchableTextInput1=null)},r.prototype.render=function(){"use strict";var e=this.props.queryString||"";return t("React").createElement(t("AbstractTextInput.react"),babelHelpers["extends"]({},this.props,{onChange:this.$SearchableTextInput4,onFocus:this.$SearchableTextInput2,ref:"input",role:"combobox",value:e}))},r.propTypes=babelHelpers["extends"]({},t("AbstractTextInput.react").propTypes,{queryString:h.string,searchSource:h.object,searchSourceOptions:h.object,onEntriesFound:h.func.isRequired,searchOnFocus:h.bool,searchOnUpdate:h.bool,required:h.bool,onPaste:h.func,onFocus:h.func,onChange:h.func}),n.exports=r},null),__d("TypeaheadView.react",["cx","React"],function(e,t,i,s,n,o,r){function a(){for(var e,t,i=arguments.length,s=Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=(e=h.constructor).call.apply(e,[this].concat(s)),this.$TypeaheadView1=function(e,t){this.props.onSelect&&this.props.onSelect(e,t)}.bind(this),this.$TypeaheadView2=function(e){this.props.onHighlight(e)}.bind(this),t}var p,h,l=t("React").PropTypes;p=babelHelpers.inherits(a,t("React").Component),h=p&&p.prototype,a.prototype.render=function(){"use strict";var e=this.props,i=e.extraRendererProps,s=e.isVisible,n=e.Renderer,o=babelHelpers.objectWithoutProperties(e,["extraRendererProps","isVisible","Renderer"]);return t("React").createElement("div",{className:s?"":"hidden_elem"},n?t("React").createElement(n,babelHelpers["extends"]({},o,i)):null)},a.propTypes={entries:l.array.isRequired,extraRendererProps:l.object,highlightedEntry:l.object,isVisible:l.bool,queryString:l.string,Renderer:l.func,selectedEntry:l.object},n.exports=a},null),__d("AbstractTypeahead.react",["cx","AbstractTextField.react","ContextualLayer.react","InputSelection","React","ReactLayeredComponentMixin_DEPRECATED","SearchableTextInput.react","SearchSourceQueryStatus","TypeaheadNavigation","TypeaheadView.react","clearImmediate","getOrCreateDOMID","joinClasses","setImmediate","uniqueID"],function(e,t,i,s,n,o,r){var a=t("React").PropTypes,p=[],h=10,l=t("React").createClass({displayName:"AbstractTypeahead",mixins:[t("ReactLayeredComponentMixin_DEPRECATED")],propTypes:babelHelpers["extends"]({},t("AbstractTextField.react").propTypes,{additionalElements:a.node,inputClassName:a.string,inputID:a.string,inputStyle:a.object,autoCapitalize:a.string,autoComplete:a.string,autoCorrect:a.string,queryString:a.string,searchSource:a.object.isRequired,searchSourceOptions:a.object,textInputDataTestID:a.string,"data-testid":a.string,excludedEntries:a.object,entryFilter:a.func,additionalEntries:a.array,presenter:a.object.isRequired,onSelectAttempt:a.func,onEntriesFound:a.func,onNoEntriesFound:a.func,onEnterWithoutSelection:a.func,autoHighlight:a.bool,showEntriesOnFocus:a.bool,selectOnBlur:a.bool,blurOnWindowBlur:a.bool,selectOnTab:a.bool,selectOnSpace:a.bool,selectOnComma:a.bool,focusedOnInit:a.bool,hideViewWithEntries:a.bool,disabled:a.bool,entriesWidthMatchContext:a.bool,selectedEntry:a.object,onTypeaheadVisibilityChanged:a.func,onPaste:a.func,navigation:a.object}),getDefaultProps:function(){return{autoComplete:"off",autoCorrect:"off",blurOnWindowBlur:!0,selectOnBlur:!1,selectOnTab:!0,selectOnSpace:!1,selectOnComma:!1,hideViewWithEntries:!0,entriesWidthMatchContext:!0,navigation:t("TypeaheadNavigation")}},getInitialState:function(){return{highlightedEntry:null,isArrowNavigation:!1,isAutoHighlight:this.props.autoHighlight,ariaActiveDescendantID:null,ariaOwneeID:t("uniqueID")(),activeEntries:null,focused:!!this.props.focusedOnInit,viewIsVisible:!!this.props.focusedOnInit}},_onRenderHighlight:function(e){var i=t("getOrCreateDOMID")(e);this.setState({ariaActiveDescendantID:i})},_determineViewVisibility:function(e,t){if(!e)return!1;var i=e.length>0&&(this.props.showEntriesOnFocus||this.props.queryString.length>0);return!(!t||!this.props.presenter.alwaysVisibleOnFocus&&!i)},_onEntriesFound:function(e,i,s){if(this.isMounted()){if(this.props.excludedEntries){var n=this.props.excludedEntries;e=e.filter(function(e){return!n.hasOwnProperty(e.getUniqueID())})}this.props.entryFilter&&(e=e.filter(this.props.entryFilter));var o=this.props.presenter,r="function"==typeof o.sortEntries?o.sortEntries(e,this.state.activeEntries,this.props.queryString):e,a=this.props.additionalEntries,p=a?a.length:0,l=r.slice(0,(o.maxEntries||h)-p);this.props.additionalEntries&&(l=l.concat(this.props.additionalEntries),r="function"==typeof o.sortEntries?o.sortEntries(l,this.state.activeEntries,this.props.queryString):l,l=r.slice(0,o.maxEntries||h));var c=this._determineViewVisibility(l,this.state.focused);if(!l.length)return this.setState({ariaActiveDescendantID:null,activeEntries:l,highlightedEntry:null,isAutoHighlight:this.props.autoHighlight}),this._setViewIsVisible(c),void(this.props.onNoEntriesFound&&s===t("SearchSourceQueryStatus").COMPLETE&&this.props.onNoEntriesFound());this.props.onEntriesFound&&this.props.onEntriesFound(l,s);var u=this.state.highlightedEntry,_=u&&l.indexOf(u)!==-1;if(!this.props.autoHighlight)return this.setState({activeEntries:l,highlightedEntry:_?u:null}),void(c&&this._setViewIsVisible(!0));var d=this.state.isAutoHighlight;d?u=l[0]:(u=_?u:l[0],d=!_),this.setState({activeEntries:l,highlightedEntry:u,isAutoHighlight:d}),c&&this._setViewIsVisible(!0)}},_onInputFocus:function(){var e=this._determineViewVisibility(this.state.activeEntries,!0);e&&this._setViewIsVisible(!0),this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus()},_onInputBlurWindowSafe:function(){var e=void 0,i=Event.listen(window,"blur",function(){i.remove(),t("clearImmediate")(e)});e=t("setImmediate")(function(){i.remove(),this._onInputBlur()}.bind(this))},_onInputBlur:function(){this.setState({focused:!1}),this.props.hideViewWithEntries&&this._close(),this.props.selectOnBlur&&this.state.highlightedEntry&&this.props.onSelectAttempt(this.state.highlightedEntry),this.props.onBlur&&this.props.onBlur()},_onInputClick:function(e){var i=this.getTextFieldDOM(),s=t("InputSelection").get(i);s&&s.start==s.end&&i.select(),this.props.onClick&&this.props.onClick(e)},_onEscape:function(){this._close(),this.blurInput(),this.setState({focused:!1}),this.props.onEscape&&this.props.onEscape()},_onEnter:function(e){if(this.props.onEnterWithoutSelection&&(!this.state.viewIsVisible||!this.state.highlightedEntry))return void this.props.onEnterWithoutSelection(e);if(this.state.viewIsVisible){if(!this.state.highlightedEntry)return void e.preventDefault();this.props.hideViewWithEntries&&this._close(),this.props.onSelectAttempt&&this.props.onSelectAttempt(this.state.highlightedEntry,e),e.preventDefault()}},_onTab:function(e){this._onKeySelectAttempt(this.props.selectOnTab,e)},_onSpace:function(e){this._onKeySelectAttempt(this.props.selectOnSpace,e)},_onComma:function(e){this._onKeySelectAttempt(this.props.selectOnComma,e)},_onKeySelectAttempt:function(e,t){e&&this.state.viewIsVisible&&this.props.onSelectAttempt&&this.state.highlightedEntry&&(this.props.hideViewWithEntries&&(this._close(),t.preventDefault()),this.props.onSelectAttempt(this.state.highlightedEntry,t))},_onDownArrow:function(e){this.props.navigation.moveDown&&(e.preventDefault(),this.props.navigation.moveDown(this.state.activeEntries||p,this.state.highlightedEntry,this._setHighlight))},_onLeftArrow:function(e){this.props.navigation.moveLeft&&(e.preventDefault(),this.props.navigation.moveLeft(this.state.activeEntries||p,this.state.highlightedEntry,this._setHighlight))},_onRightArrow:function(e){this.props.navigation.moveRight&&(e.preventDefault(),this.props.navigation.moveRight(this.state.activeEntries||p,this.state.highlightedEntry,this._setHighlight))},_onUpArrow:function(e){this.props.navigation.moveUp&&(e.preventDefault(),this.props.navigation.moveUp(this.state.activeEntries||p,this.state.highlightedEntry,this._setHighlight))},_setHighlight:function(e){this.setState({highlightedEntry:e,isArrowNavigation:!0,isAutoHighlight:!e})},_onInputChange:function(e){this.props.onChange&&this.props.onChange(e),this._setViewIsVisible(this.state.focused&&(this.props.showEntriesOnFocus||e.target.value.length>0)&&(this.props.presenter.alwaysVisibleOnFocus||null!=this.state.activeEntries&&this.state.activeEntries.length>0))},_onViewHighlight:function(e){this.setState({highlightedEntry:e,isArrowNavigation:!1,isAutoHighlight:!1})},_getView:function(){return t("React").createElement(t("TypeaheadView.react"),{Renderer:this.props.presenter.ViewRenderer,extraRendererProps:babelHelpers["extends"]({},this.props.presenter.extraRendererProps,{isArrowNavigation:this.state.isArrowNavigation}),highlightedEntry:this.state.highlightedEntry,selectedEntry:this.props.selectedEntry,isVisible:this.state.viewIsVisible,ariaOwneeID:this.state.ariaOwneeID,onHighlight:this._onViewHighlight,onRenderHighlight:this._onRenderHighlight,onSelect:this.props.onSelectAttempt,entries:this.state.activeEntries||p,queryString:this.props.queryString})},_setViewIsVisible:function(e){e!==this.state.viewIsVisible&&(this.props.onTypeaheadVisibilityChanged&&this.props.onTypeaheadVisibilityChanged(e,this.state.activeEntries||p),this.setState({viewIsVisible:e}))},componentWillReceiveProps:function(e){e.queryString||this.props.showEntriesOnFocus||this.clearActiveEntries()},componentDidUpdate:function(){var e=this._determineViewVisibility(this.state.activeEntries,this.state.focused);e&&this._setViewIsVisible(!0)},renderLayers:function(){if(!this.props.presenter.useLayer)return{};var e=null,i=null;this.props.context?e=this.props.context:i=function(){return this.refs.input}.bind(this);var s=this.props.presenter,n=s.layerComponent||t("ContextualLayer.react");return{typeaheadView:t("React").createElement(n,{alignment:s.alignment,behaviors:s.layerBehaviors,containerWidthMatchContext:this.props.entriesWidthMatchContext,contextRef:i,context:e,"data-testid":this.props["data-testid"],position:s.layerPosition||"below",shown:this.state.viewIsVisible,shouldSetARIAProperties:!1,width:s.width},this._getView())}},render:function(){var e=this.state.activeEntries,i=!(!e||!e.length),s=t("React").createElement(t("SearchableTextInput.react"),{"aria-activedescendant":this.state.ariaActiveDescendantID,"aria-expanded":i,"aria-autocomplete":"list","aria-label":this.props.ariaLabel,"aria-owns":this.state.ariaOwneeID,"data-testid":this.props.textInputDataTestID,required:this.props.required,ref:"input",autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:this.props.inputClassName,id:this.props.inputID,name:this.props.name,queryString:this.props.queryString,placeholder:this.props.placeholder,maxLength:this.props.maxLength,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,searchOnFocus:!!this.props.showEntriesOnFocus,disabled:this.props.disabled,onDownArrow:this._onDownArrow,onLeftArrow:this._onLeftArrow,onRightArrow:this._onRightArrow,onUpArrow:this._onUpArrow,onEntriesFound:this._onEntriesFound,onEscape:this._onEscape,onBlur:this.props.blurOnWindowBlur?this._onInputBlur:this._onInputBlurWindowSafe,onFocus:this._onInputFocus,onChange:this._onInputChange,onTab:this._onTab,onSpace:this._onSpace,onComma:this._onComma,onEnter:this._onEnter,onBackspace:this.props.onBackspace,onPaste:this.props.onPaste,onClick:this._onInputClick,style:this.props.inputStyle,tabIndex:this.props.tabIndex,type:this.props.type}),n=null;this.props.presenter.useLayer||(n=this._getView());var o=Object.assign({},this.props);return delete o.additionalElements,delete o.inputClassName,delete o.inputID,delete o.inputStyle,delete o.searchSource,delete o.searchSourceOptions,delete o.excludedEntries,delete o.presenter,delete o.onSelectAttempt,delete o.onEntriesFound,delete o.onNoEntriesFound,delete o.onEnterWithoutSelection,delete o.autoHighlight,delete o.showEntriesOnFocus,delete o.selectOnBlur,delete o.blurOnWindowBlur,delete o.selectOnTab,delete o.selectOnComma,delete o.selectOnSpace,delete o.focusedOnInit,delete o.hideViewWithEntries,delete o.disabled,delete o.entriesWidthMatchContext,delete o.selectedEntry,delete o.onTypeaheadVisibilityChanged,delete o.onPaste,delete o.navigation,delete o.type,t("React").createElement("span",babelHelpers["extends"]({},o,{className:t("joinClasses")(this.props.className,"_58ah"),onBlur:null,onChange:null,onClick:null,onFocus:null,tabIndex:null}),s,this.props.additionalElements,n)},componentDidMount:function(){this.props.focusedOnInit&&this.focusInput()},clearActiveEntries:function(){this.setState({ariaActiveDescendantID:null,activeEntries:null,highlightedEntry:null})},focusInput:function(){var e=this.getTextFieldDOM();e.value&&t("InputSelection").set(e,e.value.length),this.refs.input.focusInput()},blurInput:function(){this.refs.input.blur?this.refs.input.blur():this.refs.input.blurInput&&this.refs.input.blurInput()},hideView:function(){this._setViewIsVisible(!1)},_close:function(){this._setViewIsVisible(!1),this.clearActiveEntries()},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM()}});n.exports=l},null),__d("XUITextInput.react",["cx","AbstractTextInput.react","React","XUIError.react","joinClasses"],function(e,t,i,s,n,o,r){function a(e){"use strict";h.constructor.call(this,e),this.$XUITextInput1=function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focused:!0})}.bind(this),this.$XUITextInput2=function(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focused:!1})}.bind(this),this.state={focused:!1}}var p,h,l=t("React").Component,c=t("React").PropTypes;p=babelHelpers.inherits(a,l),h=p&&p.prototype,a.prototype.render=function(){"use strict";var e="_55r1"+("tall"===this.props.height?" _55r2":"")+(this.props.disabled?" _53a0":"")+(this.state.focused?" _1488":"");return t("React").createElement(t("XUIError.react"),this.props,t("React").createElement(t("AbstractTextInput.react"),babelHelpers["extends"]({},this.props,{onFocus:this.$XUITextInput1,onBlur:this.$XUITextInput2,ref:"textInput",className:t("joinClasses")(this.props.className,e)})))},a.prototype.focusInput=function(){"use strict";this.refs.textInput&&this.refs.textInput.focusInput()},a.prototype.blurInput=function(){"use strict";this.refs.textInput&&this.refs.textInput.blurInput()},a.prototype.getTextFieldDOM=function(){"use strict";return this.refs.textInput?this.refs.textInput.getTextFieldDOM():null},a.defaultProps={height:"short"},a.propTypes=babelHelpers["extends"]({},t("AbstractTextInput.react").propTypes,t("XUIError.react").propTypes,{height:c.oneOf(["short","tall"])}),n.exports=a},null),__d("XUITypeaheadTextOnlyView.react",["cx","React","TypeaheadViewItem","TypeaheadViewPropTypes"],function(e,t,i,s,n,o,r){function a(){for(var e,i,s=arguments.length,n=Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=(e=h.constructor).call.apply(e,[this].concat(n)),this.$XUITypeaheadTextOnlyView1=function(e){var i=e===this.props.highlightedEntry;return t("React").createElement(l,{entry:e,highlighted:i,key:e.getUniqueID(),onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight})}.bind(this),i}var p,h,l=t("React").createClass({displayName:"XUITypeaheadTextOnlyViewItem",mixins:[t("TypeaheadViewItem").Mixin],propTypes:t("TypeaheadViewItem").propTypes,render:function(){var e=this.props.entry,i="_599m"+(this.props.highlighted?" _599n":"");return t("React").createElement("li",{"aria-label":e.getTitle(),"aria-selected":this.props.highlighted,className:i,key:e.getUniqueID(),onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,title:e.getTitle()},t("React").createElement("div",{className:"_599p"},e.getTitle()))}});p=babelHelpers.inherits(a,t("React").Component),h=p&&p.prototype,a.prototype.render=function(){"use strict";var e="_599r"+(this.props.entries.length?"":" _599s");return t("React").createElement("ul",{className:e,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this.$XUITypeaheadTextOnlyView1))},a.propTypes=t("TypeaheadViewPropTypes"),a.defaultProps={role:"listbox"},n.exports=a},null),__d("deepFreezeValue",["ImmutableValue"],function(e,t,i,s,n,o){function r(e){if(null!==e&&void 0!==e)switch(typeof e){case"string":return;case"boolean":return;case"number":return;case"function":return;default:t("ImmutableValue").deepFreezeRootNode(e)}}n.exports=r},null),__d("isCanvasAppURI",["isFacebookURI"],function(e,t,i,s,n,o){"use strict";function r(e){return t("isFacebookURI")(e)&&"apps"===e.getSubdomain()}n.exports=r},null),__d("XSimpleNUXMessagesController",["XController"],function(e,t,i,s,n,o){n.exports=t("XController").create("/ajax/nux/{msg_id}/seen/",{msg_id:{type:"Int",required:!0}})},null);
//# sourceMappingURL=maps/Nvks50MNZtB.js.map
