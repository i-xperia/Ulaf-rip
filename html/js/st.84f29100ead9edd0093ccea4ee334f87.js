function processFromParent(message){_$d1("IFrame got:"+message);var args=message.split("/"),cmd=args.shift();cmd="fragmentPump."+cmd.substring(1);for(var temp="",i=0;i<args.length;i++)temp=temp+'"'+args[i]+'"',i<args.length-1&&(temp+=",");var evStr="stlib."+cmd+"("+temp+")";if(_$d1("IFrame processes:"+evStr),"fragmentPump.init"==cmd||"fragmentPump.test"==cmd||"fragmentPump.data"==cmd||"fragmentPump.show"==cmd||"fragmentPump.popup"==cmd||"fragmentPump.widget"==cmd||"fragmentPump.light"==cmd){var tempFun=eval("window.stlib."+cmd);if(tempFun){var tempFunc=new Function(evStr);tempFunc()}}fragInstance.broadcastSendMessage(cmd+" complete")}var stlib=stlib||{functions:[],functionCount:0,util:{prop:function(e,t){return t?t[e]:function(t){return t[e]}}},dynamicOn:!0,setPublisher:function(e){stlib.publisher=e},setProduct:function(e){stlib.product=e},parseQuery:function(e){var t=new Object;if(!e)return t;for(var s=e.split(/[;&]/),i=0;i<s.length;i++){var a=s[i].split("=");if(a&&2==a.length){var n=unescape(a[0]),r=unescape(a[1]);r=r.replace(/\+/g," "),t[n]=r}}return t},getQueryParams:function(){var e=document.getElementById("st_insights_js");if(e&&e.src){var t=e.src.replace(/^[^\?]+\??/,""),s=stlib.parseQuery(t);stlib.setPublisher(s.publisher),stlib.setProduct(s.product)}}};stlib.global={hash:stlib.util.prop("hash",document.location).substr(1)},stlib.getQueryParams(),stlib.debugOn=!1,stlib.debug={count:0,messages:[],debug:function(e,t){t&&"undefined"!=typeof console&&console.log(e),stlib.debug.messages.push(e)},show:function(e){for(message in stlib.debug.messages)"undefined"!=typeof console&&(e?/ERROR/.test(stlib.debug.messages[message])?console.log(stlib.debug.messages[message]):null:console.log(stlib.debug.messages[message]))},showError:function(){stlib.debug.show(!0)}};var _$d=function(e){stlib.debug.debug(e,stlib.debugOn)},_$d0=function(){_$d(" ")},_$d_=function(){_$d("___________________________________________")},_$d1=function(e){_$d(_$dt()+"| "+e)},_$d2=function(e){_$d(_$dt()+"|  * "+e)},_$de=function(e){_$d(_$dt()+"ERROR: "+e)},_$dt=function(){var e=new Date,t=e.getHours(),s=e.getMinutes(),i=e.getSeconds();return t+":"+s+":"+i+" > "};stlib.validate={regexes:{notEncoded:/(%[^0-7])|(%[0-7][^0-9a-f])|["{}\[\]\<\>\\\^`\|]/gi,tooEncoded:/%25([0-7][0-9a-f])/gi,publisher:/^(([a-z]{2}(-|\.))|)[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,url:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,fpc:/^[0-9a-f]{7}-[0-9a-f]{11}-[0-9a-f]{7,8}-[0-9]*$/i,sessionID:/^[0-9]*\.[0-9a-f]*$/i,title:/.*/,description:/.*/,buttonType:/^(chicklet|vcount|hcount|large|custom|button|)$/,comment:/.*/,destination:/.*/,source:/.*/,image:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i,sourceURL:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,sharURL:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i}},stlib.html={encode:function(e){return stlib.html.startsWith(e,"http")?String(e).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},startsWith:function(e,t){return e.match("^"+t)==t}};var tpcCookiesEnableCheckingDone=!1,tpcCookiesEnabledStatus=!0;stlib.cookie={setCookie:function(e,t,s){var i=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,a=navigator.userAgent.indexOf("MSIE")!=-1;if(i||a){var n=s?24*s*60*60:0,r=document.createElement("div");r.setAttribute("id",e),r.setAttribute("type","hidden"),document.body.appendChild(r);var o=document.getElementById(e),l=document.createElement("form");try{var d=document.createElement('<iframe name="'+e+'" ></iframe>')}catch(c){d=document.createElement("iframe")}d.name=e,d.src="javascript:false",d.style.display="none",o.appendChild(d),l.action=("https:"==document.location.protocol?"https://sharethis.com/":"http://sharethis.com/")+"account/setCookie.php",l.method="POST";var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name","name"),u.setAttribute("value",e),l.appendChild(u);var g=document.createElement("input");g.setAttribute("type","hidden"),g.setAttribute("name","value"),g.setAttribute("value",t),l.appendChild(g);var h=document.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name","time"),h.setAttribute("value",n),l.appendChild(h),l.target=e,o.appendChild(l),l.submit()}else{if(s){var m=new Date;m.setTime(m.getTime()+24*s*60*60*1e3);var f="; expires="+m.toGMTString()}else var f="";var p=e+"="+escape(t)+f;p+="; domain="+escape(".sharethis.com")+";path=/",document.cookie=p}},setTempCookie:function(e,t,s){if(s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var a="; expires="+i.toGMTString()}else var a="";var n=e+"="+escape(t)+a;n+="; domain="+escape(".sharethis.com")+";path=/",document.cookie=n},getCookie:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return!!t&&unescape(t[2])},deleteCookie:function(e){var t="/",s=".sharethis.com";document.cookie=e.replace(/^\s+|\s+$/g,"")+"="+(t?";path="+t:"")+(s?";domain="+s:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT";var i=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,a=navigator.userAgent.indexOf("MSIE")!=-1;if(i||a){var n=document.createElement("div");n.setAttribute("id",e),n.setAttribute("type","hidden"),document.body.appendChild(n);var r=document.getElementById(e),o=document.createElement("form");try{var l=document.createElement('<iframe name="'+e+'" ></iframe>')}catch(d){l=document.createElement("iframe")}l.name=e,l.src="javascript:false",l.style.display="none",r.appendChild(l),o.action=("https:"==document.location.protocol?"https://sharethis.com/":"http://sharethis.com/")+"account/deleteCookie.php",o.method="POST";var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","name"),c.setAttribute("value",e),o.appendChild(c),o.target=e,r.appendChild(o),o.submit()}},deleteAllSTCookie:function(){var e=document.cookie;e=e.split(";");for(var t=0;t<e.length;t++){var s=e[t];if(s=s.split("="),!/st_optout/.test(s[0])){var i=s[0],a="/",n=".edge.sharethis.com";document.cookie=i+"=;path="+a+";domain="+n+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}},setFpcCookie:function(e,t){var s=new Date,i=s.getFullYear(),a=s.getMonth()+9,n=s.getDate(),r=e+"="+escape(t);if(i){var o=new Date(i,a,n);r+="; expires="+o.toGMTString()}var l=stlib.cookie.getDomain();r+="; domain="+escape(l)+";path=/",document.cookie=r},getFpcCookie:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return!!t&&unescape(t[2])},getDomain:function(){var e=document.domain.split(/\./),t="";return e.length>1&&(t="."+e[e.length-2]+"."+e[e.length-1]),t},checkCookiesEnabled:function(){return tpcCookiesEnableCheckingDone?tpcCookiesEnabledStatus:(stlib.cookie.setTempCookie("STPC","yes",1),tpcCookiesEnabledStatus="yes"==stlib.cookie.getCookie("STPC"),tpcCookiesEnableCheckingDone=!0,tpcCookiesEnabledStatus)},hasLocalStorage:function(){try{return localStorage.setItem("stStorage","yes"),localStorage.removeItem("stStorage"),!0}catch(e){return!1}}},"undefined"==typeof stlib.data&&(stlib.data={bInit:!1,publisherKeySet:!1,pageInfo:{},shareInfo:{},resetPageData:function(){stlib.data.pageInfo.fpc="ERROR",stlib.data.pageInfo.sessionID="ERROR",stlib.data.pageInfo.hostname="ERROR",stlib.data.pageInfo.location="ERROR",stlib.data.pageInfo.product="widget",stlib.data.pageInfo.stid=""},resetShareData:function(){stlib.data.shareInfo={},stlib.data.shareInfo.url="ERROR",stlib.data.shareInfo.sharURL="",stlib.data.shareInfo.buttonType="ERROR",stlib.data.shareInfo.destination="ERROR",stlib.data.shareInfo.source="ERROR"},resetData:function(){stlib.data.resetPageData(),stlib.data.resetShareData()},validate:function(){function e(e,t){t!=encodeURIComponent(t)&&(s.notEncoded.test(t)?_$de(e+" not encoded"):null,s.tooEncoded.test(t)?_$de(e+" has too much encoding"):null);var i=!s[e]||s[e].test(decodeURIComponent(t));i||_$de(e+" failed validation")}var t,s=stlib.validate.regexes,i=stlib.data.pageInfo;for(t in i)e(t,i[t]);i=stlib.data.shareInfo;for(t in i)e(t,i[t])},init:function(){if(!stlib.data.bInit){stlib.data.bInit=!0,stlib.data.resetData(),stlib.publisher&&stlib.data.setPublisher(stlib.publisher),stlib.data.set("product",stlib.product,"pageInfo");var e=document.location.href,t="",s="",i=[],a="",n="",r="",o="";i=stlib.data.getRefDataFromUrl(e),i.length>0?(t="undefined"!=typeof i[0]?i[0]:"",s="undefined"!=typeof i[1]?i[1]:"",n=stlib.data.removeRefDataFromUrl(e),stlib.data.showModifiedUrl(n),stlib.data.set("url",n,"shareInfo")):(a=document.referrer,i=a.replace("http://","").replace("https://","").split("/"),t=i.shift(),s=i.join("/"),stlib.data.set("url",e,"shareInfo")),stlib.data.set("title",document.title,"shareInfo"),1!=stlib.data.publisherKeySet&&stlib.data.set("publisher","ur.00000000-0000-0000-0000-000000000000","pageInfo"),stlib.fpc.createFpc(),stlib.data.set("fpc",stlib.fpc.cookieValue,"pageInfo"),r=(new Date).getTime().toString(),o=Number(Math.random().toPrecision(5).toString().substr(2)).toString(),stlib.data.set("sessionID",r+"."+o,"pageInfo"),stlib.data.set("hostname",document.location.hostname,"pageInfo"),stlib.data.set("location",document.location.pathname,"pageInfo"),stlib.data.set("refDomain",t,"pageInfo"),stlib.data.set("refQuery",s,"pageInfo")}},showModifiedUrl:function(e){if(window.history&&history.replaceState)history.replaceState(null,document.title,e);else if(/MSIE/.test(navigator.userAgent)){var t=0,s=window.location.hash,i=new RegExp("(&st_refDomain=?)[^&|]+"),a=new RegExp("(#st_refDomain=?)[^&|]+"),n=document.location.href;i.test(n)?(t=s.indexOf("&st_refDomain"),window.location.hash=s.substr(0,t)):a.test(n)&&window.location.replace("#")}else document.location.replace(e)},getRefDataFromUrl:function(e){var t=new RegExp("st_refDomain="),s="",i="",a=[];return t.test(e)&&(s=e.match(/(st_refDomain=?)[^\&|]+/g),a.push(s[0].split("=")[1]),i=e.match(/(st_refQuery=?)[^\&|]+/g),a.push(i[0].replace("st_refQuery=",""))),a},removeRefDataFromUrl:function(e){var t="",s=new RegExp("(&st_refDomain=?)[^&|]+"),i=new RegExp("(#st_refDomain=?)[^&|]+");return t=s.test(e)?e.replace(/\&st_refDomain=(.*)/g,""):i.test(e)?e.replace(/\#st_refDomain=(.*)/g,""):e},setPublisher:function(e){stlib.data.set("publisher",e,"pageInfo"),stlib.data.publisherKeySet=!0},setSource:function(e,t){var s="";s=t?t.toolbar?"toolbar"+e:t.page&&"home"!=t.page&&""!=t.page?"chicklet"+e:"button"+e:e,stlib.data.set("source",s,"shareInfo")},set:function(e,t,s){if("number"==typeof t||"boolean"==typeof t)stlib.data[s][e]=t;else if("undefined"==typeof t||null==t);else if(stlib.data[s][e]=encodeURIComponent(decodeURIComponent(unescape(t.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25"))),"url"==e||"location"==e||"image"==e)try{stlib.data[s][e]=encodeURIComponent(decodeURIComponent(decodeURI(t.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}catch(i){stlib.data[s][e]=encodeURIComponent(decodeURIComponent(unescape(t.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}},get:function(e,t){try{return!(!stlib.data[t]||!stlib.data[t][e])&&decodeURIComponent(stlib.data[t][e])}catch(s){return!1}},unset:function(e,t){stlib.data[t]&&"undefined"!=typeof stlib.data[t][e]&&delete stlib.data[t][e]}},stlib.data.resetData()),stlib.hash={doNotHash:!0,hashAddressBar:!1,doNotCopy:!0,prefix:"sthash",shareHash:"",incomingHash:"",validChars:["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],servicePreferences:{linkedin:"param",stumbleupon:"param",bebo:"param"},hashDestination:function(e){if("copy"==e)return"dpuf";var t=e.substring(0,2)+e.substring(e.length-2,e.length),s=function(e,t){return 122==e.charCodeAt(t)?"a":String.fromCharCode(e.charCodeAt(t)+1)};return s(t,0)+s(t,1)+s(t,2)+s(t,3)},getHash:function(){var e=!1,t="",s=document.location.href;s=s.split("#").shift();var i=s.split("?");if(i.length>1){i=i[1].split("&");for(arg in i)try{"sthash"==i[arg].substring(0,6)&&(e=!0,t=i[arg])}catch(a){}return e?t:document.location.hash.substring(1)}return document.location.hash.substring(1)},stripHash:function(e){var t=e;return t=t.split("#"),t.length>1?t[1]:""},clearHash:function(){if(stlib.hash.validateHash(document.location.hash)){var e=document.location.href.split("#").shift();window.history&&history.replaceState?history.replaceState(null,document.title,e):/MSIE/.test(navigator.userAgent)?window.location.replace("#"):document.location.hash=""}},init:function(){for(var e="",t=stlib.hash.validChars.length,s=0;s<8;s++)e+=stlib.hash.validChars[Math.random()*t|0];if(""==stlib.hash.getHash())stlib.hash.shareHash=stlib.hash.prefix+"."+e;else{var i=stlib.hash.getHash().split("."),a=i.shift();a==stlib.hash.prefix||a==stlib.hash.prefix?(stlib.hash.incomingHash=stlib.hash.getHash(),stlib.hash.shareHash=stlib.hash.prefix+"."+i.shift()+"."+e):stlib.hash.shareHash=stlib.hash.prefix+"."+e}!stlib.hash.doNotHash&&stlib.hash.hashAddressBar?(""==document.location.hash||stlib.hash.validateHash(document.location.hash))&&(window.history&&history.replaceState?history.replaceState(null,"ShareThis","#"+stlib.hash.shareHash+".dpbs"):/MSIE/.test(navigator.userAgent)?window.location.replace("#"+stlib.hash.shareHash+".dpbs"):document.location.hash=stlib.hash.shareHash+".dpbs"):stlib.hash.clearHash(),stlib.hash.doNotHash||stlib.hash.doNotCopy||stlib.hash.copyPasteInit(),stlib.hash.copyPasteLog()},checkURL:function(){var e=stlib.data.get("destination","shareInfo"),t=stlib.hash.updateParams(e),s="."+stlib.hash.hashDestination(e);if(stlib.hash.updateDestination(s),!stlib.hash.doNotHash&&"undefined"!=typeof stlib.data.pageInfo.shareHash){var i=stlib.data.get("url","shareInfo"),a=stlib.hash.stripHash(i);if(stlib.hash.validateHash(a)||""==a)if("undefined"!=typeof stlib.hash.servicePreferences[e])if("param"==stlib.hash.servicePreferences[e]){if(_$d1("Don't use hash, use params"),_$d2(t),t.split("?").length>1){for(var n=t.split("?")[1].split("&"),r=!1,o=0;o<n.length;o++)"sthash"==n[o].split(".")[0]&&(r=!0);r?stlib.data.set("url",t,"shareInfo"):stlib.data.set("url",t+"&"+stlib.data.pageInfo.shareHash,"shareInfo")}else stlib.data.set("url",t+"?"+stlib.data.pageInfo.shareHash,"shareInfo");"linkedin"==e&&""!=stlib.data.get("sharURL","shareInfo")&&stlib.data.set("sharURL",stlib.data.get("url","shareInfo"),"shareInfo")}else _$d1("Using Hash"),stlib.data.set("url",t+"#"+stlib.data.pageInfo.shareHash,"shareInfo");else _$d1("Not using custom destination hash type"),stlib.data.set("url",t+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}},updateParams:function(e){var t=stlib.data.get("url","shareInfo").split("#").shift(),s=/(\?)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/,i=/(&)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/,a=/(\?)sthash\.[a-zA-z0-9]{8}/,n=/(&)sthash\.[a-zA-z0-9]{8}/;return s.test(t)?t=t.replace(s,"?"+stlib.data.pageInfo.shareHash):i.test(t)?t=t.replace(i,"&"+stlib.data.pageInfo.shareHash):a.test(t)?t=t.replace(a,"?"+stlib.data.pageInfo.shareHash):n.test(t)&&(t=t.replace(n,"&"+stlib.data.pageInfo.shareHash)),t},updateDestination:function(e){var t=/sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}/,s=/sthash\.[a-zA-z0-9]{8}\.[a-z]{4}/;_$d_(),_$d1("Updating Destination"),t.test(stlib.data.pageInfo.shareHash)?(_$d2(stlib.data.pageInfo.shareHash.substring(0,24)),stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,24)+e):s.test(stlib.data.pageInfo.shareHash)?(_$d2(stlib.data.pageInfo.shareHash.substring(0,15)),stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,15)+e):stlib.data.pageInfo.shareHash+=e},validateHash:function(e){var t=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}$/,s=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}$/,i=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-z]{4}$/,a=/[\?#&]?sthash\.[a-zA-z0-9]{8}$/;return a.test(e)||i.test(e)||s.test(e)||t.test(e)},appendHash:function(e){var t=stlib.hash.stripHash(e);return stlib.data.pageInfo.shareHash&&(stlib.hash.validateHash(t)||""==t)&&(e=e.replace("#"+t,"")+"#"+stlib.data.pageInfo.shareHash),e},copyPasteInit:function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.id="stcpDiv",t.style.position="absolute",t.style.top="-1999px",t.style.left="-1988px",e.appendChild(t),t.innerHTML="ShareThis Copy and Paste";document.location.href.split("#").shift(),"#"+stlib.hash.shareHash;document.addEventListener?e.addEventListener("copy",function(e){if("undefined"==typeof Tynt){var s=document.getSelection();if(!s.isCollapsed){var i=s.getRangeAt(0).cloneContents();if(t.innerHTML="",t.appendChild(i),0!=t.textContent.trim().length){0==(s+"").trim().length||(t.innerHTML==s+""||t.textContent==s+""?t.innerHTML=stlib.html.encode(stlib.hash.selectionModify(s)):t.innerHTML+=stlib.html.encode(stlib.hash.selectionModify(s,!0)));var a=document.createRange();a.selectNodeContents(t);var n=s.getRangeAt(0);s.removeAllRanges(),s.addRange(a),setTimeout(function(){s.removeAllRanges(),s.addRange(n)},0)}}}},!1):document.attachEvent},copyPasteLog:function(){var e=window.addEventListener?"addEventListener":"attachEvent",t="attachEvent"==e?"oncopy":"copy",s=document.getElementsByTagName("body")[0];s&&s[e](t,function(e){var t=!0;stlib.data.resetShareData(),stlib.data.set("url",document.location.href,"shareInfo"),stlib.data.setSource("copy"),stlib.data.set("destination","copy","shareInfo"),stlib.data.set("buttonType","custom","shareInfo"),"undefined"!=typeof Tynt&&(stlib.data.set("result","tynt","shareInfo"),stlib.logger.log("debug"),t=!1),"undefined"!=typeof addthis_config&&(stlib.data.set("result","addThis","shareInfo"),"undefined"==typeof addthis_config.data_track_textcopy||addthis_config.data_track_textcopy?(stlib.data.set("enabled","true","shareInfo"),t=!1):stlib.data.set("enabled","false","shareInfo"),stlib.logger.log("debug")),t&&(stlib.data.set("result","pass","shareInfo"),stlib.logger.log("debug"))},!1)},logCopy:function(e,t){stlib.data.resetShareData(),stlib.data.set("url",e,"shareInfo"),stlib.data.setSource("copy"),stlib.data.set("destination","copy","shareInfo"),stlib.data.set("buttonType","custom","shareInfo"),t&&stlib.data.set("description",t,"shareInfo"),stlib.sharer.share()},selectionModify:function(e,t){e=""+e,_$d_(),_$d1("Copy Paste");var s=/^((http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))/i,i=/^([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,a=/^\+?1?[\.\-\\)_\s]?[\\(]?[0-9]{3}[\.\-\\)_\s]?[0-9]{3}[\.\-_\s]?[0-9]{4}$|^[0-9]{3}[\.\-_\s]?[0-9]{4}$/,n=/^[0-9]{3}[\.\-_\s]?[0-9]{8}$/,r=/^[0-9]{2}[\.\-_\s]?[0-9]{4}[\.\-_\s]?[0-9]{4}$/,o=/[\-_\.a-z0-9]+@[\-_\.a-z0-9]+\.[\-_\.a-z0-9]+/i,l=/[\s@]/,d=document.location.href.split("#").shift(),c="#"+stlib.hash.shareHash,u="",g="",h="";return"undefined"!=typeof t||!s.test(e)&&!i.test(e)||l.test(e.trim())?(_$d2("is Not Url"),g=""==document.location.hash||/^#$/.test(document.location.hash)||stlib.hash.validateHash(document.location.hash)?d+c+".dpuf":document.location.href,h=e,e.length>50&&(u=" - See more at: "+g,a.test(e)||n.test(e)||r.test(e)||o.test(e)||(h+=u))):(_$d2("is Url"),null==e.match(/#/)||stlib.hash.validateHash(e)?(g=e.split("#")[0]+c+".dpuf",h=g):(g=e,h=g)),e.length>140&&(e=e.substring(0,137)+"..."),stlib.hash.logCopy(g,e),t&&1==t?u:h}},stlib.logger={loggerUrl:("https:"==document.location.protocol?"https://":"http://")+"l.sharethis.com/",l2LoggerUrl:("https:"==document.location.protocol?"https://":"http://")+"l2.sharethis.com/",productArray:new Array,version:"",lang:"en",isFpEvent:!1,constructParamString:function(){var e,t=stlib.data.pageInfo,s="";for(e in t)s+=e+"="+t[e]+"&";t=stlib.data.shareInfo;for(e in t)s+=e+"="+t[e]+"&";return s.substring(0,s.length-1)},log:function(e,t,s){if("undefined"!=typeof stlib.data.get("counter","shareInfo")){var i=0;stlib.data.get("counter","shareInfo")&&(i=stlib.data.get("counter","shareInfo")),stlib.data.set("ts"+(new Date).getTime()+"."+i,"","shareInfo"),stlib.data.unset("counter","shareInfo")}else stlib.data.set("ts"+(new Date).getTime(),"","shareInfo");if("widget"==e){var a="."+stlib.hash.hashDestination(stlib.data.shareInfo.destination);stlib.hash.updateDestination(a)}(!t||t!=stlib.logger.loggerUrl&&t!=stlib.logger.l2LoggerUrl)&&(t=stlib.logger.loggerUrl);var n="pview"==e?e:"debug"==e?"cns":"log";if("pview"==e)var r=t+n+"?event="+e+"&version="+stlib.logger.version+"&lang="+stlib.logger.lang+"&"+stlib.logger.constructParamString();else var r=t+n+"?event="+e+"&"+stlib.logger.constructParamString();try{var o=new XMLHttpRequest;o.open("GET",r,!0),o.withCredentials=!0,o.onreadystatechange=function(){if(this.readyState==this.HEADERS_RECEIVED){var e=o.getResponseHeader("stid");stlib.data.set("stid",e,"pageInfo"),s?s():null}},o.send()}catch(l){var d=new Image(1,1);d.src=r,d.onload=function(){},s?s():null}}};var widgetLogger={};stlib.gaLogger={configOptions:null,shareLog:function(e){"undefined"!=typeof widgetLogger.pubTracker&&null!=widgetLogger.pubTracker&&"undefined"!=typeof widgetLogger.pubTracker._trackEvent&&(stlib.gaLogger.configOptions?widgetLogger.pubTracker._trackEvent("ShareThis",e,stlib.gaLogger.configOptions.URL):widgetLogger.pubTracker._trackEvent("ShareThis",e)),"undefined"!=typeof window.postMessage&&""!==document.referrer&&(stlib.gaLogger.configOptions?parent.postMessage("ShareThis|click|"+e+"|"+stlib.gaLogger.configOptions.URL,document.referrer):parent.postMessage("ShareThis|click|"+e,document.referrer))},initGA:function(e,t,s){if(stlib.gaLogger.configOptions=t,"undefined"==typeof e)return void _$de("tracker ID for GA required");if("undefined"==typeof _gat){var i=("https:"==document.location.protocol?"https://ssl.":"http://www.")+"google-analytics.com/ga.js";stlib.scriptLoader.loadJavascript(i,function(){try{widgetLogger.ga=_gat._createTracker(e),"undefined"!=typeof widgetLogger.ga&&null!==widgetLogger.ga&&"undefined"!=typeof widgetLogger.ga._trackEvent&&("undefined"==typeof s&&1!=s&&widgetLogger.ga._trackPageview(),stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&null!==stlib.gaLogger.configOptions.publisherGA?(widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA),widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)):stlib.gaLogger.configOptions&&null!==stlib.gaLogger.configOptions.publisherGA&&(widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA),widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)))}catch(t){}})}else"undefined"!=typeof widgetLogger.ga&&null!==widgetLogger.ga&&"undefined"!=typeof widgetLogger.ga._trackEvent&&stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&null!=stlib.gaLogger.configOptions.publisherGA&&(widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA),widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher))},gaLog:function(e,t,s,i){"undefined"!=typeof widgetLogger.ga&&null!==widgetLogger.ga&&"undefined"!=typeof widgetLogger.ga._trackEvent&&widgetLogger.ga._trackEvent(e,t,s,i)}},stlib.scriptLoader={loadJavascript:function(e,t){_$d_(),_$d1("Loading JS: "+e);var s=stlib.scriptLoader;s.head=document.getElementsByTagName("head")[0],s.scriptSrc=e,s.script=document.createElement("script"),s.script.setAttribute("type","text/javascript"),s.script.setAttribute("src",s.scriptSrc),s.script.async=!0,window.attachEvent&&document.all?s.script.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||t()}:s.script.onload=t,s.s=document.getElementsByTagName("script")[0],s.s.parentNode.insertBefore(s.script,s.s)},loadCSS:function(e,t){_$d_(),_$d1("Loading CSS: "+e);var s,i=stlib.scriptLoader;i.head=document.getElementsByTagName("head")[0],i.cssSrc=e,i.css=document.createElement("link"),i.css.setAttribute("rel","stylesheet"),i.css.setAttribute("type","text/css"),i.css.setAttribute("href",e),i.css.setAttribute("id",e),setTimeout(function(){t(),document.getElementById(e)||(s=setInterval(function(){document.getElementById(e)&&(clearInterval(s),t())},100))},100),i.head.appendChild(i.css)}},stlib.sharer={sharerUrl:("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/sharer.php",regAuto:new RegExp(/(.*?)_auto$/),constructParamString:function(){stlib.data.validate(),stlib.hash.checkURL();var e,t=stlib.data.pageInfo,s="?";for(e in t)s+=e+"="+encodeURIComponent(t[e])+"&",_$d1("constructParamStringPageInfo: "+e+": "+t[e]);t=stlib.data.shareInfo;for(e in t)s+=e+"="+encodeURIComponent(t[e])+"&",_$d1("constructParamStringShareInfo: "+e+": "+t[e]);return s+="ts="+(new Date).getTime()+"&",s.substring(0,s.length-1)},stPrint:function(){window.print()},incrementShare:function(){var e=stlib.data.get("url","shareInfo"),t=stlib.data.get("destination","shareInfo"),s="https:"==document.location.protocol?"https://":"http://",i="count-server.sharethis.com/increment_shares?countType=share&output=false";e=e.split("#sthash")[0];var a="&service="+encodeURIComponent(t)+"&url="+encodeURIComponent(e),n=s+i+a;"copy"!=t&&stlib.scriptLoader.loadJavascript(n,function(){})},sharePinterest:function(){if(stlib.sharer.incrementShare(),0==stlib.data.get("image","shareInfo")||null==stlib.data.get("image","shareInfo")||"true"==stlib.data.get("pinterest_native","shareInfo")){"undefined"!=typeof stWidget&&"function"==typeof stWidget.closeWidget&&stWidget.closeWidget(),"function"==typeof stcloseWidget&&stcloseWidget(),"undefined"!=typeof stToolbar&&"function"==typeof stToolbar.closeWidget&&stToolbar.closeWidget();var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("charset","UTF-8"),e.setAttribute("src","//assets.pinterest.com/js/pinmarklet.js?r="+99999999*Math.random()),document.body.appendChild(e)}},share:function(e,t){var s=stlib.sharer.constructParamString();if(_$d_(),_$d1("Initiating a Share with the following url:"),_$d2(stlib.sharer.sharerUrl+s),stlib.sharer.incrementShare(),"print"==stlib.data.get("destination","shareInfo")||"email"==stlib.data.get("destination","shareInfo")||"pinterest"==stlib.data.get("destination","shareInfo")&&null==stlib.data.get("source","shareInfo").match(/share4xmobile/)&&null==stlib.data.get("source","shareInfo").match(/share4xpage/)&&null==stlib.data.get("source","shareInfo").match(/5xpage/)&&(0==stlib.data.get("image","shareInfo")||null==stlib.data.get("image","shareInfo"))||"snapsets"==stlib.data.get("destination","shareInfo")||"copy"==stlib.data.get("destination","shareInfo")||"plusone"==stlib.data.get("destination","shareInfo")||stlib.data.get("destination","shareInfo").match(stlib.sharer.regAuto)||"undefined"!=typeof stlib.nativeButtons&&stlib.nativeButtons.checkNativeButtonSupport(stlib.data.get("destination","shareInfo"))||0!=stlib.data.get("pinterest_native","shareInfo")&&null!=stlib.data.get("pinterest_native","shareInfo")){var i=new Image(1,1);i.src=stlib.sharer.sharerUrl+s,i.onload=function(){}}else"undefined"!=typeof t&&1==t?window.open(stlib.sharer.sharerUrl+s,(new Date).valueOf(),"scrollbars=1, status=1, height=480, width=640, resizable=1"):window.open(stlib.sharer.sharerUrl+s);e?e():null}},stlib.allServices={adfty:{title:"Adfty"},allvoices:{title:"Allvoices"},amazon_wishlist:{title:"Amazon Wishlist"},arto:{title:"Arto"},att:{title:"AT&T"},baidu:{title:"Baidu"},blinklist:{title:"Blinklist"},blip:{title:"Blip"},blogmarks:{title:"Blogmarks"},blogger:{title:"Blogger",type:"post"},buddymarks:{title:"BuddyMarks"},buffer:{title:"Buffer"},care2:{title:"Care2"},chiq:{title:"chiq"},citeulike:{title:"CiteULike"},chiq:{title:"chiq"},corkboard:{title:"Corkboard"},dealsplus:{title:"Dealspl.us"},delicious:{title:"Delicious"},digg:{title:"Digg"},diigo:{title:"Diigo"},dzone:{title:"DZone"},edmodo:{title:"Edmodo"},email:{title:"Email"},embed_ly:{title:"Embed.ly"},evernote:{title:"Evernote"},facebook:{title:"Facebook"},fark:{title:"Fark"},fashiolista:{title:"Fashiolista"},flipboard:{title:"Flipboard"},folkd:{title:"folkd.com"},foodlve:{title:"FoodLve"},fresqui:{title:"Fresqui"},friendfeed:{title:"FriendFeed"},funp:{title:"Funp"},fwisp:{title:"fwisp"},google:{title:"Google"},googleplus:{title:"Google +"},google_bmarks:{title:"Bookmarks"},google_reader:{title:"Google Reader"},google_translate:{title:"Google Translate"},hatena:{title:"Hatena"},instapaper:{title:"Instapaper"},jumptags:{title:"Jumptags"},kaboodle:{title:"Kaboodle"},kik:{title:"Kik"},linkagogo:{title:"linkaGoGo"},linkedin:{title:"LinkedIn"},livejournal:{title:"LiveJournal",type:"post"},mail_ru:{title:"mail.ru"},meneame:{title:"Meneame"},messenger:{title:"Messenger"},mister_wong:{title:"Mr Wong"},moshare:{title:"moShare"},myspace:{title:"MySpace"},n4g:{title:"N4G"},netlog:{title:"Netlog"},netvouz:{title:"Netvouz"},newsvine:{title:"Newsvine"},nujij:{title:"NUjij"},odnoklassniki:{title:"Odnoklassniki"},oknotizie:{title:"Oknotizie"},pinterest:{title:"Pinterest"},pocket:{title:"Pocket"},print:{title:"Print"},raise_your_voice:{title:"Raise Your Voice"},reddit:{title:"Reddit"},segnalo:{title:"Segnalo"},sharethis:{title:"ShareThis"},sina:{title:"Sina"},sonico:{title:"Sonico"},startaid:{title:"Startaid"},startlap:{title:"Startlap"},stumbleupon:{title:"StumbleUpon"},stumpedia:{title:"Stumpedia"},typepad:{title:"TypePad",type:"post"},tumblr:{title:"Tumblr"},twitter:{title:"Twitter"},viadeo:{title:"Viadeo"},virb:{title:"Virb"},vkontakte:{title:"Vkontakte"},voxopolis:{title:"VOXopolis"},whatsapp:{title:"WhatsApp"},weheartit:{title:"We Heart It"},wordpress:{title:"WordPress",type:"post"},xerpi:{title:"Xerpi"},xing:{title:"Xing"},yammer:{title:"Yammer"}},stlib.allOauthServices={twitter:{title:"Twitter"},linkedIn:{title:"LinkedIn"},facebook:{title:"Facebook"}},stlib.allNativeServices={fblike:{title:"Facebook Like"},fbrec:{title:"Facebook Recommend"},fbsend:{title:"Facebook Send"},fbsub:{title:"Facebook Subscribe"},foursquaresave:{title:"Foursquare Save"},foursquarefollow:{title:"Foursquare Follow"},instagram:{title:"Instagram Badge"},plusone:{title:"Google +1"},pinterestfollow:{title:"Pinterest Follow"},twitterfollow:{title:"Twitter Follow"},youtube:{title:"Youtube Subscribe"}},stlib.allDeprecatedServices={google_bmarks:{title:"Google Bookmarks"},yahoo_bmarks:{title:"Yahoo Bookmarks"}},stlib.allOtherServices={copy:{title:"Copy Paste"},sharenow:{title:"ShareNow"},sharenow_auto:{title:"Frictionless Sharing"},fbunlike:{title:"Facebook Unlike"}};var _all_services=stlib.allServices;stlib.sharer.oauth={callbacks:[],callbackCounter:1,API_Url:("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php",API_destinations:{facebook:"postFacebook",facebookfriend:"postFacebookUserWall",twitter:"postTwitter",yahoo:"postYahooPulse",linkedin:"postLinkedIn",blank:"postOauthError"},share:function(e){var t=stlib.sharer.oauth.API_destinations[stlib.data.shareInfo.destination];t=t?t:stlib.sharer.oauth.API_destinations.blank,"facebookfriend"==stlib.data.shareInfo.destination&&(stlib.data.shareInfo.destination="facebook");var s=stlib.sharer.constructParamString(),i=stlib.sharer.oauth.callbackCounter+"ST";stlib.sharer.oauth.callbackCounter++,stlib.sharer.oauth.callbacks[i]=e;stlib.cookie.getCookie("ShareUT"),stlib.cookie.getCookie("__stid");t=stlib.sharer.oauth.API_Url+s+"&service="+t+"&cb=stlib.sharer.oauth.callbacks['"+i+"']",_$d_(),_$d1("Initiating an Oauth Share with the following url:"),
_$d2(t),stlib.scriptLoader.loadJavascript(t,function(){})}},stlib.browser={iemode:null,firefox:null,firefoxVersion:null,safari:null,chrome:null,opera:null,windows:null,mac:null,ieFallback:/MSIE [6789]/.test(navigator.userAgent),init:function(){var e=navigator.userAgent.toString().toLowerCase();/msie|trident/i.test(e)&&(document.documentMode?stlib.browser.iemode=document.documentMode:(stlib.browser.iemode=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(stlib.browser.iemode=7))),stlib.browser.firefox=e.indexOf("firefox")!=-1&&"undefined"!=typeof InstallTrigger,stlib.browser.firefoxVersion=e.indexOf("firefox/5.0")==-1&&e.indexOf("firefox/9.0")==-1,stlib.browser.safari=e.indexOf("safari")!=-1&&e.indexOf("chrome")==-1,stlib.browser.chrome=e.indexOf("safari")!=-1&&e.indexOf("chrome")!=-1,stlib.browser.opera=!!(window.opera||e.indexOf(" opr/")>=0),stlib.browser.windows=e.indexOf("windows")!=-1,stlib.browser.mac=e.indexOf("macintosh")!=-1},getIEVersion:function(){return stlib.browser.iemode},isFirefox:function(){return stlib.browser.firefox},firefox8Version:function(){return stlib.browser.firefoxVersion},isSafari:function(){return stlib.browser.safari},isWindows:function(){return stlib.browser.windows},isChrome:function(){return stlib.browser.chrome},isOpera:function(){return stlib.browser.opera},isMac:function(){return stlib.browser.mac},isSafariBrowser:function(e,t){var s=e&&e.indexOf("Apple Computer, Inc.")>-1&&t&&!t.match("CriOS"),i=/^((?!chrome|android).)*safari/i.test(t),a=/^((?!firefox|linux))/i.test(t),n=t.indexOf("Mac OS X")>-1||/iPad|iPhone|iPod/.test(t)&&!window.MSStream,r=t.indexOf("Windows NT")>-1&&i;return s&&i&&a&&(n||r)}},stlib.browser.init(),stlib.browser.mobile={mobile:!1,uagent:null,android:null,iOs:null,silk:null,windows:null,kindle:null,url:null,sharCreated:!1,sharUrl:null,isExcerptImplementation:!1,iOsVer:0,init:function(){this.uagent=navigator.userAgent.toLowerCase(),this.isAndroid()?this.mobile=!0:this.isIOs()?this.mobile=!0:this.isSilk()?this.mobile=!0:this.isWindowsPhone()?this.mobile=!0:this.isKindle()&&(this.mobile=!0)},isMobile:function(){return this.mobile},isAndroid:function(){return null===this.android&&(this.android=this.uagent.indexOf("android")>-1),this.android},isKindle:function(){return null===this.kindle&&(this.kindle=this.uagent.indexOf("kindle")>-1),this.kindle},isIOs:function(){return null===this.iOs&&(this.iOs=this.uagent.indexOf("ipad")>-1||this.uagent.indexOf("ipod")>-1||this.uagent.indexOf("iphone")>-1),this.iOs},isSilk:function(){return null===this.silk&&(this.silk=this.uagent.indexOf("silk")>-1),this.silk},getIOSVersion:function(){return this.isIOs()&&(this.iOsVer=this.uagent.substr(this.uagent.indexOf("os ")+3,5).replace(/\_/g,".")),this.iOsVer},isWindowsPhone:function(){return null===this.windows&&(this.windows=this.uagent.indexOf("windows phone")>-1),this.windows}},stlib.browser.mobile.init(),stlib=stlib||{},stlib.browser=stlib.browser||{},stlib.browser.mobile=stlib.browser.mobile||{},stlib.browser.mobile.handleForMobileFriendly=function(e,t,s){if(!this.isMobile())return!1;"undefined"==typeof stLight&&(stLight={},stLight.publisher=t.publisher,stLight.sessionID=t.sessionID,stLight.fpc="");var i="undefined"!=typeof e.title?e.title:encodeURIComponent(document.title),a="undefined"!=typeof e.url?e.url:document.URL,n=""!=t.short_url&&null!=t.short_url?t.short_url:"";if("sharethis"==t.service){var i="undefined"!=typeof e.title?e.title:encodeURIComponent(document.title),a="undefined"!=typeof e.url?e.url:document.URL,r="";"undefined"!=typeof e.summary&&null!=e.summary&&(r=e.summary);var o=document.createElement("form");o.setAttribute("method","GET"),o.setAttribute("action","http://edge.sharethis.com/share4x/mobile.html"),o.setAttribute("target","_blank");var l={url:a,title:i,summary:r,destination:t.service,publisher:stLight.publisher,fpc:stLight.fpc,sessionID:stLight.sessionID,short_url:n};"undefined"!=typeof e.image&&null!=e.image&&(l.image=e.image),"undefined"!=typeof e.summary&&null!=e.summary&&(l.desc=e.summary),"undefined"!=typeof s&&"undefined"!=typeof s.exclusive_services&&null!=s.exclusive_services&&(l.exclusive_services=s.exclusive_services),"undefined"!=typeof t.exclusive_services&&null!=t.exclusive_services&&(l.exclusive_services=t.exclusive_services),"undefined"!=typeof s&&"undefined"!=typeof s.services&&null!=s.services&&(l.services=s.services),"undefined"!=typeof t.services&&null!=t.services&&(l.services=t.services);var d=t;if("undefined"!=typeof s&&(d=s),"undefined"!=typeof d.doNotHash&&null!=d.doNotHash&&(l.doNotHash=d.doNotHash),"undefined"!=typeof e.via&&null!=e.via&&(l.via=e.via),l.service=t.service,l.type=t.type,stlib.data){var c=stlib.json.encode(stlib.data.pageInfo),u=stlib.json.encode(stlib.data.shareInfo);stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()?(c=encodeURIComponent(encodeURIComponent(c)),u=encodeURIComponent(encodeURIComponent(u))):(c=encodeURIComponent(c),u=encodeURIComponent(u)),l.pageInfo=c,l.shareInfo=u}for(var g in l){var h=document.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name",g),h.setAttribute("value",l[g]),o.appendChild(h)}return document.body.appendChild(o),o.submit(),!0}if("email"==t.service){var m,f=0;stlib.browser.mobile.url=a,null==stlib.browser.mobile.sharUrl&&stlib.browser.mobile.createSharOnPage();var p=""!=n?n+"%0A%0a":"{sharURLValue}%0A%0a";"undefined"!=typeof e.summary&&null!=e.summary&&(p+=e.summary+"%0A%0a"),p+="Sent using ShareThis";var b="mailto:?";b+="subject="+i,b+="&body="+p,m=setInterval(function(){null!=stlib.browser.mobile.sharUrl&&(clearInterval(m),window.location.href=b.replace("{sharURLValue}",stlib.browser.mobile.sharUrl)),f>500&&(clearInterval(m),window.location.href=b.replace("{sharURLValue}",stlib.browser.mobile.sharUrl)),f++},100)}return!0},stlib.browser.mobile.createSharOnPage=function(){if(""!==stlib.browser.mobile.url&&" "!==stlib.browser.mobile.url&&null!==stlib.browser.mobile.url&&!stlib.browser.mobile.sharCreated){var e=["return=json","cb=stlib.browser.mobile.createSharOnPage_onSuccess","service=createSharURL","url="+encodeURIComponent(stlib.browser.mobile.url)];e=e.join("&"),stlib.scriptLoader.loadJavascript(("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+e,function(){})}},stlib.browser.mobile.createSharOnPage_onSuccess=function(e){"SUCCESS"==e.status?(stlib.browser.mobile.sharCreated=!0,stlib.browser.mobile.sharUrl=e.data.sharURL):stlib.browser.mobile.sharUrl=stlib.browser.mobile.url},stlib.json={c:{"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d:function(e){return e<10?"0".concat(e):e},e:function(c,f,e){return e=eval,delete eval,"undefined"==typeof eval&&(eval=e),f=eval(""+c),eval=e,f},i:function(e,t,s){return 1*e.substr(t,s)},p:["","000","00","0",""],rc:null,rd:/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs:/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt:/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru:/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s:function(e,t){return"\\".concat(stlib.json.c[t])},u:function(e,t){var s=t.charCodeAt(0).toString(16);return"\\u".concat(stlib.json.p[s.length],s)},v:function(e,t){return stlib.json.types[typeof result](result)!==Function&&(t.hasOwnProperty?t.hasOwnProperty(e):t.constructor.prototype[e]!==t[e])},types:{"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(e){return e instanceof e.constructor?e.constructor:null},string:function(){return String},undefined:function(){return null}},$$:function(e){function t(t,s){s=t[e],delete t[e];try{stlib.json.e(t)}catch(i){return t[e]=s,1}}return t(Array)&&t(Object)},encode:function(){var e,t,s=arguments.length?arguments[0]:this;if(null===s)e="null";else if(void 0!==s&&(t=stlib.json.types[typeof s](s)))switch(t){case Array:e=[];for(var i=0,a=0,n=s.length;a<n;a++)void 0!==s[a]&&(t=stlib.json.encode(s[a]))&&(e[i++]=t);e="[".concat(e.join(","),"]");break;case Boolean:e=String(s);break;case Date:e='"'.concat(s.getFullYear(),"-",stlib.json.d(s.getMonth()+1),"-",stlib.json.d(s.getDate()),"T",stlib.json.d(s.getHours()),":",stlib.json.d(s.getMinutes()),":",stlib.json.d(s.getSeconds()),'"');break;case Function:break;case Number:e=isFinite(s)?String(s):"null";break;case String:e='"'.concat(s.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'"');break;default:var r,i=0;e=[];for(r in s)void 0!==s[r]&&(t=stlib.json.encode(s[r]))&&(e[i++]='"'.concat(r.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'":',t));e="{".concat(e.join(","),"}")}return e},decode:function(e){if("string"==typeof e){var t=null;try{return/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?t=window.JSON&&window.JSON.parse?window.JSON.parse(e):new Function("return "+e)():null}catch(s){}}}};try{stlib.json.rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){stlib.json.rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}stlib.pump=function(e,t,s){this.isIframeReady=!1,this.isIframeSending=!1,this.getHash=function(e){var t=e.split("#");return t.shift(),t.join("#")},this.broadcastInit=function(e){this.destination=e,_$d_("---------------------"),_$d1("Initiating broadcaster:"),_$d(this.destination)},this.broadcastSendMessage=function(e){if(_$d_("---------------------"),_$d1("Initiating Send:"),this.destination===window){if(stlib.browser.ieFallback)return window.location.replace(window.location.href.split("#")[0]+"#"+e),void _$d2("child can't communicate with parent");_$d2("Iframe to publisher: "+e),parent.postMessage("#"+e,document.referrer)}else{if(_$d2("Publisher to Iframe: "+e),stlib.browser.ieFallback)return void(this.destination.contentWindow&&(this.destination.contentWindow.location.replace(this.destination.src+"#"+e),this.isIframeSending=!0));this.destination.contentWindow.postMessage("#"+e,this.destination.src)}},this.receiverInit=function(e,t){if(_$d_("---------------------"),_$d1("Initiating Receiver:"),_$d(e),stlib.browser.ieFallback){if(this.callback=t,this.source=e,e===window){window.location.replace(window.location.href.split("#")[0]+"#"),this.currentIframe=window.location.hash;var s="receiver"+stlib.functionCount;stlib.functions[s]=function(e){if(""!=window.location.hash&&"#"!=window.location.hash){var t=window.location.hash;e(t),window.location.replace(window.location.href.split("#")[0]+"#")}},stlib.functionCount++;var i="callback"+stlib.functionCount;stlib.functions[i]=t,stlib.functionCount++,setInterval("stlib.functions['"+s+"'](stlib.functions['"+i+"'])",200)}var a=window.addEventListener?"addEventListener":"attachEvent",n="attachEvent"==a?"onmessage":"message";return void window[a](n,function(t){e==window||t.origin.indexOf("sharethis.com")!=-1&&(t.data.match(/#Pinterest Click/)&&stlib.sharer.sharePinterest(),t.data.match(/#Print Click/)&&stlib.sharer.stPrint())},!1)}var a=window.addEventListener?"addEventListener":"attachEvent",n="attachEvent"==a?"onmessage":"message";window[a](n,function(s){e==window?(_$d1("arrived in iframe from:"),_$d(s.origin),(s.data.match(/#fragmentPump/)||s.data.match(/#Buttons Ready/)||s.data.match(/#Widget Ready/)||0==s.data.indexOf("#light")||0==s.data.indexOf("#widget")||0==s.data.indexOf("#popup")||0==s.data.indexOf("#show")||0==s.data.indexOf("#init")||0==s.data.indexOf("#test")||0==s.data.indexOf("#data"))&&t(s.data)):s.origin.indexOf("sharethis.com")!=-1?(_$d1("arrived in parent from:"),_$d(s.origin),s.data.match(/#fragmentPump/)||s.data.match(/#Buttons Ready/)||s.data.match(/#Widget Ready/)||0==s.data.indexOf("#light")||0==s.data.indexOf("#widget")||0==s.data.indexOf("#popup")||0==s.data.indexOf("#show")||0==s.data.indexOf("#init")||0==s.data.indexOf("#test")||0==s.data.indexOf("#data")?t(s.data):s.data.match(/#Pinterest Click/)?stlib.sharer.sharePinterest():s.data.match(/#Print Click/)&&stlib.sharer.stPrint()):(_$d1("discarded event from:"),_$d(s.origin))},!1)},this.broadcastInit(e),this.receiverInit(t,s)};var domReady=!1,loginPoller=null,accountLinkingPoller=null,importPoller=null,sharPoller=null,getUserInfoTimer=null,isSignedIn=!1,isOauthLinked=!1,fragInstance=null,_shareToEmail=!1,_isEmailShareDone=!1,sharedServices=new Array,failedServices=new Array,reAuthedService="",oAuthService="",oAuthServiceClicked="",oAuthGALogged=!1,_partiallyShared=null,_shownPartial=!1,usrId="",clearShareALInterval=null;stlib.fragmentPump={fragTimer:"",oldQS:"",callBuffer:[],initRun:!1,tstArray:[],bufferArgs:[],bufferValue:[],bufferRunArgs:[],glo_jsonArray:[],glo_jsonStr:"",init:function(){if(stlib.fragmentPump.initRun===!1){stlib.fragmentPump.initRun=!0;for(var e=0;e<arguments.length;e++){""!=arguments[e]&&" "!=arguments[e]&&stlib.setupWidget.addToOptionsBuffer(arguments[e])}domReady===!0&&stlib.setupWidget.processBuffer(),stlib.fragmentPump.initRun=!0}},test:function(){stlib.setupWidget.readyTest()},data:function(){_$d_(),_$d1("Running data() in fragPump.js:"),_$d2("Arguments: "),_$d2(arguments);for(var e=0;e<arguments.length;e++)""!=arguments[e]&&" "!=arguments[e]&&stlib.setupWidget.addToOptionsBuffer(arguments[e])},basicPreInit:function(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),0==stlib.cookie.checkCookiesEnabled()&&0==stlib.cookie.hasLocalStorage()?(document.getElementById("imgCookie").src=("https:"==document.location.protocol?"https://ws.":"http://w.")+"sharethis.com/images/reskin2014/cookie.png",domUtilities.removeClassIfPresent("null","errorOverlay","sts-dn"),domUtilities.addClassIfNotPresent("null","mainContainer","sts-dn"),domUtilities.addClassIfNotPresent("null","signOut","sts-dn"),domUtilities.addClassIfNotPresent("null","signIn","sts-dn")):(domUtilities.addClassIfNotPresent("null","errorOverlay","sts-dn"),domUtilities.removeClassIfPresent("null","mainContainer","sts-dn")),shareWidget.checkOptOut();var e=shareWidget.getConfigOptions();0==e.initWidget&&shareWidget.initWidget(),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},show:function(){if(stlib.fragmentPump.basicPreInit(),0==stlib.fragmentPump.initRun)return!1;for(var e=0;e<arguments.length;e++)stlib.setupWidget.addToOptions(arguments[e]);return!0},popup:function(){shareWidget.setGlobals("popup",!0),stlib.fragmentPump.basicPreInit(),clearInterval(stlib.fragmentPump.fragTimer),glo_options_popup=!0,displayNum=24;for(var e=0;e<arguments.length;e++){stlib.setupWidget.addToOptionsBuffer(arguments[e])}domReady===!0&&stlib.setupWidget.processBuffer(),stlib.fragmentPump.initRun=!0},widget:function(){if(arguments.length)for(var e=arguments[0].split("="),t=0;t<e.length;t+=2)switch(e[t]){case"screen":"home"==e[t+1]?(shareWidget.resetLoadingUI(),shareWidget.showHome()):"send"==e[t+1]?shareWidget.showHome():(clearInterval(loginPoller),loginPoller=setInterval(stUser.checkForLoginCookie,1e3),"fbhome"!=e[t+1]&&"twhome"!=e[t+1]&&"ybhome"!=e[t+1]&&"gbhome"!=e[t+1]||shareWidget.showHome())}},light:function(){if(stlib.fragmentPump.basicPreInit(),0==stlib.fragmentPump.initRun)return!1;for(var e=!1,t=0;t<arguments.length;t++)stlib.setupWidget.addToOptionsLight(arguments[t]),0==arguments[t].indexOf("url")&&(e=!0);return shareWidget.onScreenChange(!0),!0}},stlib.setupWidget={addToOptionsBuffer:function(e){var t=[];if(t=e.split("="),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]),"pageInfo"!=t[0]&&"shareInfo"!=t[0])try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(t[0],t[1])),stlib.fragmentPump.bufferArgs.push(t[0]),stlib.fragmentPump.bufferValue.push(t[1])},checkBufferArg:function(e){for(var t=!1,s=0;s<stlib.fragmentPump.bufferRunArgs.length;s++)stlib.fragmentPump.bufferRunArgs[s]==e&&(t=!0);return t},processBuffer:function(){stlib.fragmentPump.bufferArgs.reverse(),stlib.fragmentPump.bufferValue.reverse();for(var e=0;e<stlib.fragmentPump.bufferArgs.length;e++)stlib.setupWidget.checkBufferArg(stlib.fragmentPump.bufferArgs[e])===!1&&(stlib.fragmentPump.bufferRunArgs.push(stlib.fragmentPump.bufferArgs[e]),shareWidget.setGlobals(stlib.fragmentPump.bufferArgs[e],stlib.fragmentPump.bufferValue[e]))},fragObj:function(e,t){this.frag=e,this.qs=t},readyTest:function(){for(var e=0;e<stlib.fragmentPump.tstArray.length;e++){stlib.fragmentPump.tstArray[e].frag+" = \n"+stlib.fragmentPump.tstArray[e].qs}},addToOptions:function(e){var t=[];t=e.split("="),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(t[0],t[1])),shareWidget.setGlobals(t[0],t[1])},addToOptionsLight:function(e){var t=[];t=e.split("-=-"),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}if(stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(t[0],t[1])),"url"==t[0]){var i=shareWidget.getConfigOptions();i.URL!=t[1]&&1==i.initWidget&&shareWidget.initWidget()}shareWidget.setGlobals(t[0],t[1])},addToOptions2:function(e){var t=[];t=e.split("="),t[0]=decodeURIComponent(t[0]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}"pageHost"==t[0]?shareWidget.setGlobals("hostname",t[1]):"pagePath"==t[0]&&shareWidget.setGlobals("location",t[1]),stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(t[0],t[1])),"done"==t[1]?(fragmentPump.initRun===!1&&(document.location.hash=glo_initFrag),stlib.fragmentPump.glo_jsonStr=stlib.fragmentPump.glo_jsonArray.join(""),stlib.fragmentPump.glo_jsonArray=[],stlib.setupWidget.processFrag()):"jsonData"==t[0]&&stlib.fragmentPump.glo_jsonArray.push(t[1])},processFrag:function(){try{stlib.fragmentPump.glo_jsonStr=decodeURIComponent(stlib.fragmentPump.glo_jsonStr)}catch(e){}var t=stlib.fragmentPump.glo_jsonStr,s=[];try{s=$JSON.decode(t),null==s&&(t=decodeURIComponent(t),s=$JSON.decode(t))}catch(e){t=decodeURIComponent(t),s=$JSON.decode(t)}if(s&&s.length)for(var i=0;i<s.length;i++)shareWidget.setGlobals("title",s[i].title),shareWidget.setGlobals("type",s[i].type),shareWidget.setGlobals("summary",s[i].summary),shareWidget.setGlobals("content",s[i].content),shareWidget.setGlobals("url",s[i].url),shareWidget.setGlobals("short_url",s[i].short_url),shareWidget.setGlobals("icon",s[i].icon),shareWidget.setGlobals("category",s[i].category),shareWidget.setGlobals("updated",s[i].updated),shareWidget.setGlobals("published",s[i].published),shareWidget.setGlobals("author",s[i].author),shareWidget.setGlobals("thumb",s[i].icon),s[i].tags&&shareWidget.setGlobals("glo_tags_array",s[i].tags),s[i].description&&shareWidget.setGlobals("glo_description_array",s[i].description)}},fragInstance=new stlib.pump(window,window,processFromParent);var stUser=function(){var e={};return e.name=null,e.email=null,e.nickname=null,e.recents=null,e.chicklets=null,e.display=null,e.type=null,e.token=null,e.contacts=[],e.loggedIn=!1,e.user_services=null,e.currentUserType=[],e.thirdPartyUsers=[],e.thirdPartyTypes=[],e.facebookFriends=null,e.sta=null,{fillInfoFromStorage:function(t){"undefined"!=typeof t.email&&(e.email=t.email),"undefined"!=typeof t.name&&(e.name=t.name),"undefined"!=typeof t.nickname&&(e.nickname=t.nickname),"undefined"!=typeof t.display&&(e.display=t.display),"undefined"!=typeof t.currentUserType&&(e.currentUserType=t.currentUserType),"undefined"!=typeof t.thirdPartyUsers&&(e.thirdPartyUsers=t.thirdPartyUsers),"undefined"!=typeof t.thirdPartyTypes&&(e.thirdPartyTypes=t.thirdPartyTypes),"undefined"!=typeof t.recents&&(e.recents=t.recents),"undefined"!=typeof t.contacts&&(e.contacts=t.contacts),"undefined"!=typeof t.facebookFriends&&(e.facebookFriends=t.facebookFriends),"undefined"!=typeof t.sta&&(e.sta=encodeURIComponent(t.sta)),shareWidget.postLoginWidget()},setUserContacts:function(t){e.contacts=t},setFacebookFriends:function(t){e.facebookFriends=t},getUserDetails:function(){return e},signOut:function(){if(stlib.cookie.hasLocalStorage()&&window.localStorage.clear(),stlib.gaLogger.gaLog("SignOut - 5xa","Click"),stlib.cookie.deleteCookie("ShareUT"),stlib.cookie.deleteCookie("ShareAL"),stlib.cookie.deleteCookie("recents"),stlib.cookie.deleteCookie("stOAuth"),stlib.cookie.deleteCookie("sta"),e.contacts=[],stUser.forgetUser(),isSignedIn=!1,isOauthLinked=!1,oAuthGALogged=!1,0==stlib.cookie.checkCookiesEnabled()){var t=window.open("http://sharethis.com/account/signout","ShareThis","toolbar=no,status=no,width=1px,height=1px");window.focus(),setTimeout(function(){t.close()},2500)}},forgetUser:function(){e.name=null,e.email=null,e.nickname=null,e.recents=null,e.chicklets=null,e.display=null,e.type=null,e.token=null,e.contacts=[],e.facebookFriends=null,e.loggedIn=!1,e.services=null,e.currentUserType=null,e.thirdPartyUsers=null,e.thirdPartyTypes=null,e.sta=null},checkLogin:function(){clearInterval(getUserInfoTimer),shareWidget.hideError();var e=!1;if(e=stlib.cookie.getCookie("ShareUT"),0!=e&&"undefined"!=e&&"undefined"!=typeof e||0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()&&(e=localStorage.ShareUT),e!==!1&&"undefined"!=e&&"undefined"!=typeof e){var t=[];t=stlib.cookie.checkCookiesEnabled()?["return=json","cb=stUser.loginOnSuccess","service=getUserInfo","from_memcache=false"]:["return=json","cb=stUser.loginOnSuccess","service=getUserInfo","from_memcache=false","token="+e],t=t.join("&"),jsonp.makeRequest(("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+t)}},loginOnSuccess:function(t){var s=shareWidget.getConfigOptions();if(s.isFromSignWidget&&"newhb"==s.widSrc?stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","Signin widget Complete"):s.isFromSignWidget||"newhb"!=s.widSrc?s.isFromSignWidget&&"chrExt"==s.widSrc?stlib.gaLogger.gaLog("Widget_source","Chrome Extension","Signin widget Complete"):s.isFromSignWidget||"chrExt"!=s.widSrc||stlib.gaLogger.gaLog("Widget_source","Chrome Extension","OAuth Complete"):stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","OAuth complete"),stlib.gaLogger.gaLog("SignIn - 5xa","Complete"),t&&"SUCCESS"==t.status){""!=oAuthServiceClicked&&(isSignedIn&&usrId!==t.data.userID&&shareWidget.resetLoadingUI(),shareWidget.autoSelectService(oAuthServiceClicked),oAuthServiceClicked=""),usrId=t.data.userID,isSignedIn=!0,e.email=t.data.email,e.name=t.data.name,e.nickname=t.data.nickname,e.recents=t.data.recipients,null!==e.recents&&stlib.cookie.setCookie("recents",stlib.json.encode(e.recents)),e.display=e.email,e.currentUserType=t.data.CurrentUserType,e.thirdPartyUsers=t.data.ThirdPartyUsers,e.thirdPartyTypes=t.data.ThirdPartyTypes,e.sta=t.data.staHash;for(var i=["facebook","twitter","linkedin"],a=0;a<i.length;a++)null!=e.thirdPartyUsers&&null!=e.thirdPartyUsers[i[a]]&&(null!=e.email&&(e.thirdPartyUsers[i[a]]=e.email),null!=e.name&&(e.thirdPartyUsers[i[a]]=e.name));var n=shareWidget.getConfigOptions();if(1!=n.publisherMigration||oAuthGALogged||("twitter"!=oAuthService&&"facebook"!=oAuthService&&"linkedin"!=oAuthService&&"yahoo"!=oAuthService&&"google"!=oAuthService||(stlib.gaLogger.gaLog("OAuth-Migration",n.publisher+","+n.hostname,oAuthService),oAuthGALogged=!0),oAuthService=""),stlib.cookie.setCookie("stOAuth",stlib.json.encode(e.thirdPartyUsers),365),stlib.cookie.setCookie("sta",encodeURIComponent(e.sta),365),null!=e.thirdPartyUsers&&0!=e.thirdPartyUsers&&"undefined"!=typeof e.thirdPartyUsers&&(isOauthLinked=!0),stlib.cookie.hasLocalStorage()){var r=(stlib.cookie.getCookie("ShareUT"),window.localStorage);if(null!=e.email&&(r.email=e.email),null!=e.name&&(r.name=e.name),null!=e.nickname&&(r.nickname=e.nickname),null!=e.currentUserType&&(r.currentUserType=e.currentUserType),null!=e.thirdPartyUsers){for(var a=0;a<i.length;a++)null!=e.thirdPartyUsers&&null!=e.thirdPartyUsers[i[a]]&&(null!=e.email&&(e.thirdPartyUsers[i[a]]=e.email),null!=e.name&&(e.thirdPartyUsers[i[a]]=e.name));r.thirdPartyUsers=stlib.json.encode(e.thirdPartyUsers)}null!=e.thirdPartyTypes&&(r.thirdPartyTypes=e.thirdPartyTypes),null!=e.recents&&(r.recents=stlib.json.encode(e.recents)),null!=e.contacts&&(r.contacts=e.contacts),null!=e.facebookFriends&&(r.facebookFriends=e.facebookFriends),null!=e.sta&&(r.sta=encodeURIComponent(e.sta))}shareWidget.postLoginWidget()}else shareWidget.showError(lang.strings.msg_failed_login),getUserInfoTimer=setTimeout(stUser.checkLogin,1e4)},checkForAccountLinkingCookie:function(){var e=stlib.cookie.getCookie("ShareAL");if(0!=e&&"undefined"!=e&&"undefined"!=typeof e||0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()&&(e=localStorage.ShareAL),e){if(stlib.gaLogger.gaLog("Linking Successful - 5xa",e),stlib.cookie.hasLocalStorage()&&localStorage.removeItem("ShareAL"),stlib.cookie.deleteCookie("ShareAL"),clearInterval(accountLinkingPoller),stUser.checkLogin(),0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()){setTimeout(function(){var e=localStorage.thirdPartyTypes;0!=e&&"undefined"!=e&&"undefined"!=typeof e||stUser.checkLogin()},3e3)}clearInterval(accountLinkingPoller)}},checkForLoginCookie:function(){var e=stlib.cookie.getCookie("ShareAL"),t=!1;oAuthService=e,e&&(stlib.gaLogger.gaLog("Linking Successful - 5xa",e),stlib.cookie.deleteCookie("ShareAL")),t=stlib.cookie.getCookie("ShareUT"),0!=t&&"undefined"!=t&&"undefined"!=typeof t||0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()&&(t=localStorage.ShareUT),t===!1||"undefined"==t||"undefined"==typeof t||isSignedIn||(stlib.gaLogger.gaLog("Login Successful - 5xa","Thru SignIn Page Or Linking"),clearInterval(loginPoller),stUser.checkLogin(),clearInterval(loginPoller))}}}(),shareWidget=function(){function e(e){var t=" rpChicklet";if(1==j.chicklet_loaded&&(t=" ckimg"),"wordpress"==e){var s=document.createElement("a");return s.className=e,s.className+=t,s.setAttribute("title",stlib.allServices[e].title),s.setAttribute("id","post_"+e+"_link"),s.attachEvent?s.attachEvent("onclick",function(){shareWidget.createWordpressScreen()}):s.setAttribute("onclick","shareWidget.createWordpressScreen()"),s.setAttribute("href","javascript:void(0);"),s.appendChild(document.createTextNode(stlib.allServices[e].title)),null!=j.linkfg&&(s.style.color=j.linkfg),s}if("email"==e){var s=document.createElement("a");return s.className=e,s.className+=t,s.setAttribute("title",stlib.allServices[e].title),s.setAttribute("id","post_"+e+"_link"),s.attachEvent?s.attachEvent("onclick",function(){shareWidget.showEmailScreenFromMoreServices()}):s.setAttribute("onclick","shareWidget.showEmailScreenFromMoreServices()"),s.setAttribute("href","javascript:void(0);"),s.appendChild(document.createTextNode(stlib.allServices[e].title)),null!=j.linkfg&&(s.style.color=j.linkfg),s}var s=document.createElement("a");return s.className=e,s.className+=t,s.setAttribute("href","#"),s.setAttribute("title",stlib.allServices[e].title),s.setAttribute("id","post_"+e+"_link"),s.setAttribute("stservice",e),s.attachEvent?s.attachEvent("onclick",function(){shareWidget.serviceClicked(s)}):s.setAttribute("onclick","shareWidget.serviceClicked(this);"),s.appendChild(document.createTextNode(stlib.allServices[e].title)),null!=j.linkfg&&(s.style.color=j.linkfg),s}function t(e){shareWidget.resetLoadingUI(),shareWidget.showHome()}function s(e){e=e||window.event;var t=e.target||e.srcElement;t.value==lang.strings[t.id]&&(t.value=""),stlib.gaLogger.gaLog(t.id+" - 5xa","focus")}function a(e){e=e||window.event;var t=e.target||e.srcElement;""==t.value&&(t.value=lang.strings[t.id])}function n(e){e=e||window.event;var t=e.target||e.srcElement,s=t.value;document.getElementById("chicklets");if(""==s)return void l(stlib.allServices);try{var i=new RegExp("^"+s,"gi")}catch(a){return!1}try{var n=new RegExp(s,"gi")}catch(a){return!1}var r=0,o=[],d=[];delete stlib.allServices.sharebox;for(var c in stlib.allServices){var u=stlib.allServices[c].title;1==i.test(u)?(d[c]=stlib.allServices[c],r++):1==n.test(u)&&(o[c]=stlib.allServices[c],r++)}for(var g in o)o.hasOwnProperty(g)&&(d[g]=o[g]);return r>0&&l(d),shareWidget.lastSearchTerm=s,!0}function r(){if(j.minorServices||domUtilities.addClassIfNotPresent("null","moreLink","sts-dn"),"undefined"!=typeof j.excludeServices&&null!=j.excludeServices&&""!=j.excludeServices){var e="",t=j.excludeServices.split(","),s=domUtilities.searchElementsByClass("serviceDisplay","a",document.getElementById("services"));for(i in s)e=s[i].getAttribute("data-value"),f(e,t)&&domUtilities.addClassIfNotPresent(s[i],"","sts-dn")}}function l(t){var s,i=document.getElementById("chicklets");i.innerHTML="","undefined"!=typeof t.sharethis&&delete t.sharethis;for(var a in t)"whatsapp"!=a&&"kik"!=a&&(s=e(a),null!=s&&("email"==a?i.insertBefore(s,i.firstChild):i.appendChild(s)));domUtilities.replaceClass("rpChicklet","ckimg"),j.chicklet_loaded=!0}function d(){if(0!=j.mainCssLoaded)return!1;var e="https:"==document.location.protocol?"https://ws.sharethis.com/secure5x/css/share.f06aa6247f5143d42d9d8339457c4a60.css":"http://w.sharethis.com/share5x/css/share.f06aa6247f5143d42d9d8339457c4a60.css";stlib.scriptLoader.loadCSS(e,function(){document.getElementsByTagName("body")[0].style.display="block"}),e="https:"==document.location.protocol?"https://ws.sharethis.com/css/font-awesome/css/font-awesome.min.css":"http://w.sharethis.com/css/font-awesome/css/font-awesome.min.css",stlib.scriptLoader.loadCSS(e,function(){},!0),j.mainCssLoaded=!0}function c(e,t){try{var s=e.replace(/(\w+):\/\/([^\/:]+)(:\d*)?([^# ]*)/,"$2");return t||0!=s.toLowerCase().indexOf("www.")||(s=s.substring(4)),s=s.replace(/#.*?$/,"")}catch(i){return null}}function u(){var e,t=document.getElementById("shareMessage");return e=t.getAttribute("placeholder")==t.value?"":t.value,e.length}function g(){var e=u(),t=document.getElementById("charCounter");e>117?(domUtilities.removeClassIfPresent(t,"","pos"),domUtilities.addClassIfNotPresent(t,"","neg")):(domUtilities.removeClassIfPresent(t,"","neg"),domUtilities.addClassIfNotPresent(t,"","pos")),t.innerHTML=117-e}function h(e){K&&shareWidget.hideError(),e=e||window.event;var t=e.target||e.srcElement;if("A"!=t.tagName&&(t=t.parentNode),!domUtilities.hasClass(t.firstChild,"emailFade")){var s=t.getAttribute("data-value");"email"==s&&shareWidget.onScreenChange(!0);var i=!1;if(domUtilities.hasClass(t,"unchecked")){var a="st_"+s+"_uncheck";if(stlib.cookie.getCookie(a)!==!1&&stlib.cookie.deleteCookie(a),"email"==s)shareWidget.getEmailService(),stlib.gaLogger.gaLog("Intention to use - 5xa",s);else{if(isSignedIn){var n=stUser.getUserDetails();for(var r in n.thirdPartyTypes)if(tempService=n.thirdPartyTypes[r],s==tempService){i=!0;break}}if(i)return stlib.gaLogger.gaLog("Intention to use - 5xa",s),void p(s);oAuthServiceClicked=s,shareWidget.beginOAuth(s)}}else if(domUtilities.hasClass(t,"checked")){oAuthServiceClicked="";var a="st_"+s+"_uncheck";stlib.cookie.getCookie(a)===!1&&stlib.cookie.setCookie(a,1),domUtilities.removeClassIfPresent(t,"","unchecked"),domUtilities.removeClassIfPresent(t,"","checked"),domUtilities.addClassIfNotPresent(t,"","unchecked"),stlib.gaLogger.gaLog("Unchecking.. - 5xa",s),"email"==s?(E(),domUtilities.addClassIfNotPresent("null","emailShareDetails","sts-dn"),domUtilities.addClassIfNotPresent("null","recents","sts-dn"),document.getElementById("shareMessage").style.height="88%",shareWidget.hideError()):"twitter"==s?(Q=!1,domUtilities.addClassIfNotPresent("null","charCounter","sts-dn"),document.getElementById("shareMessage").setAttribute("maxlength",2e3),domUtilities.removeListenerCompatible(document.getElementById("shareMessage"),"keyup",g),w()):"facebook"==s&&(X=!1,_()),jsUtilities.removeElementFromArray(z,s)}}}function m(){domUtilities.hasClass(document.getElementById("shareButton"),"emailFade")||(1==z.length&&"-1"!=z[0].search("facebookfriend")&&""==jsUtilities.trimString(document.getElementById("txtFriendsName").value)&&(z=[]),J?poster.postToWordpress():Y?poster.postToAtt():0==z.length?(shareWidget.showError(lang.strings.msg_no_services_selected),
K=!0):Q?shareWidget.beginMultiShare():(poster.createShar(j.URL),clearInterval(sharPoller),sharPoller=setInterval(function(){""!=poster.getSharURL()&&(clearInterval(sharPoller),shareWidget.beginMultiShare(),clearInterval(sharPoller))},1e3)))}function f(e,t){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1}function p(e){if("undefined"!=typeof j.excludeServices&&null!=j.excludeServices&&""!=j.excludeServices){var t=j.excludeServices.split(",");if(f(e,t))return}var s="st_"+e+"_uncheck";if(stlib.cookie.getCookie(s)===!1){var a=null,n=domUtilities.searchElementsByClass("serviceDisplay","a",document.getElementById("services"));if("undefined"!=typeof n)for(i in n)if(e==n[i].getAttribute("data-value")){a=n[i];break}if(null!=a){if(domUtilities.removeClassIfPresent(a,"","unchecked"),domUtilities.addClassIfNotPresent(a,"","checked"),"twitter"==e){Q=!0;var r,o=document.getElementById("shareMessage");domUtilities.removeClass("null","charCounter","sts-dn"),domUtilities.addListenerCompatible(o,"keyup",g),o.setAttribute("maxlength",117),te||(poster.clearSharURL(),te=!0),poster.createShar(j.URL),clearInterval(sharPoller),sharPoller=setInterval(function(){r=poster.getSharURL(),""!=r&&(clearInterval(sharPoller),Z=!0,b(),clearInterval(sharPoller))},1e3)}else"facebook"==e&&(X=!0,domUtilities.removeClass("null","friendsWall","sts-dn"),!document.all||navigator.appVersion.indexOf("MSIE 7.")==-1&&navigator.appVersion.indexOf("MSIE 6.")==-1||(document.getElementById("extraInfo").style.position="relative",document.getElementById("extraInfo").style.top="5px",document.getElementById("helpText").style.position="relative",document.getElementById("helpText").style.top="10px"));z.push(e),stlib.gaLogger.gaLog("Added Service To Share Queue - 5xa",e)}}}function b(){if(!se)if(Z&&ee){domUtilities.removeClass("null","charCounter","sts-dn"),clearInterval(sharPoller);var e=""!=j.short_url&&null!=j.short_url?j.short_url:poster.getSharURL();if(""==document.getElementById("headline").innerHTML)var t=e;else var t=j.title+" "+e;var s=document.getElementById("shareMessage");if(s.value!=s.getAttribute("placeholder"))var i=s.value;else var i="";var a=i.length;s.getAttribute("placeholder")==i?i=t:i+=""==i?t:" "+t;var n=j.via?" via @"+j.via:" via @sharethis",r=117-(i+n).length;r<0&&(i=i.substring(0,i.length-(" "+e).length),i.length>-1*r?(i=i.substring(0,i.length+r),i+=" "+e):i=e),i+=n,s.value=i,g(),s.setAttribute("twMsgSize",i.length-a),se=!0}else Z&&clearInterval(sharPoller)}function v(){var e="";"newhb"==j.widSrc?(j.isFromSignWidget=!0,stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","Attempting signin widget")):"chrExt"==j.widSrc&&(j.isFromSignWidget=!0,stlib.gaLogger.gaLog("Widget_source","Chrome Extension","Attempting signin widget")),0==stlib.cookie.checkCookiesEnabled()&&0==stlib.cookie.hasLocalStorage()&&(e="?enableTPC=true"),window.open("http://sharethis.com/account/signin-widget"+e,"LoginWindow","scrollbars=1, status=1, height=450, width=970, resizable=1"),clearInterval(loginPoller),loginPoller=setInterval(stUser.checkForLoginCookie,1e3),stlib.gaLogger.gaLog("SignIn - 5xa","Click")}function I(){z=new Array,domUtilities.addClassIfNotPresent("null","signOut","sts-dn"),domUtilities.removeClassIfPresent("null","signIn","sts-dn"),document.getElementById("welcomeMsg").innerHTML=lang.strings.msg_share,document.getElementById("emailshareHeading").innerHTML='<span class="userName"><a href="javascript:void(0);" id="closeEmailLink" class="backToDefault goBackLink checked" data-value="email" title="Close" onclick="shareWidget.closeEmailWidget();">Close</a></span> <em>'+lang.strings.email_msg_share+"</em>",stUser.signOut(),j.isFromSignWidget=!1,"undefined"!=typeof email&&domUtilities.addClassIfNotPresent("null","recents","sts-dn"),domUtilities.replaceClass("checked","unchecked"),domUtilities.replaceClass("ununchecked","unchecked"),Q&&(Q=!1),_(),document.getElementById("shareMessage").value=document.getElementById("shareMessage").getAttribute("placeholder"),shareWidget.showHome()}function k(){var e=["return=json","url="+encodeURIComponent(j.URL),"cb=shareWidget.fillURLInfo","service=getLiveUrlInfo"];e=e.join("&"),jsonp.makeRequest(("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+e)}function y(e){if(e&&domUtilities.removeClass("null","articleDetails","sts-dn"),ee=!0,Q){var t;Z?b():(poster.createShar(j.URL),clearInterval(sharPoller),sharPoller=setInterval(function(){t=poster.getSharURL(),""!=t&&(clearInterval(sharPoller),Z=!0,b(),clearInterval(sharPoller))},1e3))}}function C(){domUtilities.addClassIfNotPresent("null","postFriendsLink","sts-dn"),domUtilities.removeClassIfPresent("null","friendsInputWrapper","sts-dn"),"undefined"==typeof facebook?stlib.scriptLoader.loadJavascript("https:"==document.location.protocol?"https://ws.sharethis.com/secure5x/js/facebook.js":"http://w.sharethis.com/share5x/js/facebook.js",function(){}):facebook.getFacebookFriends(!0),stlib.gaLogger.gaLog("Facebook Friends Wall - 5xa","Click")}function S(){shareWidget.hideError(),domUtilities.addClassIfNotPresent("null","friendsInputWrapper","sts-dn"),domUtilities.removeClassIfPresent("null","postFriendsLink","sts-dn"),document.getElementById("txtFriendsName").value="",domUtilities.removeClassIfPresent("null","txtFriendsName","friendSelected"),stlib.gaLogger.gaLog("Facebook Friends Wall - 5xa","Cancel")}function w(){var e=document.getElementById("shareMessage");e.value!=e.getAttribute("placeholder")&&null!=parseInt(e.getAttribute("twMsgSize"))&&(parseInt(e.getAttribute("twMsgSize"))>0?e.value=e.value.substr(0,e.value.length-parseInt(e.getAttribute("twMsgSize"))):e.value=e.getAttribute("placeholder"),e.setAttribute("twMsgSize",0),se=!1)}function _(){domUtilities.addClass("null","friendsWall","sts-dn"),!document.all||navigator.appVersion.indexOf("MSIE 7.")==-1&&navigator.appVersion.indexOf("MSIE 6.")==-1||(document.getElementById("extraInfo").style.position="static",document.getElementById("extraInfo").style.top="auto",document.getElementById("helpText").style.position="static",document.getElementById("helpText").style.top="auto"),document.getElementById("txtFriendsName").value="",domUtilities.removeClassIfPresent("null","txtFriendsName","friendSelected")}function U(){if(""!=j.customColors.helpTextColor&&(document.getElementById("helpText").style.color=j.customColors.helpTextColor),""!=j.customColors.shareButtonColor&&(document.getElementById("shareButton").style.background=j.customColors.shareButtonColor),""!=j.customColors.headerTextColor&&(document.getElementById("welcomeMsg").style.color=j.customColors.headerTextColor,document.getElementById("doneMsg").style.color=j.customColors.headerTextColor),""!=j.customColors.textBoxFontColor){var e=document.getElementsByTagName("textarea");for(i=0;i<e.length;i++)e[i].style.color=j.customColors.textBoxFontColor;for(e=document.getElementsByTagName("input"),i=0;i<e.length;i++)e[i].style.color=j.customColors.textBoxFontColor}}function L(){stlib.scriptLoader.loadCSS("https:"==document.location.protocol?"https://ws.sharethis.com/secure5x/css/emailShare.css":"http://w.sharethis.com/share5x/css/emailShare.css",function(){},!0),domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),domUtilities.addClassIfNotPresent("null","serviceCTAs","sts-dn"),domUtilities.addClassIfNotPresent("null","welcomeMsg","sts-dn"),domUtilities.removeClassIfPresent("null","emailshareHeading","sts-dn"),domUtilities.addClassIfNotPresent("null","emailShareDetails","sts-dn"),document.getElementById("shareMessage").style.display="none",domUtilities.addClassIfNotPresent("null","extraInfo","sts-dn"),document.getElementById("shareDetails").style.display="none",document.getElementById("emailAuthentication").style.display="block",domUtilities.replaceClass("emailBright","emailFade"),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn"),stlib.gaLogger.gaLog("New Email share page - 5xa","Opened")}function E(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),domUtilities.removeClassIfPresent("null","emailShareDetails","sts-dn"),domUtilities.addClassIfNotPresent("null","serviceCTAs","enabled"),document.getElementById("shareMessage").style.display="block",domUtilities.removeClassIfPresent("null","extraInfo","sts-dn"),document.getElementById("articleDetails").style.display="block",document.getElementById("shareDetails").style.display="block",document.getElementById("emailAuthentication").style.display="none",domUtilities.replaceClass("emailFade","emailBright"),domUtilities.removeClassIfPresent("null","welcomeMsg","sts-dn"),domUtilities.addClassIfNotPresent("null","emailshareHeading","sts-dn"),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function P(e){shareWidget.hideError(),domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),e=e||window.event;var t=e.target||e.srcElement;"A"!=t.tagName&&(t=t.parentNode);var s=t.getAttribute("data-value");shareWidget.beginOAuth(s),stlib.gaLogger.gaLog("New Email share page - 5xa","OAuth_"+s),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function T(e){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),e=e||window.event;var t=e.target||e.srcElement;"A"!=t.tagName&&(t=t.parentNode);var s=t.getAttribute("data-value");reAuthedService=s,shareWidget.beginOAuth(s),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function A(e){return"%"+e.charCodeAt(0).toString(16)}function x(e){return escape(e)}function B(e,t,s){var i="";if(2!=s){i=document.getElementById("shareMessage").value,i!=lang.strings.shareMessage&&"write your comment here..."!=i||(i="");var a=i.match(/http:\/\/.*shar.es/);a&&(i=i.slice(0,i.indexOf(a)))}var n={type:j.type,recipients:"",url:j.URL,title:j.title,comment:i,thumbnail:j.thumb,embed:j.content,description:j.summary,tags:j.tags,sharURL:""!=t?t:j.URL},r="This message was sent using ShareThis (http://www.sharethis.com)",o="\r\n\r\n";""!=j.short_url&&null!=j.short_url&&(n.sharURL=j.short_url),"mailto"==e&&(o=x(o),n.comment&&(n.comment=n.comment.replace(/%/g,A)),n.description&&(n.description=n.description.replace(/%/g,A)));var l=n.sharURL;n.comment&&2!=s&&(l=n.comment+o+l),n.description&&1!=s&&2!=s&&(l+=o+n.description),l+=o+r;var d=l,c=n.recipients?n.recipients:"",u=n.title?n.title:"Message Subject",g=l?l:"Message Body";d=d?d:"Message Body";var h={};h.gmail={href:"https://mail.google.com/mail/?view=cm",su:encodeURIComponent(u),to:c,body:encodeURIComponent(g)},h.yahoo={href:"//compose.mail.yahoo.com/?",Subject:encodeURIComponent(u.replace(/%/g,A).replace(/&/g,A).replace(/#/g,A).replace(/'/g,A).replace(/"/g,A).replace(/>/g,A).replace(/</g,A).replace(/\\n/g,"").replace(/\\r/g,"").replace(/\\/g,"")),To:c,Body:x(d.replace(/#/g,A).replace(/\r\n/g,"<br>"))},h.outlook={href:"//mail.live.com/default.aspx?rru=compose",subject:encodeURIComponent(u),to:c,body:encodeURIComponent(g.replace(/\r\n/g,"<br>").replace(/\(/g,"[").replace(/\)/g,"]"))},h.mailto={href:"mailto:"+c+"?",Subject:u.replace(/%/g,A).replace(/&/g,A).replace(/#/g,A).replace(/'/g,A).replace(/"/g,A).replace(/>/g,A).replace(/</g,A),Body:g.replace(/&/g,A).replace(/#/g,A).replace(/'/g,A).replace(/"/g,A).replace(/>/g,A).replace(/</g,A)};var m="";for(var f in h[e])"href"==f?m+=h[e][f]:("mailto"==e&&"Subject"==f||(m+="&"),m+=f+"="+h[e][f]);return m}function W(e){for(var t=0;t<e.length;t++)clearTimeout(e[t])}function O(e,t,s){var i=1200;_shareToEmail=!0,shareWidget.updateServiceCount(z[0],"Email");var a=B(t,s,null);i<encodeURIComponent(a).length&&(a=B(t,s,1)),i<encodeURIComponent(a).length&&(a=B(t,s,2)),stlib.data.resetShareData();var n="";n=stlib.cookie.getCookie("ShareUT"),0!=n&&"undefined"!=n&&"undefined"!=typeof n||(n=0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()?localStorage.ShareUT:""),stlib.data.set("url",j.URL,"shareInfo"),stlib.data.set("short_url",j.short_url,"shareInfo"),stlib.data.set("title",j.title,"shareInfo"),stlib.data.set("destination","email","shareInfo"),stlib.data.set("destinations","email","shareInfo"),stlib.data.set("ip","","shareInfo"),stlib.data.set("agent",navigator.userAgent,"shareInfo"),stlib.data.set("clicookie",stlib.cookie.getCookie("__stid"),"shareInfo"),stlib.data.set("token",n,"shareInfo"),stlib.data.set("buttonType",j.type,"shareInfo"),stlib.data.set("emailDestination","email","shareInfo"),stlib.data.set("sharURL",s,"shareInfo"),stlib.data.setSource("5x",j),stlib.sharer.share(null,null),stlib.gaLogger.shareLog("email"),stlib.gaLogger.gaLog("New Email share page - 5xa","External_"+t),e.location=a,"mailto"==t&&setTimeout(function(){e.close()},1e3),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn"),E(),domUtilities.addClassIfNotPresent("null","doneScrMessage","minors"),shareWidget.showMinorShareMsg(),shareWidget.showDoneScreen(!0,!0)}function M(e){shareWidget.hideError();var t="";poster.createShar(j.URL),e=e||window.event;var s=e.target||e.srcElement;"A"!=s.tagName&&(s=s.parentNode);var i,a,n=s.getAttribute("data-value"),r=window.open("");if(r){var o="";switch(n){case"gmail":o="Connecting you to GMail";break;case"yahoo":o="Connecting you to Yahoo! Mail";break;case"outlook":o="Connecting you to Outlook";break;case"mailto":o="Connecting you to your native email client"}var l="<!DOCTYPE><html><head><title>"+o+'</title></head><body><div id="lightbox" style="height:41px; width:410px; z-index:+1; position:fixed; border:4px solid #ccc; top:40%; left:33%; padding:8px; background-color:#eee; text-align:center; -moz-border-radius:9px; -webkit-border-radius:9px; border-radius:9px;"><div style="margin-right:10px"><span id="lightboxText" style="color:#777; font-family:Tahoma; font-size:1.3em;">'+o+'</span><span style="display:block; font-size:0.7em;color:#999; padding-top:4px;">It will be just a second..</span></div></div><div id="overlay" style="width: 99%; height: 100%; opacity: 0.9;background-color:#000;position:fixed;"></div></body></html>';r.document.write(l),a=setInterval(function(){t=poster.getSharURL(),""!=t&&(W([a,i]),O(r,n,t))},100),i=setTimeout(function(){W([a,i]),O(r,n,"")},5e3)}else shareWidget.showError("Please disable your popup-blocker!")}function R(e){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),e=e||window.event;var t=e.target||e.srcElement;"DIV"!=t.tagName&&(t=t.parentNode),"lastUsedEmailTitle"==t.id&&domUtilities.hasClass(document.getElementById("recents_list"),"sts-dn")?(domUtilities.removeClassIfPresent("null","recents_list","sts-dn"),domUtilities.removeClassIfPresent("null","fa-caret-down","sts-dn"),domUtilities.addClassIfNotPresent("null","fa-caret-right","sts-dn")):(domUtilities.addClassIfNotPresent("null","recents_list","sts-dn"),domUtilities.addClassIfNotPresent("null","fa-caret-down","sts-dn"),domUtilities.removeClassIfPresent("null","fa-caret-right","sts-dn")),"contactsBox"!=t.id&&domUtilities.addClassIfNotPresent("null","contactsBox","sts-dn"),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function N(e,t){if(!domUtilities.hasClass(e,"emailFade")&&e.hasChildNodes()){var s=e.getElementsByTagName("SPAN");t?(s[0].style.display="none",s[1].style.display="inline"):(s[1].style.display="none",s[0].style.display="inline")}}function F(e,t,s){s=s?s:" .&nbsp;.&nbsp;.";var i=e.length;s.length;return i<t?e:e=e.substring(0,t-s.length)+s}function H(){var e,i,r,o;e=$.getElementsByTagName("textarea");for(r in e)i=domUtilities.addListenerCompatible(e[r],"focus",jsUtilities.clearTextArea),i=domUtilities.addListenerCompatible(e[r],"blur",jsUtilities.fillTextArea);var l=document.getElementById("moreLink");l&&(domUtilities.addListenerCompatible(l,"mouseover",function(){N(l,!0)}),domUtilities.addListenerCompatible(l,"mouseout",function(){N(l,!1)}),domUtilities.addListenerCompatible(l,"click",shareWidget.showAll)),domUtilities.addListenerCompatible(document.getElementById("lessLink"),"click",shareWidget.showHome),e=domUtilities.searchElementsByClass("serviceDisplay","a","");for(r in e)i=domUtilities.addListenerCompatible(e[r],"click",h);domUtilities.addListenerCompatible(document.getElementById("shareButton"),"click",m),domUtilities.addListenerCompatible(document.getElementById("cancelButton"),"click",function(){shareWidget.showHome(),shareWidget.getEmailService()}),domUtilities.addListenerCompatible(document.getElementById("cancelLink"),"click",shareWidget.showHome),domUtilities.addListenerCompatible(document.getElementById("againLink"),"click",t),domUtilities.addListenerCompatible(document.getElementById("againBackLink"),"click",shareWidget.showHome),domUtilities.addListenerCompatible(document.getElementById("emailBackLink"),"click",shareWidget.showEmailScreenFromDoneScreen),domUtilities.addListenerCompatible(document.getElementById("emailBackLink2"),"click",shareWidget.showEmailScreenFromDoneScreen),domUtilities.addListenerCompatible(document.getElementById("signOut"),"click",I),domUtilities.addListenerCompatible(document.getElementById("signIn"),"click",v),domUtilities.addListenerCompatible(document.getElementById("postFriendsLink"),"click",C),domUtilities.addListenerCompatible(document.getElementById("cancelFriendsWall"),"click",S),e=domUtilities.searchElementsByClass("oAuthService","a","");for(r in e)o=domUtilities.addListenerCompatible(e[r],"click",P);e=domUtilities.searchElementsByClass("externalEmailService","a","");for(r in e)o=domUtilities.addListenerCompatible(e[r],"click",M);o=domUtilities.addListenerCompatible(document.getElementById("closeEmailLink"),"click",shareWidget.closeEmailWidget),domUtilities.addListenerCompatible($,"click",R),e=domUtilities.searchElementsByClass("defaultText","input","");for(r in e)domUtilities.addListenerCompatible(e[r],"focus",s),domUtilities.addListenerCompatible(e[r],"blur",a);var d=document.getElementById("chicklet_search_field");domUtilities.addListenerCompatible(d,"keyup",n),domUtilities.addListenerCompatible(d,"input",n)}var D=[];D[1]="themeOne",D[2]="themeTwo",D[3]="themeThree",D[4]="themeFour",D[5]="themeFive",D[6]="themeSix",D[7]="themeSeven",D[8]="themeEight",D[9]="themeNine";var j={};j.oldURL=null,j.URL=null,j.short_url=null,j.title=null,j.sessionID=null,j.fpc=null,j.publisher=null,j.browser=null,j.services=[],j.publisher=null,j.icon,j.content,j.i18n=!1,j.lang=null,j.guid,j.guid_index,j.published,j.author,j.updated,j.summary="",j.thumb="",j.pThumb="",j.message="",j.via=null,j.tags,j.hostname,j.location,j.headerTitle,j.headerfg,j.purl,j.top_config={},j.exclusive_config={},j.guid_config={},j.email_config={},j.sms_config={},j.merge_config={},j.chicklet_config={},j.top_config.services="email,facebook,twitter,linkedin,yahoo",j.exclusive_config.services=null,j.displayServices=[],j.topDisplayServices=[],j.chickletNumber=6,j.guid_config.index=0,j.page="home",j.toolbar=!1,j.metaInfo=null,j.mainCssLoaded=!1,j.pageTracker=null,j.pubTracker=null,j.tracking=!1,j.lastURL=null,j.sharURL=null,j.poster=null,j.linkfg=null,j.email_config.service=!0,j.sms_config.service=!0,j.merge_config.list=!0,j.chicklet_loaded=!1,j.initWidget=!1,j.ga=null,j.popup=!1,j.cssInterval=null,j.stLight=!1,j.optout=!1,j.doneScreen=!0,j.urlhash=null,j.theme=1,j.headerText="",j.customColors={serviceBarColor:"",shareButtonColor:"",footerColor:"",headerTextColor:"",helpTextColor:"",mainWidgetColor:"",textBoxFontColor:""},j.excludeServices=null,j.minorServices=!0,j.iconsLoaded=!1,j.facebookFriends=null,j.customUrlPassed=!1,j.shorten=!0,j.publisherGA=null,j.isFromSignWidget=!1,j.widSrc=null;var $=document.getElementById("outerContainer"),z=new Array,G={};G.facebook="450",G.twitter="684",G.yahoo="500",G.google="550",G.linkedin="600";var V={};V.facebook="300",V.twitter="718",V.yahoo="460",V.google="400",V.linkedin="433";var q=!1,J=!1,Y=!1,K=!1,Q=!1,X=!1,Z=!1,ee=!1,te=!1,se=!1;return{checkOptOut:function(){stlib.cookie.getCookie("st_optout")!==!1&&stlib.cookie.deleteAllSTCookie()},getConfigOptions:function(){return j},autoSelectService:function(e){if("undefined"!=typeof e&&""!=e){var t="st_"+e+"_uncheck";stlib.cookie.getCookie(t)!==!1&&stlib.cookie.deleteCookie(t),p(e)}},onScreenChange:function(e){e?stFade.fadeIn("outerContainer"):stFade.fadeOut("outerContainer")},resetLoadingUI:function(){domUtilities.replaceClass("checked","unchecked"),domUtilities.replaceClass("ununchecked","unchecked");var e=["facebook","twitter","linkedin"];"undefined"!=typeof J&&(J=!1),"undefined"!=typeof Y&&(Y=!1);for(var t=0,s=e.length;t<s;t++){var i=e[t],a="st_"+i+"_uncheck";stlib.cookie.getCookie(a)===!1&&stlib.cookie.setCookie(a,1),"facebook"==i?X=!1:"twitter"==i&&(Q=!1,domUtilities.addClassIfNotPresent("null","charCounter","sts-dn"),document.getElementById("shareMessage").setAttribute("maxlength",2e3),domUtilities.removeListenerCompatible(document.getElementById("shareMessage"),"keyup",g),w()),jsUtilities.removeElementFromArray(z,i)}},setGlobals:function(e,t){if("pageInfo"!=e&&"shareInfo"!=e){try{t=decodeURIComponent(t)}catch(s){}try{t=decodeURIComponent(t)}catch(s){}}switch("true"==t?t=!0:"false"==t&&(t=!1),e){case"url":t=stlib.html.encode(t),null==j.URL?j.oldURL=t:j.URL!=t&&(j.oldURL=j.URL),j.customUrlPassed=!0,j.URL=t,1==j.popup&&shareWidget.initWidget();var i=c(t);null==i?i=j.URL:null==j.hostname&&(j.hostname=i),j.sharURL=t;break;case"short_url":j.short_url=t;break;case"popup":j.popup=t;break;case"title":j.title=t;break;case"pUrl":if(1!=j.popup||null==j.URL){null==j.URL?j.oldURL=t:j.URL!=t&&(j.oldURL=j.URL),j.customUrlPassed=!0,j.URL=t;var i=c(t);null==i?i=t:null==j.hostname&&(j.hostname=i)}break;case"fpc":j.fpc=t;break;case"shorten":j.shorten=t;break;case"sessionID":j.sessionID=t;break;case"i18n":if(j.i18n=t,j.i18n&&stlib.cookie.getCookie("sti18n")!==!1){var a=stlib.json.decode(stlib.cookie.getCookie("sti18n"));null==j.lang&&(j.lang={},j.lang.strings=new Object);for(var n in a)j.lang.strings[n]=a[n]}break;case"publisher":j.publisher=t;break;case"pageInfo":stlib.data.pageInfo=stlib.json.decode(t),stlib.data.pageInfo.product=encodeURIComponent(stlib.data.pageInfo.product),j.widSrc=stlib.data.get("widSrc","pageInfo"),(j.widSrc||null!=j.widSrc)&&stlib.data.unset("widSrc","pageInfo");break;case"doNotHash":stlib.hash.doNotHash=t;break;case"servicePopup":j.servicePopup=t;break;case"via":j.via=t;break;case"type":j.type=t;break;case"service":j.service=t;var r=t,o="st_"+r+"_uncheck";stlib.cookie.getCookie(o)!==!1&&stlib.cookie.deleteCookie(o);break;case"summary":j.summary=t;break;case"message":j.message=t,document.getElementById("shareMessage").value=j.message;break;case"content":j.content=t;break;case"icon":j.icon=t;break;case"image":j.thumb=t,j.pThumb=t;break;case"category":j.category=t;break;case"updated":j.updated=t;break;case"author":j.author=t;break;case"published":j.published=t;break;case"thumb":j.thumb=t,j.pThumb=t;break;case"hostname":j.hostname=t;break;case"location":j.location=t;break;case"guid_index":j.guid_index=t;break;case"page":j.page=t,t&&"send"==t?shareWidget.getEmailService():t&&"home"==t?shareWidget.showHome():t&&"wphome"==t?shareWidget.createWordpressScreen():(clearInterval(loginPoller),loginPoller=setInterval(stUser.checkForLoginCookie,1e3),t&&"fbhome"==t?shareWidget.showHome():t&&"twhome"==t?shareWidget.showHome():t&&"ybhome"==t?shareWidget.showHome():t&&"gbhome"==t?shareWidget.showHome():t&&"lihome"==t&&shareWidget.showHome());break;case"toolbar":j.toolbar=t;break;case"services":j.services=t;break;case"headerTitle":j.headerText=t;break;case"headerfg":var l=document.getElementById("header_div");l.style.color=t;break;case"headerbg":var l=document.getElementById("header_div");l.style.backgroundColor=t;break;case"tracking":j.tracking=!0;break;case"linkfg":j.linkfg=t;break;case"textcause":var l=document.getElementById("stCause");l&&(t.length>30&&(t=t.substring(0,11)+" ..... "+t.substr(t.length-12)),l.innerHTML=t);break;case"linkcause":var l=document.getElementById("stCause");l&&(l.href=t,l.style.display="inline-block");break;case"tabs":var d=new RegExp(/email|send/);0==d.test(t)&&(j.email_service=!1),0==d.test(t)&&(j.sms_service=!1);break;case"send_services":var d=new RegExp(/email/);0==d.test(t)&&(j.email_service=!1);break;case"exclusive_services":j.merge_list=!1;break;case"post_services":null==j.services?j.services=t:j.service+=t;break;case"stLight":j.stLight=!0;break;case"doneScreen":j.doneScreen=t;break;case"theme":break;case"headerText":j.headerText=t;break;case"serviceBarColor":j.customColors.serviceBarColor=t;break;case"shareButtonColor":j.customColors.shareButtonColor=t;break;case"footerColor":j.customColors.footerColor=t;break;case"headerTextColor":j.customColors.headerTextColor=t;break;case"helpTextColor":j.customColors.helpTextColor=t;break;case"mainWidgetColor":j.customColors.mainWidgetColor=t;break;case"textBoxFontColor":j.customColors.textBoxFontColor=t;break;case"excludeServices":j.excludeServices=t;break;case"minorServices":j.minorServices=t;break;case"publisherGA":j.publisherGA=t;break;case"relatedDomain":j.relatedDomain=t;break;case"publisherMigration":j.publisherMigration=t;break;case"embeds":case"button":case"type":case"inactivefg":case"inactivebf":case"headerbg":case"style":case"charset":case"hash_flag":case"onmouseover":case"inactivebg":case"send_services":case"buttonText":case"offsetLeft":case"offsetTop":case"buttonText":}},initWidget:function(){if(d(),q=!1,stUser.checkLogin(),j.URL!=j.oldURL&&(Z=!1,te=!1,se=!1,j.thumb="",j.pThumb="",j.summary="",j.title=null,document.getElementById("shareMessage").value=document.getElementById("shareMessage").getAttribute("placeholder")),null==j.URL)return!0;domUtilities.replaceClass("tempWidgetIcons","widgetIcons"),domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),!document.all||navigator.appVersion.indexOf("MSIE 7.")==-1&&navigator.appVersion.indexOf("MSIE 6.")==-1||(document.getElementById("services").style.height="auto"),domUtilities.addClassIfNotPresent("null","articleDetails","sts-dn"),shareWidget.hideError(),j.chicklet_loaded=!1,r(),te||(poster.clearSharURL(),te=!0),U(),"undefined"!=typeof j.headerText&&""!=j.headerText&&(j.headerText.length>50&&(j.headerText=j.headerText.substring(0,47)+"..."),lang.strings.msg_share=j.headerText,document.getElementById("welcomeMsg").innerHTML=lang.strings.msg_share);var e=["return=json","url="+encodeURIComponent(j.URL),"fpc="+j.fpc,"cb=shareWidget.initWidgetOnSuccess","service=initWidget"];return e=e.join("&"),jsonp.makeRequest(("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+e),!0},initWidgetOnSuccess:function(e){if(e&&"SUCCESS"==e.status&&(j.metaInfo=e.data),domUtilities.replaceClass("rpChicklet","ckimg"),j.initWidget=!0,e&&e.data&&e.data.ga&&1==e.data.ga&&(stlib.cookie.getCookie("st_optout")!==!1||stlib.gaLogger.initGA("UA-1645146-17",shareWidget.getConfigOptions())),"undefined"!=typeof j.URL&&""!=j.URL&&"undefined"!=typeof j.title&&""!=j.title&&"undefined"!=typeof j.summary&&""!=j.summary&&"undefined"!=typeof j.thumb&&""!=j.thumb){var t=""!=j.short_url&&null!=j.short_url?j.short_url:j.URL;domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn"),document.getElementById("thumbnail").setAttribute("src",j.thumb),document.getElementById("headline").innerHTML=F(j.title,124,!1),document.getElementById("snippet").innerHTML=F(j.summary,124,!1),document.getElementById("url").innerHTML=F(t,75,!1),document.getElementById("url").setAttribute("href",t),y(!0)}else k(),y(!1)},initialize:function(){var e=!1,t=navigator.userAgent,s=/bot|gomez|keynote/gi;if(t&&null!==t&&t.length>4){var i=t.match(s);i&&null!==i&&i.length>0&&(e=!0)}else e=!0;if(1==stlib.fragmentPump.initRun&&stlib.setupWidget.processBuffer(),domReady=!0,"undefined"!=typeof lang&&"undefined"!=typeof lang.strings&&null!=j.lang&&"undefined"!=typeof j.lang.strings)for(var a in j.lang.strings)lang.strings[a]=j.lang.strings[a];if(setTimeout(function(){document.getElementById("moreLinkText").innerHTML=lang.strings.msg_view_all,document.getElementById("lessLink").innerHTML="&laquo; "+lang.strings.msg_hide_all,document.getElementById("sharedMsg").innerHTML=lang.strings.msg_share_success,document.getElementById("againLink").innerHTML=lang.strings.msg_againLink+" &raquo;",document.getElementById("txtYourAddr").value=lang.strings.msg_email_to,document.getElementById("txtYourAddr").setAttribute("placeholder",lang.strings.msg_email_to),document.getElementById("txtFromAddr").value=lang.strings.msg_email_from,document.getElementById("txtFromAddr").setAttribute("placeholder",lang.strings.msg_email_from),document.getElementById("helpText").innerHTML=lang.strings.msg_share_to_destinations,document.getElementById("welcomeMsg").innerHTML=lang.strings.msg_share,document.getElementById("chicklet_search_field").value=lang.strings.chicklet_search_field,document.getElementById("chicklet_search_field").setAttribute("placeholder",lang.strings.chicklet_search_field),document.getElementById("signOut").innerHTML=lang.strings.msg_signout},100),stlib.cookie.getCookie("st_optout")!==!1&&(j.optout=!0,j.fpc="optout"),H(),stlib.cookie.getCookie("ShareUT")!==!1&&stlib.cookie.hasLocalStorage()){stlib.cookie.getCookie("ShareUT")}},getEmailService:function(e){stlib.gaLogger.gaLog("Chicklet - 5xa","Email"),_shareToEmail=!1,_isEmailShareDone=!1,document.all&&navigator.appVersion.indexOf("MSIE 6.")!=-1&&(document.getElementById("services").style.height="auto",document.getElementById("creditLine").style.position="relative"),p("email"),L()},serviceClicked:function(e){_$d_(),_$d1("Clicked on a 5xa small chicklet to share.");var t=e.getAttribute("stservice"),s=e.getAttribute("title");stlib.data.resetShareData(),stlib.data.set("url",j.URL,"shareInfo"),stlib.data.set("short_url",j.short_url,"shareInfo"),stlib.data.set("shorten",j.shorten,"shareInfo"),stlib.data.set("title",j.title,"shareInfo"),stlib.data.set("buttonType",j.type,"shareInfo"),stlib.data.set("destination",t,"shareInfo"),stlib.data.setSource("5x",j),"twitter"==t&&null!=j.via&&stlib.data.set("via",j.via,"shareInfo"),"undefined"!=typeof j.thumb&&null!=j.thumb&&stlib.data.set("image",j.thumb,"shareInfo"),"undefined"!=typeof j.summary&&null!=j.summary&&stlib.data.set("description",j.summary,"shareInfo"),""!=j.message&&stlib.data.set("message",j.message,"shareInfo"),"pinterest"==t&&""==j.pThumb&&(stlib.data.unset("image","shareInfo"),stlib.browser.ieFallback?"undefined"!=typeof window.postMessage&&""!==document.referrer&&parent.postMessage("#Pinterest Click",document.referrer):fragInstance.broadcastSendMessage("Pinterest Click")),stlib.sharer.share(null,j.servicePopup),shareWidget.updateServiceCount(t,s),domUtilities.addClassIfNotPresent("null","doneScrMessage","minors"),shareWidget.showMinorShareMsg(),stlib.gaLogger.gaLog("Share - 5xa",t),"print"==t?("undefined"!=typeof window.postMessage&&parent.postMessage("ShareThis|close|Print",document.referrer),stlib.browser.ieFallback?"undefined"!=typeof window.postMessage&&""!==document.referrer&&parent.postMessage("#Print Click",document.referrer):fragInstance.broadcastSendMessage("Print Click")):shareWidget.showDoneScreen(!0),j.chicklet_loaded=!1,stlib.gaLogger.shareLog(t)},showAll:function(){if(!domUtilities.hasClass(document.getElementById("moreLink"),"emailFade")){if(shareWidget.onScreenChange(!0),shareWidget.hideError(),!j.chicklet_loaded){if(document.getElementById("chicklet_search_field").value=lang.strings.chicklet_search_field,j.URL!=j.oldURL)for(var e=document.getElementById("chicklets");e.childNodes.length>=1;)e.removeChild(e.firstChild);l(stlib.allServices)}domUtilities.removeClassIfPresent("null","moreServices","sts-dn"),j.minorServices&&domUtilities.addClassIfNotPresent("null","moreLink","sts-dn"),domUtilities.removeClassIfPresent("null","moreTitle","sts-dn"),domUtilities.addClassIfNotPresent("null","welcomeMsg","sts-dn"),domUtilities.addClassIfNotPresent("null","mainBody","sts-dn"),domUtilities.addClassIfNotPresent("null","serviceCTAs","sts-dn"),stlib.gaLogger.gaLog("Widget - 5xa","show_all")}},showEmailScreenFromDoneScreen:function(){shareWidget.showHome(),p("email"),L()},showEmailScreenFromMoreServices:function(){
shareWidget.hideAll(),shareWidget.getEmailService()},hideAll:function(){shareWidget.onScreenChange(!0),domUtilities.addClassIfNotPresent("null","moreServices","sts-dn"),j.minorServices&&domUtilities.removeClassIfPresent("null","moreLink","sts-dn"),domUtilities.removeClassIfPresent("null","welcomeMsg","sts-dn"),domUtilities.removeClassIfPresent("null","mainBody","sts-dn"),domUtilities.removeClassIfPresent("null","serviceCTAs","sts-dn"),domUtilities.addClassIfNotPresent("null","moreTitle","sts-dn"),j.chicklet_loaded=!1,domUtilities.addClassIfNotPresent("null","moreTitle","sts-dn"),stlib.gaLogger.gaLog("Widget - 5xa","hide_all")},fillURLInfo:function(e){var t="https:"==document.location.protocol?"https://ws.sharethis.com/secure5x/images/no-image.png":"http://w.sharethis.com/share5x/images/no-image.png",s=!1,i=!1,a="",n="";domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn"),e&&"SUCCESS"==e.status&&(s=!0,a="undefined"!=typeof e.urls[0].img&&"null"!=e.urls[0].img&&""!=e.urls[0].img&&e.urls[0].img.indexOf("http://sharethis.com/share/thumb")==-1||e.urls[0].imagehash&&""!=e.urls[0].imagehash?e.urls[0].imagehash&&""!=e.urls[0].imagehash?"http://img.sharethis.com/"+e.urls[0].imagehash+"/100_100.jpg":e.urls[0].img:""),"undefined"!=typeof j.thumb&&""!=j.thumb?(i=!0,n=j.thumb):s?(j.thumb=a,""==a&&(a=t),n=a):(j.thumb="",n=t),document.getElementById("thumbnail").setAttribute("src",n),"undefined"!=typeof j.title&&""!=j.title?(i=!0,document.getElementById("headline").innerHTML=F(j.title,124,!1)):s&&"undefined"!=typeof e.urls[0].title?(document.getElementById("headline").innerHTML=F(e.urls[0].title,124,!1),j.title=e.urls[0].title):(j.title="",domUtilities.addClassIfNotPresent("null","headline","sts-dn")),"undefined"!=typeof j.summary&&""!=jsUtilities.trimString(j.summary)?(i=!0,document.getElementById("snippet").innerHTML=F(j.summary,124,!1)):s&&"undefined"!=typeof e.urls[0].snippet?(document.getElementById("snippet").innerHTML=F(e.urls[0].snippet,124,!1),j.summary=e.urls[0].snippet,""==jsUtilities.trimString(e.urls[0].snippet)?domUtilities.addClassIfNotPresent("null","snippet","sts-dn"):domUtilities.removeClassIfPresent("null","snippet","sts-dn")):(j.summary="",domUtilities.addClassIfNotPresent("null","snippet","sts-dn"));var r=""!=j.short_url&&null!=j.short_url?j.short_url:j.URL;document.getElementById("url").innerHTML=F(r,75,!1),document.getElementById("url").setAttribute("href",r),s?(j.urlhash=e.urls[0].urlhash,y(!0)):i?domUtilities.removeClassIfPresent("null","articleDetails","sts-dn"):y(!1)},addFriendsWallToQueue:function(e){for(var t=!1,s=0;s<z.length;s++)"-1"!=z[s].search("facebookfriend")&&(z[s]="facebookfriend-"+e,t=!0);t||z.push("facebookfriend-"+e)},beginOAuth:function(e){clearInterval(clearShareALInterval),"newhb"==j.widSrc?stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","Attempting OAuth"):"chrExt"==j.widSrc&&stlib.gaLogger.gaLog("Widget_source","Chrome Extension","Attempting OAuth"),stlib.gaLogger.gaLog("Attempting OAuth - 5xa",e);var t;t="http://sharethis.com/account/linking?provider="+e,window.open(t,"AccountLinkingWindow","status=1, height="+V[e]+", width="+G[e]+", resizable=1"),clearInterval(loginPoller);var s=!0,i=0;clearShareALInterval=setInterval(function(){var e=stlib.cookie.getCookie("ShareAL");e&&stlib.cookie.deleteCookie("ShareAL"),stlib.cookie.hasLocalStorage()&&localStorage.ShareAL&&s?(localStorage.removeItem("ShareAL"),s=!1,clearInterval(clearShareALInterval)):i>25&&clearInterval(clearShareALInterval),i+=1},100),stlib.cookie.checkCookiesEnabled()?loginPoller=setInterval(stUser.checkForLoginCookie,1e3):accountLinkingPoller=setInterval(stUser.checkForAccountLinkingCookie,1e3)},postLoginWidget:function(){0==stlib.cookie.checkCookiesEnabled()&&0==stlib.cookie.hasLocalStorage()||(domUtilities.removeClassIfPresent("null","signOut","sts-dn"),domUtilities.addClassIfNotPresent("null","signIn","sts-dn"));var e=stUser.getUserDetails(),t=e.name?e.name:e.nickname,s=lang.strings.msg_share;if(t.length>14)var i=t.slice(0,14)+"..";else var i=t;var a=lang.strings.msg_greeting.length,n=a+2+i.length+lang.strings.msg_share.length;n>50&&(s=lang.strings.msg_share.substring(0,22)+"..."),document.getElementById("welcomeMsg").innerHTML=' <span class="userName" id="welcomeName" title="'+t+'"> '+lang.strings.msg_greeting+" "+i+' <span>|</span>  <a href="javascript:void(0);" id="signOutTop">Not you?</a></span><em>'+s+"</em>",document.getElementById("emailshareHeading").innerHTML='<span class="userName"><a href="javascript:void(0);" id="closeEmailLink" class="backToDefault goBackLink checked" data-value="email" title="Close" onclick="shareWidget.closeEmailWidget();">Close</a></span> <em>'+lang.strings.email_msg_share+"</em>",domUtilities.addListenerCompatible(document.getElementById("signOutTop"),"click",function(){I(),0==stlib.cookie.checkCookiesEnabled()?setTimeout(function(){v()},3e3):v()}),domUtilities.addListenerCompatible(document.getElementById("signOutTopEmail"),"click",function(){I(),0==stlib.cookie.checkCookiesEnabled()?setTimeout(function(){v()},3e3):v()}),isSignedIn=!0,domUtilities.removeClassIfPresent("null","postFriendsLink","sts-dn"),domUtilities.addClassIfNotPresent("null","friendsInputWrapper","sts-dn"),domUtilities.addClassIfNotPresent("null","failureError","sts-dn");for(var r=0,o=failedServices.length;r<o;r++)if(1==o)shareWidget.showHome();else{if(failedServices[r]&&failedServices[r].hasOwnProperty(reAuthedService)){failedServices.splice(r,1);continue}shareWidget.makeReauthLink(failedServices)}},beginMultiShare:function(){shareWidget.onScreenChange(!0),clearInterval(sharPoller);var e={};e.url=poster.getSharURL(),""==e.url&&(e.url=j.URL),e.title=escape(j.title),e.urlhash=j.urlhash,_shareToEmail=!1;var t=!0;for(var s in z)"-1"!=z[s].search("facebookfriend")?stlib.gaLogger.shareLog("facebookfriend"):stlib.gaLogger.shareLog(z[s]),"email"==z[s]?(email.hasError=!1,_shareToEmail=!0,domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),"block"===document.getElementById("emailAuthentication").style.display?(email.hasError=!0,shareWidget.showError(lang.strings.msg_emailshare_direct_click)):email.createMessage(),shareWidget.updateServiceCount(z[s],"Email")):(t=!1,"twitter"==z[s]?shareWidget.updateServiceCount(z[s],"Tweet"):"facebook"==z[s]?shareWidget.updateServiceCount(z[s],"Share"):"yahoo"==z[s]?shareWidget.updateServiceCount(z[s],"Y! Pulse"):"linkedin"==z[s]?shareWidget.updateServiceCount(z[s],"LinkedIn"):"-1"!=z[s].search("facebookfriend")&&(shareWidget.updateServiceCount(z[s],"Share"),""==jsUtilities.trimString(document.getElementById("txtFriendsName").value)&&z.splice(s,1)));_shareToEmail&&email.hasError||X&&"undefined"!=typeof facebook&&0==facebook.checkFriendName()||z.length>0&&!t&&(poster.multiPost(stUser.getUserDetails(),e,z,jsUtilities.stripHTML(document.getElementById("shareMessage").value)),domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"))},updateServiceCount:function(e,t){var s=stlib.json.decode(stlib.cookie.getCookie("ServiceHistory"));if(0==s||null==s||s.length<1)return s={},s[e]={},s[e].service=e,s[e].title=t,s[e].count=1,stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(s)),!0;var i=!1,a=[];for(o in s)s[o].service==e&&(s[o].count++,s[o].title=t,i=!0),a.push(s[o]);if(0==i)s[e]={},s[e].service=e,s[e].title=t,s[e].count=1;else{a.sort(function(e,t){return t.count-e.count}),s={};for(var n=0;n<a.length;n++)s[a[n].service]=a[n]}return stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(s)),!0},createWordpressScreen:function(){shareWidget.onScreenChange(!0),shareWidget.updateServiceCount("wordpress","Wordpress"),null==j.title&&(j.title=j.URL),j.poster="wordpress",stlib.gaLogger.gaLog("Wordpress - 5xa","poster_clicked");var e=["errorMsg","emailShareDetails","emailshareHeading","services","helpText","moreServices","moreTitle","charCounter","greyScreen","extraInfo"];for(var t in e)domUtilities.addClassIfNotPresent("null",e[t],"sts-dn");var s=["welcomeMsg","mainBody","preShareScreen","serviceCTAs","cancelLink"];for(var t in s)domUtilities.removeClassIfPresent("null",s[t],"sts-dn");var i=document.getElementById("shareMessage");i.value="YourBlogNameHere.wordpress.com",i.setAttribute("placeholder","YourBlogNameHere.wordpress.com"),i.setAttribute("maxlength",128),J=!0},showMoreFromSingleDone:function(){domUtilities.addClassIfNotPresent("null","doneTitle","sts-dn"),domUtilities.addClassIfNotPresent("null","doneScreen","sts-dn"),domUtilities.removeClassIfPresent("null","preShareScreen","sts-dn"),q=!1,shareWidget.showAll()},showMoreServicesFromEmailScreen:function(){E(),shareWidget.showAll()},closeEmailWidget:function(){stlib.gaLogger.gaLog("New Email share page - 5xa","email_close_clicked"),"undefined"!=typeof window.postMessage&&parent.postMessage("ShareThis|close|Email",document.referrer)},showPartialDoneScreen:function(){domUtilities.hasClass(document.getElementById("partialShared"),"sts-dn")&&shareWidget.onScreenChange(!0),domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),shareWidget.showError(lang.strings.msg_share_partial),domUtilities.addClassIfNotPresent("null","preShareScreen","sts-dn"),domUtilities.addClassIfNotPresent("null","doneScreen","sts-dn"),domUtilities.addClassIfNotPresent("null","serviceCTAs","sts-dn"),domUtilities.removeClassIfPresent("null","partialShared","sts-dn"),document.getElementById("partialSuccess").innerHTML=document.getElementById("sharedServices").innerHTML,domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},showDoneScreen:function(e,t){domUtilities.hasClass(document.getElementById("doneScreen"),"sts-dn")&&shareWidget.onScreenChange(!0);var s=stlib.browser.getIEVersion(),i=s?null:stlib.browser.isFirefox(),a=i?null:stlib.browser.isSafari(),n=a?null:stlib.browser.isOpera(),r=n?null:stlib.browser.isChrome();if(domUtilities.removeClassIfPresent("null","errorMsg","captchaError"),domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),0==q&&e){shareWidget.hideError(),q=!0,domUtilities.removeClass("null","doneTitle","sts-dn"),domUtilities.removeClass("null","doneMsg","sts-dn"),domUtilities.removeClassIfPresent("null","mainContainer","sts-dn");var o=["preShareScreen","partialShared","serviceCTAs","moreServices","moreTitle","welcomeMsg","greyScreen","emailshareHeading"];for(var l in o)domUtilities.addClassIfNotPresent("null",o[l],"sts-dn");if(z.length>0?(domUtilities.addClassIfNotPresent("null","emailBackLink","sts-dn"),domUtilities.addClassIfNotPresent("null","againBackLink","sts-dn"),domUtilities.removeClassIfPresent("null","againLink","sts-dn")):(domUtilities.addClassIfNotPresent("null","againLink","sts-dn"),domUtilities.addClassIfNotPresent("null","emailBackLink","sts-dn"),domUtilities.removeClassIfPresent("null","againBackLink","sts-dn"),t&&(domUtilities.addClassIfNotPresent("null","againBackLink","sts-dn"),domUtilities.removeClassIfPresent("null","emailBackLink","sts-dn"))),0==j.doneScreen||null==url)domUtilities.addClassIfNotPresent("null","doneScreen","sts-dn");else{domUtilities.removeClassIfPresent("null","doneScreen","sts-dn");for(var d=["stBtnChrome","stBtnExplorer","stBtnFirefox","stBtnSafari","stBtnOpera"],c="",l=0,u=d.length;l<u;l++)c=s?"stBtnExplorer":r?"stBtnChrome":a?"stBtnSafari":n?"stBtnOpera":"stBtnFirefox",domUtilities.replaceClass(d[l],c);var g=("https:"==document.location.protocol?"https://ws.":"http://w.")+"sharethis.com/images/reskin2014/";s?(document.getElementById("multiIE").src=g+"share_success.png",domUtilities.removeClassIfPresent("null","multiIE","sts-dn")):r?(document.getElementById("multiChrome").src=g+"share_success.png",domUtilities.removeClassIfPresent("null","multiChrome","sts-dn")):a?(document.getElementById("multiSafari").src=g+"share_success.png",domUtilities.removeClassIfPresent("null","multiSafari","sts-dn")):n?(document.getElementById("multiOpera").src=g+"share_success.png",domUtilities.removeClassIfPresent("null","multiOpera","sts-dn")):(document.getElementById("multiFF").src=g+"share_success.png",domUtilities.removeClassIfPresent("null","multiFF","sts-dn"))}}else e||shareWidget.showError(lang.strings.msg_failed_share);domUtilities.removeClassIfPresent("null","mainBody","sts-dn"),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},getEmailElement:function(){var e=document.getElementById("bigEmailService");return e},showHome:function(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),shareWidget.onScreenChange(!0),E(),oAuthServiceClicked="",shareWidget.hideError(),j.chicklet_loaded=!1;var e=0;domUtilities.removeClassIfPresent("null","greyScreen","cookieDisabled");var t=["emailCaptchaTPCMessage","doneScreen","greyScreen","emailshareHeading","emailShareDetails","moreServices","doneTitle","moreTitle","cancelLink","charCounter"],s=["mainContainer","mainBody","preShareScreen","shareMessage","serviceCTAs","services","helpText","extraInfo","welcomeMsg","serviceNames"];for(j.minorServices&&s.push("moreLink"),e=0;e<t.length;e++)domUtilities.addClassIfNotPresent("null",t[e],"sts-dn");for(e=0;e<s.length;e++)domUtilities.removeClassIfPresent("null",s[e],"sts-dn");domUtilities.hasClass(document.getElementById("doneScreen"),"sts-dn")||domUtilities.addClassIfNotPresent("null","welcomeMsg","sts-dn");var i=document.getElementById("toolbarUpsell");"undefined"!=i&&null!=i&&"undefined"!=typeof i&&i.parentNode.removeChild(i);var a=document.getElementById("shareMessage");!document.all||navigator.appVersion.indexOf("MSIE 7.")==-1&&navigator.appVersion.indexOf("MSIE 6.")==-1||(document.getElementById("articleDetails").style.marginTop="-10px"),se=!1,a.setAttribute("placeholder",lang.strings.shareMessage),w(),Q?(a.value="",b()):(a.setAttribute("maxlength",2e3),a.value=lang.strings.shareMessage),document.getElementById("txtFriendsName").value="",domUtilities.removeClassIfPresent("null","txtFriendsName","friendSelected"),q=!1,J=!1,Y=!1,g(),shareWidget.hidePartialDone(),shareWidget.resetDoneScreen(),domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},showError:function(e){document.getElementById("errorMsg").innerHTML=e,domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn"),domUtilities.removeClassIfPresent("null","errorMsg","sts-dn")},hideError:function(){domUtilities.addClassIfNotPresent("null","errorMsg","sts-dn")},showMinorShareMsg:function(){document.getElementById("doneMsg").innerHTML=lang.strings.msg_top_singleShared,domUtilities.addClassIfNotPresent("null","againLink","sts-dn"),domUtilities.removeClassIfPresent("null","againBackLink","sts-dn");var e=document.getElementById("sharedMsg");e.innerHTML="",e.appendChild(document.createTextNode(lang.strings.msg_share_again));var t=document.createElement("A");t.setAttribute("title",""),e.appendChild(t)},makeReauthLink:function(e){"undefined"!=typeof e&&e||(e=failedServices);var t=document.getElementById("partialReauth"),s=document.getElementById("partialFail"),i=document.getElementById("incompleteServices"),a=document.getElementById("failureError");t.innerHTML=s.innerHTML=i.innerHTML=a.innerHTML="",a.appendChild(document.createTextNode("Log back in to complete your share: "));var n=e.length;if(n>0){for(var r={facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",email:"Email"},o="",l=0;l<n;l++)if(e[l])for(var d in e[l])if(e[l].hasOwnProperty(d)&&r.hasOwnProperty(d)){var c=r[d];o+=(o?", ":"")+c;var u=document.createTextNode(c),g=document.createElement("A"),h=document.createElement("STRONG");g.setAttribute("title",c),g.setAttribute("data-value",d),g.style.color="#007794",g.style.textDecoration="underline",g.setAttribute("href","javascript:void(0);"),g.appendChild(u),l>0&&h.appendChild(document.createTextNode(", "));var m=g.cloneNode(!0),f=h.cloneNode(!0);domUtilities.addListenerCompatible(g,"click",T),domUtilities.addListenerCompatible(m,"click",T),h.appendChild(g),f.appendChild(m),t.appendChild(h),a.appendChild(f)}o=o.replace(/,([^,]*)$/," &amp; $1"),s.innerHTML=o,i.innerHTML=o}},showSharedServices:function(e){if("undefined"!=typeof e&&e){var t=document.getElementById("sharedServices");if(t){domUtilities.removeClassIfPresent(t,"null","sts-dn");var s={facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",email:"Email"},i="",a=sharedServices.length;if(a>1){for(var n=0;n<a;n++)for(var r in sharedServices[n])s.hasOwnProperty(r)&&sharedServices[n][r]&&i.indexOf(s[r])==-1&&(i+=(i?", ":"")+s[r]);i=i.replace(/,([^,]*)$/," &amp; $1")}else s.hasOwnProperty(e)?i=s[e]:(i=t.innerHTML,i=i.substring(0,i.length-3));t.innerHTML=i,domUtilities.removeClassIfPresent("null","sharedMsg","sts-dn")}}},showFailedServices:function(e){var t=document.getElementById("incompleteSharedMsg");if(t){domUtilities.removeClassIfPresent(t,"null","sts-dn"),t.innerHTML="";var s=lang.strings.msg_share_fail,i=" - ",a=lang.strings.msg_againLink;t.appendChild(document.createTextNode(s));var n=document.createElement("SPAN");n.setAttribute("id","incompleteServices"),t.appendChild(n),t.appendChild(document.createTextNode(i));var r=document.createElement("A");r.setAttribute("title",a),r.attachEvent?r.attachEvent("onclick",function(){shareWidget.showHome()}):r.setAttribute("onclick","shareWidget.showHome()"),r.style.color="#007794",r.setAttribute("href","javascript:void(0);"),r.appendChild(document.createTextNode(a)),t.appendChild(r)}},showSuccess:function(e){var t=document.getElementById("doneMsg");t&&(t.innerHTML=lang.strings.msg_top_shareSuccess),shareWidget.showSharedServices(e)},showFail:function(e){var t=document.getElementById("doneMsg");if(t&&(t.innerHTML=lang.strings.msg_top_shareFail),e){shareWidget.showFailedServices(e);var s=document.getElementById("doneMsg");s&&(s.innerHTML="Sharing Incomplete!"),domUtilities.addClassIfNotPresent(document.getElementById("sharedMsg"),"null","sts-dn"),domUtilities.removeClassIfPresent("null","failureError","sts-dn"),shareWidget.makeReauthLink(failedServices);var i=stUser.getUserDetails();delete i.thirdPartyUsers[e];for(var a in i.thirdPartyTypes)if(e==i.thirdPartyTypes[a]){i.thirdPartyTypes.splice(a,1);break}var n=stlib.cookie.getCookie("stOAuth");n&&(n=stlib.json.decode(n),delete n[e],stlib.cookie.setCookie("stOAuth",stlib.json.encode(n),365))}},hidePartialDone:function(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn"),shareWidget.onScreenChange(!0),shareWidget.hideError(),failedServices.splice(0,failedServices.length),domUtilities.addClassIfNotPresent("null","partialShared","sts-dn"),_shownPartial=!1,document.getElementById("partialSuccess").innerHTML="",document.getElementById("partialFail").innerHTML="",document.getElementById("partialReauth").innerHTML="",reAuthedService="",domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},resetDoneScreen:function(){sharedServices.splice(0,sharedServices.length),domUtilities.addClassIfNotPresent("null","failureError","sts-dn"),domUtilities.addClassIfNotPresent("null","incompleteSharedMsg","sts-dn"),domUtilities.removeClassIfPresent(document.getElementById("incompleteSharedMsg").firstChild,"null","reddish"),document.getElementById("failureError").hasChildNodes()&&domUtilities.removeClassIfPresent(document.getElementById("failureError").firstChild,"null","reddish");var e=document.getElementById("sharedMsg");e&&(e.innerHTML=lang.strings.msg_share_success),domUtilities.addClassIfNotPresent("null","sharedServices","sts-dn"),e=document.getElementById("sharedServices"),e&&(e.innerHTML=""),e=document.getElementById("doneMsg"),e&&(e.innerHTML=lang.strings.msg_top_shareSuccess)}}}(),poster=function(){var e=!1,t="";return{clearSharURL:function(){t="",e=!1},createShar:function(s){var i=shareWidget.getConfigOptions();if(""!==s&&" "!==s&&null!==s&&!e){if(1!=i.shorten)return t=s,e=!0,!0;var a=["return=json","cb=poster.createShar_onSuccess","service=createSharURL","url="+encodeURIComponent(s)];a=a.join("&"),jsonp.makeRequest(("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+a)}},createShar_onSuccess:function(s){"SUCCESS"==s.status&&(t=s.data.sharURL,e=!0)},getSharURL:function(){return t},postToWordpress:function(e){var t=shareWidget.getConfigOptions(),s=document.getElementById("shareMessage").value;if(s=s.replace(/^https?:\/\//,""),""==jsUtilities.trimString(s)||s==document.getElementById("shareMessage").getAttribute("placeholder"))shareWidget.showError(lang.strings.msg_empty_wp);else{_$d_(),_$d1("Submitted wordpress share"),shareWidget.hideError(),stlib.data.resetShareData(),stlib.data.set("url",t.URL,"shareInfo"),stlib.data.set("short_url",t.short_url,"shareInfo"),stlib.data.set("title",t.title,"shareInfo"),stlib.data.set("buttonType",t.type,"shareInfo"),stlib.data.set("destination","wordpress","shareInfo"),stlib.data.setSource("5x",t);var i="";0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()&&(i=localStorage.ShareUT),i===!1||"undefined"==i||"undefined"==typeof i||stlib.cookie.checkCookiesEnabled()||stlib.data.set("token",i,"shareInfo"),"undefined"!=typeof t.thumb&&null!=t.thumb&&stlib.data.set("image",t.thumb,"shareInfo"),"undefined"!=typeof t.summary&&null!=t.summary&&stlib.data.set("description",t.summary,"shareInfo"),stlib.data.set("wpurl",s,"shareInfo"),stlib.sharer.share(null,t.servicePopup),shareWidget.showMinorShareMsg(),shareWidget.showDoneScreen(!0)}return!0},post_onSuccess:function(e){var t=!0;e?"undefined"!=typeof e.status&&"SUCCESS"==e.status?"undefined"!=typeof e.statusMessage?("EMAIL_SUCCESSFUL"==e.statusMessage&&(sharedServices.push({email:1}),shareWidget.showSuccess("email")),"LINKEDIN_POST_SUCCESSFUL"==e.statusMessage&&(sharedServices.push({linkedin:1}),shareWidget.showSuccess("linkedin")),"FACEBOOK_POST_SUCCESSFUL"==e.statusMessage&&(/error/.test(e.postID)?(sharedServices.push({facebook:0}),failedServices.push({facebook:1}),shareWidget.showFail("facebook"),t=!1):(sharedServices.push({facebook:1}),shareWidget.showSuccess("facebook")))):(sharedServices.push({twitter:1}),shareWidget.showSuccess("twitter")):(t=!1,"undefined"!=typeof e.statusMessage?(""!=e.statusMessage&&"LINKEDIN_POST_FAILED"!=e.statusMessage||(sharedServices.push({linkedin:0}),failedServices.push({linkedin:1}),shareWidget.showFail("linkedin")),"FACEBOOK_OAUTH_PERMISSIONS"!=e.statusMessage&&"FACEBOOK_GET_PERMISSIONS_FAILED"!=e.statusMessage&&"FACEBOOK_OAUTH_TOKEN_EXPIRED"!=e.statusMessage&&"FACEBOOK_PERMISSIONS_MISSING"!=e.statusMessage&&"FACEBOOK_POST_FAILED"!=e.statusMessage||(sharedServices.push({facebook:0}),failedServices.push({facebook:1}),shareWidget.showFail("facebook")),"POST_TWITTER_SERVICE_FAILED"==e.statusMessage&&(e.errorMessage&&1==e.errorMessage.length&&187==e.errorMessage[0].code?(t=!0,sharedServices.push({twitter:1}),shareWidget.showSuccess("twitter")):(sharedServices.push({twitter:0}),failedServices.push({twitter:1}),shareWidget.showFail("twitter")))):(sharedServices.push({twitter:0}),failedServices.push({twitter:1}),shareWidget.showFail("twitter"))):(shareWidget.showFail(),t=!1),(_shareToEmail&&_isEmailShareDone||!_shareToEmail)&&(null===_partiallyShared||t===_partiallyShared&&_shownPartial!==!0?(_partiallyShared=t,shareWidget.showDoneScreen(!0)):(shareWidget.showPartialDoneScreen(),_shownPartial=!0)),domUtilities.removeClassIfPresent("null","doneScrMessage","minors")},multiPost:function(e,t,s,i){_$d_(),_$d1("Starting a Multipost"),_$d2("User:"),_$d(e),_$d2("The object with article information:"),_$d(t),_$d2("The Services:"),_$d(s),_$d2("The Comment:"),_$d(i),_$d_();var a=shareWidget.getConfigOptions();i.match(/http:\/\/.*shar.es/);stlib.gaLogger.gaLog("Multi-Post - 5xa",s.toString()),_partiallyShared=null;for(var n in s)if(_$d1("Processing MultiShare: "+s[n]),"email"!=s[n]){stlib.gaLogger.gaLog("Posting to.. - 5xa",s[n]),stlib.data.resetShareData(),stlib.data.set("url",a.URL,"shareInfo"),stlib.data.set("short_url",a.short_url,"shareInfo"),stlib.data.set("sharURL",t.url,"shareInfo"),stlib.data.set("title",t.title,"shareInfo"),stlib.data.set("image",a.thumb,"shareInfo"),stlib.data.set("description",a.summary,"shareInfo"),stlib.data.set("buttonType",a.type,"shareInfo"),stlib.data.set("destination",s[n],"shareInfo"),stlib.data.setSource("oauth5x",a);var r="";0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()&&(r=localStorage.ShareUT),r===!1||"undefined"==r||"undefined"==typeof r||stlib.cookie.checkCookiesEnabled()||stlib.data.set("token",r,"shareInfo");var o=i;i==lang.strings.shareMessage&&(i=""),o==lang.strings.shareMessage&&(o=""),stlib.data.set("comment",i,"shareInfo");var l=s[n];switch("-1"!=s[n].search("facebookfriend")&&(l="facebookfriend",stlib.data.set("destination","facebookfriend","shareInfo")),l){case"twitter":if(o.length>117){var d=o.slice(o.indexOf("http"),o.indexOf("http")+24);o=o.slice(0,112)+"... "+d}stlib.data.set("comment",o,"shareInfo");break;case"facebook":break;case"yahoo":break;case"linkedin":break;case"facebookfriend":var c=s[n].slice(s[n].indexOf("-")+1);stlib.data.set("friend_id",c,"shareInfo")}stlib.sharer.oauth.share(poster.post_onSuccess)}}}}();if("undefined"!=typeof window.addEventListener?window.addEventListener("load",shareWidget.initialize,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("load",shareWidget.initialize,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onload",shareWidget.initialize),"undefined"==typeof lang){var lang={};lang.strings=new Object,lang.strings.msg_no_services_selected="Oops, an error : please select a service below to share to.",lang.strings.msg_no_email_recipients="Please enter a valid recipient email address.",lang.strings.msg_valid_email_add_from='Please enter a valid email address in the "From" field.',lang.strings.msg_valid_recipients="Please enter a valid recipient",lang.strings.msg_share="Share this with your friends",lang.strings.email_msg_share="Select your email service",lang.strings.msg_view_all="More",lang.strings.msg_hide_all="Back",lang.strings.msg_share_success="Your message was successfully shared to ",lang.strings.msg_share_again="Successfully Shared!",lang.strings.msg_related_shares="Most Popular Articles",lang.strings.msg_get_button="Get the button!",lang.strings.msg_get_toolbar="Get the add-on now!",lang.strings.msg_put_sharethis="Easily share your favorite finds online with a click of a button",lang.strings.msg_email_privacy="Privacy Policy",lang.strings.msg_import_contacts="Import contacts",lang.strings.msg_signout="Sign out",lang.strings.msg_failed_login="An error occured during login. Retrying..",lang.strings.msg_empty_wp="Please enter a valid wordpress blog address below to share.",lang.strings.msg_empty_att="Please enter a valid client ID below to share.",lang.strings.msg_email_to="To",lang.strings.msg_email_from="From",lang.strings.msg_share_to_destinations="Pick one or more destinations:",lang.strings.msg_failed_share="There was an error while sharing. Please try again.",lang.strings.msg_facebook_friend="Please enter a valid Facebook friend name.",lang.strings.msg_greeting="Hi",lang.strings.msg_top_emailshare="Sign in to share via email",lang.strings.msg_emailshare_direct_click="Please login to send email.",lang.strings.chicklet_search_field="Search for services",lang.strings.shareMessage="Write your comment here...",lang.strings.txtYourAddr="To",lang.strings.txtFromAddr="From",lang.strings.msg_top_singleShared="",lang.strings.msg_top_shareSuccess="Successfully Shared!",lang.strings.msg_top_shareFail="Sharing incomplete!",lang.strings.msg_againLink="Share again",lang.strings.msg_share_fail="Your message could not be shared. ",lang.strings.msg_share_partial="Looks like there's been a bit of a hiccup"}
//# sourceMappingURL=maps/st.84f29100ead9edd0093ccea4ee334f87.js.map
