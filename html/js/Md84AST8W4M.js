self.CavalryLogger&&CavalryLogger.start_js(["un5DC"]),__d("FunnelRegistry",[],function(n,e,t,i,o,u){o.exports={WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_CAMPFIRE_COMPOSER_UPSELL_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_FORM_CREATION_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_HASHTAG_PROMPT_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,WWW_MISINFO_WARNING_FOOTER_FUNNEL:!0,MTOUCH_MISINFO_WARNING_FOOTER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0}},null),__d("FunnelAction",[],function(n,e,t,i,o,u){"use strict";function _(n,e,t,i){this.$FunnelAction1={},this.$FunnelAction1[a]=n,this.$FunnelAction1[N]=e,void 0!==t&&(this.$FunnelAction1[l]=t),void 0!==i&&(this.$FunnelAction1[r]=JSON.stringify(i))}var a="name",r="payload",N="relative_time",l="tag";_.prototype.getData=function(){return this.$FunnelAction1},o.exports=_},null),__d("Funnel",["invariant","FunnelAction","FunnelRegistry","sprintf"],function(n,e,t,i,o,u,_){"use strict";function a(n,t,i,o){e("FunnelRegistry")[n]===!0||_(0),this.$Funnel1=n,this.$Funnel2=t,this.$Funnel3=[],this.$Funnel4={},this.$Funnel5=i,this.$Funnel6=Date.now(),this.timeout_sec=T,this.shouldTrackFocus=!1,this.$Funnel7=o,this.devModeLogger("Started funnel")}var r="name",N="instance_id",l="start_time",E="tags",F="actions",c="sampling_rate",s="timeout_sec",d={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"},g={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"},T=600;a.prototype.addTag=function(n){return"string"==typeof n||_(0),this.$Funnel4[n]=!0,this.devModeLogger("Added funnel tag %s",n),this},a.prototype.appendAction=function(n,t,i){return this.$Funnel3.push(new(e("FunnelAction"))(n,Date.now()-this.$Funnel6,t,i)),t?this.devModeLogger("Appended action %s with tag %s",n,t):this.devModeLogger("Appended action %s",n),this.$Funnel8=n,this},a.prototype.appendActionIfNew=function(n,e,t){return n!==this.$Funnel8&&this.appendAction(n,e,t),this},a.prototype.getLogData=function(){var n={};n[r]=this.$Funnel1,void 0!==this.$Funnel2?n[N]=this.$Funnel2:n[N]=Math.floor(65536*Math.random()),n[l]=this.$Funnel6,n[c]=this.$Funnel5,n[s]=this.timeout_sec,n[E]=[];for(var e in this.$Funnel4)this.$Funnel4[e]===!0&&n[E].push(e);if(this.$Funnel3.length>0){n[F]=[];for(var t=0;t<this.$Funnel3.length;t++)n[F].push(this.$Funnel3[t].getData())}return n},a.prototype.devModeLogger=function(){},a.prototype.getTags=function(){return this.$Funnel4},o.exports={Funnel:a,EndType:d,ActionType:g}},null),__d("FunnelLoggerSampler",["FunnelLoggerConfig"],function(n,e,t,i,o,u){"use strict";function _(n){var e=a(n);return 0!==e&&Math.random()*e<1}function a(n){var t=e("FunnelLoggerConfig").freq[n];return void 0===t&&(t=e("FunnelLoggerConfig").freq["default"]),t}o.exports={shouldLog:_,getSamplingRate:a}},null),__d("FunnelLogger",["invariant","Banzai","Funnel","FunnelRegistry","FunnelLoggerSampler","MarauderLogger"],function(n,e,t,i,o,u,_){"use strict";function a(n,t){var i=S(n,t);w(),M(i),e("FunnelLoggerSampler").shouldLog(n)&&(G[i]=new(e("Funnel").Funnel)(n,t,e("FunnelLoggerSampler").getSamplingRate(n),(!1)),v(i))}function r(n,e){var t=S(n,e);return f(t)?G[t]:null}function N(n,e){}function l(n,e,t){void 0===t?O(n,void 0,e):t&&O(n,e,t)}function E(n,e){var t=S(n,e);f(t)&&(G[t].devModeLogger("Cancelled funnel"),U(t),G[t]=void 0)}function F(n,t){var i=S(n,t);f(i)&&(G[i].appendAction(e("Funnel").ActionType.ACTION_END,e("Funnel").EndType.EXPLICIT),D(i))}function c(n,e,t){void 0===t?h(n,void 0,String(e)):h(n,Number(e),t)}function s(n,e,t){void 0===t?R(n,void 0,Boolean(e)):R(n,Number(e),t)}function d(n,e,t){void 0===t?m(n,void 0,String(e),void 0):m(n,Number(e),t,void 0)}function g(n,e,t){void 0===t?C(n,void 0,String(e),void 0):C(n,Number(e),t,void 0)}function T(n,e,t,i){void 0===i?m(n,void 0,String(e),t):m(n,Number(e),t,i)}function A(n,e,t,i){void 0===i?C(n,void 0,String(e),t):C(n,Number(e),t,i)}function L(n,e,t,i){void 0===i?m(n,void 0,String(e),void 0,t):m(n,Number(e),String(t),void 0,i)}function I(n,e,t,i){void 0===i?C(n,void 0,String(e),void 0,t):C(n,Number(e),String(t),void 0,i)}function W(n,e,t,i,o){void 0===o?m(n,void 0,String(e),t,i):m(n,Number(e),String(t),String(i),o)}function p(n,e,t,i,o){void 0===o?C(n,void 0,String(e),t,i):C(n,Number(e),String(t),String(i),o)}function S(n,t){return e("FunnelRegistry")[n]===!0||_(0),void 0===t||null===t?n:n+t.toString()}function f(n){return void 0!==G[n]}function O(n,e,t){var i=S(n,e);f(i)&&(G[i].timeout_sec=t,G[i].devModeLogger("Timeout set to %d sec",t),v(i))}function v(n){U(n),G[n].timeout_handle=setTimeout(function(){G[n].appendAction(e("Funnel").ActionType.ACTION_END,e("Funnel").EndType.TIMEOUT),D(n)},1e3*G[n].timeout_sec)}function U(n){G[n].timeout_handle&&clearTimeout(G[n].timeout_handle)}function h(n,e,t){var i=S(n,e);f(i)&&(G[i].addTag(t),v(i))}function R(n,e,t){var i=S(n,e);f(i)&&(G[i].shouldTrackFocus=t,G[i].devModeLogger("Focus tracking %s",t?"on":"off"))}function m(n,e,t,i,o){var u=S(n,e);f(u)&&(G[u].appendAction(t,i,o),v(u))}function C(n,e,t,i,o){var u=S(n,e);f(u)&&G[u].appendActionIfNew(t,i,o)}function M(n){f(n)&&(G[n].appendAction(e("Funnel").ActionType.ACTION_END,e("Funnel").EndType.RESTART),D(n))}function D(n){if(f(n)){var t=G[n].getLogData();e("MarauderLogger").log("funnel_analytics",null,t),G[n].devModeLogger("Logged: %s",JSON.stringify(t)),U(n),G[n]=void 0}}function y(){for(var n in G)G.hasOwnProperty(n)&&f(n)&&(G[n].appendAction(e("Funnel").ActionType.ACTION_END,e("Funnel").EndType.SESSION_END),D(n))}function $(){if(k){k=!1;for(var n in G)G.hasOwnProperty(n)&&f(n)&&G[n].shouldTrackFocus&&(G[n].appendAction(e("Funnel").ActionType.ACTION_WINDOW_BLUR),U(n))}}function P(){if(!k){k=!0;for(var n in G)G.hasOwnProperty(n)&&f(n)&&G[n].shouldTrackFocus&&(G[n].appendAction(e("Funnel").ActionType.ACTION_WINDOW_FOCUS),U(n))}}function w(){B||(B=!0,window.addEventListener&&(e("Banzai").subscribe(e("Banzai").SHUTDOWN,y),window.addEventListener("blur",$),window.addEventListener("focus",P)))}var G={},B=!1,k=!0;o.exports={startFunnel:a,startFunnel_DEV_MODE:N,setFunnelTimeout:l,setFunnelTrackFocus:s,addFunnelTag:c,appendAction:d,appendActionIfNew:g,appendActionWithTag:T,appendActionWithTagIfNew:A,appendActionWithPayload:L,appendActionWithPayloadIfNew:I,appendActionWithTagAndPayload:W,appendActionWithTagAndPayloadIfNew:p,cancelFunnel:E,endFunnel:F,getFunnelInstance:r}},null),__d("UFIReactionsFunnelLogger",["FunnelLogger","UFIReactionTypes"],function(n,e,t,i,o,u){"use strict";var _="WWW_COMMENT_REACTIONS_NUX_FUNNEL",a="WWW_REACTIONS_NUX_FUNNEL",r=e("UFIReactionTypes").reactions,N=60,l="like_button_enter",E="like_button_click",F="reaction_click",c="menu_show",s="nux_close_click",d={_getFunnelName:function(n){return n?_:a},nuxShow:function(n,t){e("FunnelLogger").startFunnel(this._getFunnelName(t)),n&&e("FunnelLogger").addFunnelTag(this._getFunnelName(t),n),e("FunnelLogger").setFunnelTimeout(this._getFunnelName(t),N)},nuxCloseClick:function(n){e("FunnelLogger").appendAction(this._getFunnelName(n),s)},likeButtonEnter:function(n,t){n&&r[n]?e("FunnelLogger").appendActionWithTag(this._getFunnelName(t),l,r[n].name):e("FunnelLogger").appendAction(this._getFunnelName(t),l)},likeButtonClick:function(n){e("FunnelLogger").appendAction(this._getFunnelName(n),E)},menuShow:function(n){e("FunnelLogger").appendAction(this._getFunnelName(n),c)},reactionSelection:function(n,t){if(n&&r[n]){var i=r[n].name;e("FunnelLogger").appendActionWithTag(this._getFunnelName(t),F,i)}else e("FunnelLogger").appendAction(this._getFunnelName(t),F);e("FunnelLogger").endFunnel(this._getFunnelName(t))}};o.exports=d},null),__d("isEmail",[],function(n,e,t,i,o,u){function _(n){return a.test(n)}var a=/^[\w!#\$%&'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&'\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i;o.exports=_},null),__d("replaceNativeTimer",["clearInterval","clearTimeout","setInterval","setTimeout","requestAnimationFrame"],function(n,e,t,i,o,u){e("setTimeout").nativeBackup=n.setTimeout,e("clearTimeout").nativeBackup=n.clearTimeout,e("setInterval").nativeBackup=n.setInterval,e("clearInterval").nativeBackup=n.clearInterval,e("requestAnimationFrame").nativeBackup=n.requestAnimationFrame,n.setTimeout=e("setTimeout"),n.clearTimeout=e("clearTimeout"),n.setInterval=e("setInterval"),n.clearInterval=e("clearInterval"),n.requestAnimationFrame=e("requestAnimationFrame")},null);
//# sourceMappingURL=maps/Md84AST8W4M.js.map
